{"ast":null,"code":"import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport invariant from 'tiny-invariant';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\n\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\n\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nfunction shouldRecover(error) {\n  return error.message.indexOf('Invariant failed') !== -1;\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.onError = void 0;\n\n    _this.setOnError = function (fn) {\n      _this.onError = fn;\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      if (_this.onError) {\n        _this.onError();\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\n      }\n\n      if (shouldRecover(error)) {\n        _this.setState({});\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (!shouldRecover(error)) {\n      throw error;\n    }\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setOnError);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar origin = {\n  x: 0,\n  y: 0\n};\n\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\n\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\n\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\n\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\n\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\n\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\n\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\n\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n};\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\n\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\n\nvar scrollDroppable = function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n};\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\n\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\n\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\n\nvar isPositionInFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n};\n\nvar getDroppableOver = function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n};\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n};\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n};\n\nvar didStartDisplaced = function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n};\n\nvar getCombinedItemDisplacement = function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n};\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n};\n\nvar isPartiallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\n\nvar isTotallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: onLift.displacedBy.point.x,\n    bottom: 0,\n    left: 0\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n};\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n};\n\nvar getHomeLocation = function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\n\nvar getHomeOnLift = function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n};\n\nvar getDragPositions = function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n};\n\nvar offsetDraggable = function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n};\n\nvar adjustExistingForAdditionsAndRemovals = function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n};\n\nvar adjustAdditionsForScrollChanges = function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\n\nvar adjustAdditionsForCollapsedHome = function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n};\n\nvar updateDraggables = function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n};\n\nvar getMaxScroll = function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\n\nvar getDroppableDimension = function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\n\nvar isHomeOf = function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n};\n\nvar withNoAnimatedDisplacement = function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n};\n\nvar patchDroppableMap = function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\n\nvar timingsKey = 'Processing dynamic changes';\n\nvar publishWhileDragging = function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n};\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n};\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\n\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar fromCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar moveToNextIndex = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n};\n\nvar whenCombining = function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n};\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\n\nvar withDroppableDisplacement = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n};\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\n\nvar scrollViewport = function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\n\nvar withNewDisplacement = function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n};\n\nvar speculativelyIncrease = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar withViewportDisplacement = function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\n\nvar getClientFromPageBorderBoxCenter = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\n\nvar isTotallyVisibleInNewLocation = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\n\nvar moveToNextPlace = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\n\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\n\nvar moveToNewDroppable = function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar moveCrossAxis = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n};\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n};\n\nvar update = function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n};\n\nvar recompute = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar getClientBorderBoxCenter = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\n\nvar refreshSnap = function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\n\nvar patchDimensionMap = function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\n\nvar reducer = function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return _extends({}, idle, {\n      shouldFlush: action.payload.shouldFlush\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n};\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\n\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\n\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\n\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\n\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\n\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\n\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\n\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\n\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\n\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\n\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\n\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\n\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\n\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\n\nvar clean$1 = function clean(args) {\n  if (args === void 0) {\n    args = {\n      shouldFlush: false\n    };\n  }\n\n  return {\n    type: 'CLEAN',\n    payload: args\n  };\n};\n\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\n\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\n\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\n\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\n\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\n\nvar style = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\n\nvar getDropDuration = function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\n\nvar getNewHomeClientOffset = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n};\n\nvar getDropImpact = function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n};\n\nvar drop$1 = function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar getExpiringAnnounce = function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n};\n\nvar getAsyncMarshal = function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n};\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\n\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\n\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\n\nvar responders = function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\n\nvar dropAnimationFinish = function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n};\n\nvar dimensionMarshalStopper = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          autoScroller.cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n};\n\nvar pendingDrop = function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nvar createStore = function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\n};\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\n\nvar createPublisher = function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n};\n\nvar getWindowScroll = function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar getDocumentElement = function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\n\nvar getMaxWindowScroll = function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\n\nvar getViewport = function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\n\nvar getInitialPublish = function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\n    var existing = entries.draggables[published.id];\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\n\n    if (existing.descriptor === published) {\n      delete entries.draggables[published.id];\n    } else {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\n    }\n\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\n\nvar canStartDrag = function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n};\n\nvar scrollWindow = function (change) {\n  window.scrollBy(change.x, change.y);\n};\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\n\nvar getPercentage = function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\n\nvar minScroll = 1;\n\nvar getValueFromDistance = function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\n\nvar dampenValueByTime = function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\n\nvar getValue = function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\n\nvar getScrollOnAxis = function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\n\nvar adjustForSizeLimits = function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\n\nvar getScroll = function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n};\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\n\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\n\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\n\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\n\nvar getDroppableScrollChange = function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\n\nvar scroll$1 = function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\n\nvar createFluidScroller = function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n};\n\nvar createJumpScroller = function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n};\n\nvar createAutoScroller = function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\n\nvar getStyles$1 = function (uniqueContext) {\n  var getSelector = makeGetSelector(uniqueContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(uniqueId) {\n  var uniqueContext = useMemo(function () {\n    return \"\" + uniqueId;\n  }, [uniqueId]);\n  var styles = useMemo(function () {\n    return getStyles$1(uniqueContext);\n  }, [uniqueContext]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl();\n    var dynamic = createStyleEl();\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix + \"-always\", uniqueContext);\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting,\n      styleContext: uniqueContext\n    };\n  }, [dragging, dropping, resting, uniqueContext]);\n  return marshal;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(uniqueId) {\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\n};\n\nfunction useAnnouncer(uniqueId) {\n  var id = useMemo(function () {\n    return getId(uniqueId);\n  }, [uniqueId]);\n  var ref = useRef(null);\n  useEffect(function () {\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function () {\n      var toBeRemoved = ref.current;\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\n      getBodyElement().removeChild(toBeRemoved);\n      ref.current = null;\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar AppContext = React.createContext(null);\nvar peerDependencies = {\n  react: \"^16.8.5\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\n\nvar checkDoctype = function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\n\nfunction useStartupValidation() {\n  useEffect(function () {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var uniqueId = props.uniqueId,\n      setOnError = props.setOnError;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(uniqueId);\n  var styleMarshal = useStyleMarshal(uniqueId);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var callbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(callbacks);\n  }, [callbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var store = useMemo(function () {\n    return createStore({\n      dimensionMarshal: dimensionMarshal,\n      styleMarshal: styleMarshal,\n      announce: announce,\n      autoScroller: autoScroller,\n      getResponders: getResponders\n    });\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(clean$1({\n        shouldFlush: true\n      }));\n    }\n  }, []);\n  setOnError(tryResetStore);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      style: styleMarshal.styleContext,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed\n    };\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\n\nfunction resetServerContext() {\n  instanceCount = 0;\n}\n\nfunction DragDropContext(props) {\n  var uniqueId = useMemo(function () {\n    return instanceCount++;\n  }, []);\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\n    return React.createElement(App, _extends({\n      setOnError: setOnError,\n      uniqueId: uniqueId\n    }, props), props.children);\n  });\n}\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\n\nvar getScroll$1 = function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\n\nfunction withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n}\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppableDimensionPublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type\n    };\n  }, [args.droppableId, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n\n    if (env.closestScrollable) {\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(env.closestScrollable);\n      }\n    }\n\n    return dimension;\n  }, [descriptor, onClosestScroll, previousRef]);\n  var recollect = useCallback(function (options) {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    var previous = previousRef.current;\n\n    var execute = function execute() {\n      return getDimension({\n        ref: dragging.ref,\n        descriptor: dragging.descriptor,\n        env: dragging.env,\n        windowScroll: origin,\n        direction: previous.direction,\n        isDropDisabled: previous.isDropDisabled,\n        isCombineEnabled: previous.isCombineEnabled,\n        shouldClipSubject: !previous.ignoreContainerClipping\n      });\n    };\n\n    if (!options.withoutPlaceholder) {\n      return execute();\n    }\n\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\n  }, [previousRef]);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      recollect: recollect,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = descriptor;\n    marshal.registerDroppable(descriptor, callbacks);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      marshal.unregisterDroppable(descriptor);\n    };\n  }, [callbacks, descriptor, dragStopped, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: transitions.placeholder\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      styleContext = props.styleContext;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-react-beautiful-dnd-placeholder': styleContext,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\nvar DroppableContext = React.createContext(null);\n\nvar getWindowFromEl = function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkPlaceholderRef(props, placeholderEl) {\n  if (!props.placeholder) {\n    return;\n  }\n\n  if (placeholderEl) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\n}\n\nfunction useValidation(_ref) {\n  var props = _ref.props,\n      getDroppableRef = _ref.getDroppableRef,\n      getPlaceholderRef = _ref.getPlaceholderRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n      checkIsValidInnerRef(getDroppableRef());\n      checkPlaceholderRef(props, getPlaceholderRef());\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var styleContext = appContext.style,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      updateViewportMaxScroll = props.updateViewportMaxScroll;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppableDimensionPublisher({\n    droppableId: droppableId,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      styleContext: styleContext,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': styleContext\n      }\n    };\n  }, [placeholder, setDroppableRef, styleContext]);\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type\n    };\n  }, [droppableId, type]);\n  useValidation({\n    props: props,\n    getDroppableRef: function getDroppableRef() {\n      return droppableRef.current;\n    },\n    getPlaceholderRef: function getPlaceholderRef() {\n      return placeholderRef.current;\n    }\n  });\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot));\n}\n\nvar isStrictEqual = function (a, b) {\n  return a === b;\n};\n\nvar whatIsDraggedOverFromResult = function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n};\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\n      return idleWithoutAnimation;\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar createEventMarshal = function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n};\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar createScheduler = function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n};\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar sharedOptions = {\n  capture: true\n};\n\nvar createPostDragEventPreventer = function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n};\n\nvar sloppyClickThreshold = 5;\n\nvar isSloppyClickThresholdExceeded = function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n};\n\nvar _preventedKeys;\n\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\n\nvar preventStandardKeyEvents = function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\n\nvar primaryButton = 0;\n\nvar noop$1 = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\n\nfunction useMouseSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$1);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var postDragEventPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    var shouldBlockClick = isDraggingRef.current;\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    pendingRef.current = null;\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    pendingRef.current = null;\n    isDraggingRef.current = true;\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'mousemove',\n      fn: function fn(event) {\n        var button = event.button,\n            clientX = event.clientX,\n            clientY = event.clientY;\n\n        if (button !== primaryButton) {\n          return;\n        }\n\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n\n        if (isDraggingRef.current) {\n          event.preventDefault();\n          schedule.move(point);\n          return;\n        }\n\n        var pending = pendingRef.current;\n\n        if (!pending) {\n          stop();\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n        }\n\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\n          return;\n        }\n\n        event.preventDefault();\n        startDragging();\n      }\n    }, {\n      eventName: 'mouseup',\n      fn: function fn(event) {\n        var wasDragging = isDraggingRef.current;\n        stop();\n\n        if (wasDragging) {\n          event.preventDefault();\n          callbacks.onDrop();\n        }\n      }\n    }, {\n      eventName: 'mousedown',\n      fn: function fn(event) {\n        if (isDraggingRef.current) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n          cancel();\n          return;\n        }\n\n        preventStandardKeyEvents(event);\n      }\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'webkitmouseforcechanged',\n      fn: function fn(event) {\n        if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n          process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n          return;\n        }\n\n        var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n        var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (isForcePressing) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow, getShouldRespectForcePress]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startPendingDrag = useCallback(function (point) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    pendingRef.current = point;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, stop]);\n  var onMouseDown = useCallback(function (event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\n  return onMouseDown;\n}\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = function (event, canDragInteractiveElements) {\n  if (canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n};\n\nvar getBorderBoxCenterPosition = function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\n\nvar _scrollJumpKeys;\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction noop$2() {}\n\nfunction useKeyboardSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd,\n      getDraggableRef = args.getDraggableRef;\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$2);\n  var getIsDragging = useCallback(function () {\n    return isDraggingRef.current;\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsDragging]);\n  var stop = useCallback(function () {\n    if (!getIsDragging()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsDragging, onCaptureEnd, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\n    return [{\n      eventName: 'mousedown',\n      fn: cancel\n    }, {\n      eventName: 'mouseup',\n      fn: cancel\n    }, {\n      eventName: 'click',\n      fn: cancel\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'wheel',\n      fn: cancel,\n      options: {\n        passive: true\n      }\n    }, {\n      eventName: 'scroll',\n      options: {\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        callbacks.onWindowScroll();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n  }, [callbacks, cancel, getIsDragging, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var ref = getDraggableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    onCaptureStart(stop);\n    bindWindowEvents();\n    var center = getBorderBoxCenterPosition(ref);\n    callbacks.onLift({\n      clientSelection: center,\n      movementMode: 'SNAP'\n    });\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\n  var onKeyDown = useCallback(function (event) {\n    if (!getIsDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging();\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stop();\n      callbacks.onDrop();\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\n  return onKeyDown;\n}\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$3 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$3,\n    releaseTouchMove: noop$3\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nfunction useTouchSensor(args) {\n  var callbacks = args.callbacks,\n      getWindow = args.getWindow,\n      canStartCapturing = args.canStartCapturing,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var hasMovedRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$3);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var postDragClickPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    hasMovedRef.current = false;\n    onCaptureEnd();\n\n    if (isDraggingRef.current) {\n      postDragClickPreventer.preventNext();\n      isDraggingRef.current = false;\n      return;\n    }\n\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\n    clearTimeout(pending.longPressTimerId);\n    pendingRef.current = null;\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'touchmove',\n      options: {\n        passive: false,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        if (!hasMovedRef.current) {\n          hasMovedRef.current = true;\n        }\n\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        event.preventDefault();\n        schedule.move(point);\n      }\n    }, {\n      eventName: 'touchend',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        stop();\n        callbacks.onDrop();\n      }\n    }, {\n      eventName: 'touchcancel',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        cancel();\n      }\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'orientationchange',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn() {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'contextmenu',\n      fn: function fn(event) {\n        event.preventDefault();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          cancel();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'touchforcechange',\n      fn: function fn(event) {\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (hasMovedRef.current) {\n          event.preventDefault();\n          return;\n        }\n\n        var touch = event.touches[0];\n\n        if (touch.force >= forcePressThreshold) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    pendingRef.current = null;\n    hasMovedRef.current = false;\n    callbacks.onLift({\n      clientSelection: pending.point,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var startPendingDrag = useCallback(function (event) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    var pending = {\n      point: point,\n      longPressTimerId: longPressTimerId\n    };\n    pendingRef.current = pending;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  return onTouchStart;\n}\n\nfunction isSvgElement(el) {\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nfunction useValidation$1(_ref) {\n  var isEnabled = _ref.isEnabled,\n      getDraggableRef = _ref.getDraggableRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!isEnabled) {\n        return;\n      }\n\n      var draggableRef = getDraggableRef();\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\n      getDragHandleRef(draggableRef);\n    }\n  }, [getDraggableRef, isEnabled]);\n}\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction noop$4() {}\n\nfunction useFocusRetainer(args) {\n  var isFocusedRef = useRef(false);\n  var lastArgsRef = usePrevious(args);\n  var getDraggableRef = args.getDraggableRef;\n  var onFocus = useCallback(function () {\n    isFocusedRef.current = true;\n  }, []);\n  var onBlur = useCallback(function () {\n    isFocusedRef.current = false;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    var first = lastArgsRef.current;\n\n    if (!first.isEnabled) {\n      return noop$4;\n    }\n\n    var draggable = getDraggableRef();\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\n    var dragHandle = getDragHandleRef(draggable);\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\n    return function () {\n      var last = lastArgsRef.current;\n\n      var shouldRetainFocus = function () {\n        if (!last.isEnabled) {\n          return false;\n        }\n\n        if (!isFocusedRef.current) {\n          return false;\n        }\n\n        return last.isDragging || last.isDropAnimating;\n      }();\n\n      if (shouldRetainFocus) {\n        retainer.retain(last.draggableId);\n      }\n    };\n  }, [getDraggableRef, lastArgsRef]);\n  var lastDraggableRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    if (!lastDraggableRef.current) {\n      return;\n    }\n\n    var draggableRef = getDraggableRef();\n\n    if (!draggableRef) {\n      return;\n    }\n\n    if (draggableRef === lastDraggableRef.current) {\n      return;\n    }\n\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\n      getDragHandleRef(draggableRef).focus();\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    lastDraggableRef.current = getDraggableRef();\n  });\n  return {\n    onBlur: onBlur,\n    onFocus: onFocus\n  };\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction useDragHandle(args) {\n  var capturingRef = useRef(null);\n  var onCaptureStart = useCallback(function (abort) {\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\n    capturingRef.current = {\n      abort: abort\n    };\n  }, []);\n  var onCaptureEnd = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\n    capturingRef.current = null;\n  }, []);\n  var abortCapture = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\n    capturingRef.current.abort();\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      canLift = _useRequiredContext.canLift,\n      styleContext = _useRequiredContext.style;\n\n  var isDragging = args.isDragging,\n      isEnabled = args.isEnabled,\n      draggableId = args.draggableId,\n      callbacks = args.callbacks,\n      getDraggableRef = args.getDraggableRef,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      canDragInteractiveElements = args.canDragInteractiveElements;\n  var lastArgsRef = usePrevious(args);\n  useValidation$1({\n    isEnabled: isEnabled,\n    getDraggableRef: getDraggableRef\n  });\n  var getWindow = useCallback(function () {\n    return getWindowFromEl(getDraggableRef());\n  }, [getDraggableRef]);\n  var canStartCapturing = useCallback(function (event) {\n    if (!isEnabled) {\n      return false;\n    }\n\n    if (capturingRef.current) {\n      return false;\n    }\n\n    if (!canLift(draggableId)) {\n      return false;\n    }\n\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\n\n  var _useFocusRetainer = useFocusRetainer(args),\n      onBlur = _useFocusRetainer.onBlur,\n      onFocus = _useFocusRetainer.onFocus;\n\n  var mouseArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\n  var onMouseDown = useMouseSensor(mouseArgs);\n  var keyboardArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\n  var touchArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      getShouldRespectForcePress: getShouldRespectForcePress,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\n  var onTouchStart = useTouchSensor(touchArgs);\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      if (!capturingRef.current) {\n        return;\n      }\n\n      abortCapture();\n\n      if (lastArgsRef.current.isDragging) {\n        lastArgsRef.current.callbacks.onCancel();\n      }\n    };\n  }, []);\n\n  if (!isEnabled && capturingRef.current) {\n    abortCapture();\n\n    if (lastArgsRef.current.isDragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n      callbacks.onCancel();\n    }\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (!isDragging && capturingRef.current) {\n      abortCapture();\n    }\n  }, [abortCapture, isDragging]);\n  var props = useMemo(function () {\n    if (!isEnabled) {\n      return null;\n    }\n\n    return {\n      onMouseDown: onMouseDown,\n      onKeyDown: onKeyDown,\n      onTouchStart: onTouchStart,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0,\n      'data-react-beautiful-dnd-drag-handle': styleContext,\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    };\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\n  return props;\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggableDimensionPublisher(args) {\n  var draggableId = args.draggableId,\n      index = args.index,\n      getDraggableRef = args.getDraggableRef;\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var droppableContext = useRequiredContext(DroppableContext);\n  var droppableId = droppableContext.droppableId,\n      type = droppableContext.type;\n  var descriptor = useMemo(function () {\n    var result = {\n      id: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index\n    };\n    return result;\n  }, [draggableId, droppableId, index, type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var makeDimension = useCallback(function (windowScroll) {\n    var latest = publishedDescriptorRef.current;\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(latest, el, windowScroll);\n  }, [getDraggableRef]);\n  useIsomorphicLayoutEffect(function () {\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\n    return function () {\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\n    };\n  }, [makeDimension, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (publishedDescriptorRef.current === descriptor) {\n      return;\n    }\n\n    var previous = publishedDescriptorRef.current;\n    publishedDescriptorRef.current = descriptor;\n    marshal.updateDraggable(previous, descriptor, makeDimension);\n  }, [descriptor, makeDimension, marshal]);\n}\n\nfunction checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkForOutdatedProps(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\n  }\n}\n\nfunction useValidation$2(props, getRef) {\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n      checkForOutdatedProps(props);\n      checkIsValidInnerRef(getRef());\n    }\n  });\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var appContext = useRequiredContext(AppContext);\n  useValidation$2(props, getRef);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isDragDisabled = props.isDragDisabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.disableInteractiveElementBlocking,\n      index = props.index,\n      mapped = props.mapped,\n      moveUpAction = props.moveUp,\n      moveAction = props.move,\n      dropAction = props.drop,\n      moveDownAction = props.moveDown,\n      moveRightAction = props.moveRight,\n      moveLeftAction = props.moveLeft,\n      moveByWindowScrollAction = props.moveByWindowScroll,\n      liftAction = props.lift,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  var forPublisher = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      index: index,\n      getDraggableRef: getRef\n    };\n  }, [draggableId, getRef, index]);\n  useDraggableDimensionPublisher(forPublisher);\n  var onLift = useCallback(function (options) {\n    start('LIFT');\n    var el = ref.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n    var clientSelection = options.clientSelection,\n        movementMode = options.movementMode;\n    liftAction({\n      id: draggableId,\n      clientSelection: clientSelection,\n      movementMode: movementMode\n    });\n    finish('LIFT');\n  }, [draggableId, isDragDisabled, liftAction]);\n  var getShouldRespectForcePress = useCallback(function () {\n    return shouldRespectForcePress;\n  }, [shouldRespectForcePress]);\n  var callbacks = useMemo(function () {\n    return {\n      onLift: onLift,\n      onMove: function onMove(clientSelection) {\n        return moveAction({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return dropAction({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return dropAction({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: moveUpAction,\n      onMoveDown: moveDownAction,\n      onMoveRight: moveRightAction,\n      onMoveLeft: moveLeftAction,\n      onWindowScroll: function onWindowScroll() {\n        return moveByWindowScrollAction({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\n  var isDragging = mapped.type === 'DRAGGING';\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n  var dragHandleArgs = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: callbacks,\n      getDraggableRef: getRef,\n      canDragInteractiveElements: canDragInteractiveElements,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\n  var dragHandleProps = useDragHandle(dragHandleArgs);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-react-beautiful-dnd-draggable': appContext.style,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\n  return children(provided, mapped.snapshot);\n}\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForcePress: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"names":["_extends","React","useLayoutEffect","useEffect","useRef","useContext","useState","useMemo","useCallback","_inheritsLoose","invariant","createStore","createStore$1","applyMiddleware","compose","bindActionCreators","Provider","connect","getRect","expand","offset","withScroll","createBox","getBox","calculateBox","memoizeOne","_Object$values","_Object$keys","_Date$now","rafSchd","_Object$assign","_Number$isInteger","isProduction","process","env","NODE_ENV","spacesAndTabs","lineStartWithSpaces","clean","value","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","warning","_console","window","console","warn","apply","printFatalError","error","shouldRecover","indexOf","ErrorBoundary","_React$Component","_this","_len","arguments","length","args","Array","_key","call","concat","onError","setOnError","fn","onFatalError","setState","_proto","prototype","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","componentDidCatch","render","props","children","Component","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","map","executeClip","frame","subject","result","top","max","right","bottom","left","width","height","isEqual$1","first","second","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","initial","scrollDisplacement","current","records","isEnabled","isTimingsEnabled","start","key","now","performance","finish","previous","rounded","toFixed","style","textColor","symbol","log","whatIsDraggedOver","impact","merge","destination","droppableId","combine","values","findIndex","list","predicate","i","find","index","undefined","toDroppableMap","droppables","reduce","descriptor","id","toDraggableMap","draggables","toDroppableList","toDraggableList","isWithin","lowerBound","upperBound","isPositionInFrame","isWithinVertical","isWithinHorizontal","getDroppableOver","maybe","getDraggablesInsideDroppable","filter","draggable","sort","a","b","withDroppableScroll","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isUserMovingForward","didStartDisplaced","draggableId","onLift","Boolean","wasDisplaced","getCombinedItemDisplacement","displaced","combineWith","displacedBy","isDisplaced","getWhenEntered","oldMerge","whenEntered","isCombiningWith","currentCenter","borderBox","displaceBy","currentUserDirection","twoThirdsOfSize","isMovingForward","targetCenter","getCombineImpact","_ref2","pageBorderBoxCenterWithDroppableScrollChange","previousImpact","insideDestinationWithoutDraggable","userDirection","isCombineEnabled","movement","canBeDisplacedBy","child","withMerge","isPartiallyVisibleThroughFrame","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacement","getDisplacementMap","getDisplacedBy","getReorderImpact","didStartDisplaced$1","dimension","newIndex","noDisplacedBy","noMovement","noImpact","removeDraggableFromList","remove","item","getDragImpact","pageBorderBoxCenter","destinationId","insideDestination","getHomeLocation","getHomeOnLift","home","insideHome","originallyDisplaced","slice","getDragPositions","oldInitial","oldCurrent","oldClientBorderBoxCenter","newClientBorderBoxCenter","shift","client","selection","borderBoxCenter","reverse","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","adjustExistingForAdditionsAndRemovals","existing","addedDraggables","additions","removedDraggables","removals","shifted","forEach","original","toShift","addShift","indexChange","withRemovals","isBeingRemoved","sibling","withAdditions","splice","additionMap","wasAdded","updated","adjustAdditionsForScrollChanges","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","adjustAdditionsForCollapsedHome","dragging","updateDraggables","criticalId","unmodifiedExisting","unmodifiedAdditions","scrolledAdditions","getMaxScroll","scrollHeight","scrollWidth","maxScroll","adjustedMaxScroll","getDroppableDimension","isFixedOnPage","scrollSize","frameClient","paddingBox","isHomeOf","getRequiredGrowthForPlaceholder","placeholderSize","availableSpace","contentBox","insideDroppable","spaceUsed","sum","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","newFrame","removePlaceholder","_subject2","oldMaxScroll","getFrame","throwIfSpacingChange","old","fresh","getMessage","spacingType","margin","border","padding","adjustBorderBoxSize","updateDroppables","adjusted","provided","raw","hasPlaceholder","oldClient","newClient","oldScrollable","newScrollable","isFrameEqual","withSizeChanged","withNoAnimatedDisplacement","withoutAnimation","patchDroppableMap","clearUnusedPlaceholder","last","lastDroppable","recomputePlaceholders","cleaned","isOver","patched","timingsKey","publishWhileDragging","_extends3","state","published","dimensions","critical","_getDragPositions","center","_getHomeOnLift","homeImpact","isOrphaned","movementMode","draggingState","phase","onLiftImpact","dropPending","reason","isWaiting","forward","backward","moveToNextCombine","isInHomeList","originalInsideDestination","location","currentIndex","currentInsideDestination","shallow","targetIndex","addClosest","removeClosest","fromReorder","initialInside","isInForeignList","proposedIndex","modifyDisplacement","fromCombine","combineId","combineIndex","wasDisplacedAtStart","hasDisplacedFromStart","moveToNextIndex","instruction","lastDisplaced","withoutDraggable","atProposedIndex","whenCombining","distanceFromStartToBorderBoxCenter","box","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","withNewDisplacement","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","entry","withScrolledViewport","withScrolledDroppable","withViewportDisplacement","getClientFromPageBorderBoxCenter","withoutPageScrollChange","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","source","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","moveCrossAxis","getDroppableOver$1","moveInDirection","type","isActuallyOver","isMainAxisMovementAllowed","isMovingOnMainAxis","_state$dimensions","isMovementAllowed","getVertical","getHorizontal","getUserDirection","oldPageBorderBoxCenter","update","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","currentWindowScroll","newImpact","withUpdatedPlaceholders","recompute","getClientBorderBoxCenter","refreshSnap","needsVisibilityCheck","patchDimensionMap","isSnapping","postDroppableChange","isEnabledChanging","idle","completed","shouldFlush","reducer","action","payload","_action$payload","isWindowScrollAllowed","every","isDragging","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_action$payload6","_completed","lift","initialPublish","publishWhileDragging$1","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","clean$1","animateDrop","completeDrop","drop","dropAnimationFinished","lift$1","marshal","getState","dispatch","next","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","mode","isAnimationRequired","position","onDragStart","withLocation","startPosition","endPosition","withCombine","inHomeList","onDragUpdate","returnedToStart","onDragEnd","preset","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","callback","push","flush","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","getPublisher","getResponders","asyncMarshal","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","store","dropAnimationFinish","dimensionMarshalStopper","stopPublishing","shouldEnd","shouldCancelPending","autoScroll","autoScroller","stop","cancelPending","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dimensionMarshal","styleMarshal","clean$2","timingKey","createPublisher","getEntries","callbacks","advancedUsageWarning","hasAnnounced","staging","frameId","collect","requestAnimationFrame","getCritical","_staging","getDimension","isHome","options","withoutPlaceholder","recollect","publish","cancelAnimationFrame","getWindowScroll","pageXOffset","pageYOffset","getDocumentElement","doc","document","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getDimensionAndWatchScroll","throwIfAddOrRemoveOfWrongType","collection","createDimensionMarshal","registerDraggable","updateDraggable","unregisterDraggable","registerDroppable","droppableCallbacks","unregisterDroppable","change","dragStopped","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getScrollableDroppableOver","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$3","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","cancel","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix","dragHandle","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","join","noPointerEvents","getStyles$1","uniqueContext","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","useIsomorphicLayoutEffect","getHead","head","querySelector","createStyleEl","el","createElement","useStyleMarshal","uniqueId","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","setAttribute","appendChild","ref","removeChild","styleContext","StoreContext","createContext","getBodyElement","visuallyHidden","overflow","getId","useAnnouncer","toBeRemoved","AppContext","peerDependencies","react","semver","getVersion","exec","major","minor","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","useStartupValidation","version","usePrevious","createResponders","getStore","lazyRef","App","lazyStoreRef","lastPropsRef","lazyDispatch","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","instanceCount","resetServerContext","DragDropContext","isEqual$2","base","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","parentElement","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getClient","targetRef","isDropDisabled","display","immediate","passive","delayed","getListenerOptions","useRequiredContext","Context","getClosestScrollableFromDrag","useDroppableDimensionPublisher","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","getDroppableRef","ignoreContainerClipping","getPlaceholderRef","noop","empty","getSize","isAnimatingOpenOnMount","animate","getStyle","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","Placeholder","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","event","propertyName","tagName","innerRef","Placeholder$1","memo","DroppableContext","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","checkIsValidInnerRef","checkOwnProps","checkPlaceholderRef","placeholderEl","useValidation","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","PureComponent","Droppable","droppableRef","placeholderRef","snapshot","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","shouldAnimatePlaceholder","droppableProps","droppableContext","isStrictEqual","whatIsDraggedOverFromResult","isMatchingType","getDraggable","makeMapStateToProps","isDraggingOver","draggingOverWith","draggingFromThisWith","idleWithoutAnimation","getMapProps","getSnapshot","ownProps","_snapshot","wasOver","wasCombining","mapDispatchToProps","defaultProps","ConnectedDroppable","pure","areStatePropsEqual","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle$1","mapped","createEventMarshal","isMouseDownHandled","handle","isHandled","reset","getOptions","shared","fromBinding","bindEvents","bindings","sharedOptions","binding","eventName","unbindEvents","createScheduler","memoizedMove","onMove","onMoveUp","onMoveDown","onMoveRight","onMoveLeft","windowScrollMove","onWindowScroll","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","supportedEventName","supported","capture","createPostDragEventPreventer","getWindow","isBound","bind","unbind","preventDefault","preventNext","preventer","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","primaryButton","noop$1","mouseDownMarshal","useMouseSensor","canStartCapturing","getShouldRespectForcePress","onCaptureStart","onCaptureEnd","pendingRef","isDraggingRef","unbindWindowEventsRef","getIsCapturing","schedule","postDragEventPreventer","shouldBlockClick","wasDragging","onCancel","startDragging","pending","windowBindings","button","clientX","clientY","onDrop","currentTarget","webkitForce","MouseEvent","WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN","forcePressThreshold","isForcePressing","bindWindowEvents","win","startPendingDrag","onMouseDown","ctrlKey","metaKey","shiftKey","altKey","isElement","Element","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","getAttribute","shouldAllowDraggingFromTarget","canDragInteractiveElements","getBorderBoxCenterPosition","getBoundingClientRect","_scrollJumpKeys","scrollJumpKeys","noop$2","useKeyboardSensor","getDraggableRef","getIsDragging","onKeyDown","defaultPrevented","timeForLongPress","touchStartMarshal","noop$3","webkitHack","stub","preventTouchMove","releaseTouchMove","isBlocking","useTouchSensor","hasMovedRef","postDragClickPreventer","longPressTimerId","_event$touches$","touches","touch","force","onTouchStart","isSvgElement","SVGElement","throwIfSVG","getDragHandleRef","draggableRef","hasAttribute","useValidation$1","retainingFocusFor","listenerOptions","clearRetentionOnFocusChange","onWindowFocusChange","retain","tryRestoreFocus","dragHandleRef","focus","retainer","noop$4","useFocusRetainer","isFocusedRef","lastArgsRef","onFocus","onBlur","shouldRetainFocus","lastDraggableRef","preventHtml5Dnd","useDragHandle","capturingRef","abortCapture","_useRequiredContext","_useFocusRetainer","mouseArgs","keyboardArgs","touchArgs","tabIndex","getDimension$1","computedStyles","useDraggableDimensionPublisher","makeDimension","latest","checkOwnProps$1","isDragDisabled","checkForOutdatedProps","Object","hasOwnProperty","useValidation$2","getRef","Draggable","setRef","shouldRespectForcePress","disableInteractiveElementBlocking","moveUpAction","moveAction","dropAction","moveDownAction","moveRightAction","moveLeftAction","moveByWindowScrollAction","liftAction","dropAnimationFinishedAction","forPublisher","dragHandleArgs","dragHandleProps","onMoveEnd","draggableProps","getCombineWithFromResult","getCombineWithFromImpact","makeMapStateToProps$1","getDraggingSnapshot","draggingOver","dropAnimation","combineTargetFor","getSecondarySnapshot","defaultMapProps","memoizedOffset","getDraggingProps","getSecondaryProps","getSecondaryMovement","ownId","draggingId","isCombinedWith","draggingSelector","_mode","_draggingOver","_combineWith","curve","secondarySelector","mapDispatchToProps$1","defaultProps$1","ConnectedDraggable"],"sources":["D:/Github/1/FYP-test/client/node_modules/material-table/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"sourcesContent":["import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\r\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\r\nimport { useMemo, useCallback } from 'use-memo-one';\r\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\r\nimport invariant from 'tiny-invariant';\r\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\r\nimport { Provider, connect } from 'react-redux';\r\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\r\nimport memoizeOne from 'memoize-one';\r\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\r\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\r\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\r\nimport rafSchd from 'raf-schd';\r\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\r\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\r\n\r\nvar isProduction = process.env.NODE_ENV === 'production';\r\nvar spacesAndTabs = /[ \\t]{2,}/g;\r\nvar lineStartWithSpaces = /^[ \\t]*/gm;\r\n\r\nvar clean = function clean(value) {\r\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\r\n};\r\n\r\nvar getDevMessage = function getDevMessage(message) {\r\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\r\n};\r\n\r\nvar getFormattedMessage = function getFormattedMessage(message) {\r\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\r\n};\r\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\r\nvar warning = function warning(message) {\r\n  var _console;\r\n\r\n  if (isProduction) {\r\n    return;\r\n  }\r\n\r\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\r\n    return;\r\n  }\r\n\r\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\r\n};\r\n\r\nfunction printFatalError(error) {\r\n  var _console;\r\n\r\n  if (process.env.NODE_ENV === 'production') {\r\n    return;\r\n  }\r\n\r\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\r\n\r\n  console.error('raw', error);\r\n}\r\n\r\nfunction shouldRecover(error) {\r\n  return error.message.indexOf('Invariant failed') !== -1;\r\n}\r\n\r\nvar ErrorBoundary = function (_React$Component) {\r\n  _inheritsLoose(ErrorBoundary, _React$Component);\r\n\r\n  function ErrorBoundary() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\r\n    _this.onError = void 0;\r\n\r\n    _this.setOnError = function (fn) {\r\n      _this.onError = fn;\r\n    };\r\n\r\n    _this.onFatalError = function (error) {\r\n      printFatalError(error);\r\n\r\n      if (_this.onError) {\r\n        _this.onError();\r\n      } else {\r\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\r\n      }\r\n\r\n      if (shouldRecover(error)) {\r\n        _this.setState({});\r\n      }\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  var _proto = ErrorBoundary.prototype;\r\n\r\n  _proto.componentDidMount = function componentDidMount() {\r\n    window.addEventListener('error', this.onFatalError);\r\n  };\r\n\r\n  _proto.componentWillUnmount = function componentWillUnmount() {\r\n    window.removeEventListener('error', this.onFatalError);\r\n  };\r\n\r\n  _proto.componentDidCatch = function componentDidCatch(error) {\r\n    this.onFatalError(error);\r\n\r\n    if (!shouldRecover(error)) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  _proto.render = function render() {\r\n    return this.props.children(this.setOnError);\r\n  };\r\n\r\n  return ErrorBoundary;\r\n}(React.Component);\r\n\r\nvar origin = {\r\n  x: 0,\r\n  y: 0\r\n};\r\nvar add = function add(point1, point2) {\r\n  return {\r\n    x: point1.x + point2.x,\r\n    y: point1.y + point2.y\r\n  };\r\n};\r\nvar subtract = function subtract(point1, point2) {\r\n  return {\r\n    x: point1.x - point2.x,\r\n    y: point1.y - point2.y\r\n  };\r\n};\r\nvar isEqual = function isEqual(point1, point2) {\r\n  return point1.x === point2.x && point1.y === point2.y;\r\n};\r\nvar negate = function negate(point) {\r\n  return {\r\n    x: point.x !== 0 ? -point.x : 0,\r\n    y: point.y !== 0 ? -point.y : 0\r\n  };\r\n};\r\nvar patch = function patch(line, value, otherValue) {\r\n  var _ref;\r\n\r\n  if (otherValue === void 0) {\r\n    otherValue = 0;\r\n  }\r\n\r\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\r\n};\r\nvar distance = function distance(point1, point2) {\r\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\r\n};\r\nvar closest = function closest(target, points) {\r\n  return Math.min.apply(Math, points.map(function (point) {\r\n    return distance(target, point);\r\n  }));\r\n};\r\nvar apply = function apply(fn) {\r\n  return function (point) {\r\n    return {\r\n      x: fn(point.x),\r\n      y: fn(point.y)\r\n    };\r\n  };\r\n};\r\n\r\nvar executeClip = (function (frame, subject) {\r\n  var result = getRect({\r\n    top: Math.max(subject.top, frame.top),\r\n    right: Math.min(subject.right, frame.right),\r\n    bottom: Math.min(subject.bottom, frame.bottom),\r\n    left: Math.max(subject.left, frame.left)\r\n  });\r\n\r\n  if (result.width <= 0 || result.height <= 0) {\r\n    return null;\r\n  }\r\n\r\n  return result;\r\n});\r\n\r\nvar isEqual$1 = function isEqual(first, second) {\r\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\r\n};\r\nvar offsetByPosition = function offsetByPosition(spacing, point) {\r\n  return {\r\n    top: spacing.top + point.y,\r\n    left: spacing.left + point.x,\r\n    bottom: spacing.bottom + point.y,\r\n    right: spacing.right + point.x\r\n  };\r\n};\r\nvar getCorners = function getCorners(spacing) {\r\n  return [{\r\n    x: spacing.left,\r\n    y: spacing.top\r\n  }, {\r\n    x: spacing.right,\r\n    y: spacing.top\r\n  }, {\r\n    x: spacing.left,\r\n    y: spacing.bottom\r\n  }, {\r\n    x: spacing.right,\r\n    y: spacing.bottom\r\n  }];\r\n};\r\nvar noSpacing = {\r\n  top: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  left: 0\r\n};\r\n\r\nvar scroll = function scroll(target, frame) {\r\n  if (!frame) {\r\n    return target;\r\n  }\r\n\r\n  return offsetByPosition(target, frame.scroll.diff.displacement);\r\n};\r\n\r\nvar increase = function increase(target, axis, withPlaceholder) {\r\n  if (withPlaceholder && withPlaceholder.increasedBy) {\r\n    var _extends2;\r\n\r\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\nvar clip = function clip(target, frame) {\r\n  if (frame && frame.shouldClipSubject) {\r\n    return executeClip(frame.pageMarginBox, target);\r\n  }\r\n\r\n  return getRect(target);\r\n};\r\n\r\nvar getSubject = (function (_ref) {\r\n  var page = _ref.page,\r\n      withPlaceholder = _ref.withPlaceholder,\r\n      axis = _ref.axis,\r\n      frame = _ref.frame;\r\n  var scrolled = scroll(page.marginBox, frame);\r\n  var increased = increase(scrolled, axis, withPlaceholder);\r\n  var clipped = clip(increased, frame);\r\n  return {\r\n    page: page,\r\n    withPlaceholder: withPlaceholder,\r\n    active: clipped\r\n  };\r\n});\r\n\r\nvar scrollDroppable = (function (droppable, newScroll) {\r\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n  var scrollable = droppable.frame;\r\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\r\n  var scrollDisplacement = negate(scrollDiff);\r\n\r\n  var frame = _extends({}, scrollable, {\r\n    scroll: {\r\n      initial: scrollable.scroll.initial,\r\n      current: newScroll,\r\n      diff: {\r\n        value: scrollDiff,\r\n        displacement: scrollDisplacement\r\n      },\r\n      max: scrollable.scroll.max\r\n    }\r\n  });\r\n\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    withPlaceholder: droppable.subject.withPlaceholder,\r\n    axis: droppable.axis,\r\n    frame: frame\r\n  });\r\n\r\n  var result = _extends({}, droppable, {\r\n    frame: frame,\r\n    subject: subject\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\nvar records = {};\r\nvar isEnabled = false;\r\n\r\nvar isTimingsEnabled = function isTimingsEnabled() {\r\n  return isEnabled;\r\n};\r\nvar start = function start(key) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!isTimingsEnabled()) {\r\n      return;\r\n    }\r\n\r\n    var now = performance.now();\r\n    records[key] = now;\r\n  }\r\n};\r\nvar finish = function finish(key) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!isTimingsEnabled()) {\r\n      return;\r\n    }\r\n\r\n    var now = performance.now();\r\n    var previous = records[key];\r\n\r\n    if (!previous) {\r\n      console.warn('cannot finish timing as no previous time found', key);\r\n      return;\r\n    }\r\n\r\n    var result = now - previous;\r\n    var rounded = result.toFixed(2);\r\n\r\n    var style = function () {\r\n      if (result < 12) {\r\n        return {\r\n          textColor: 'green',\r\n          symbol: '✅'\r\n        };\r\n      }\r\n\r\n      if (result < 40) {\r\n        return {\r\n          textColor: 'orange',\r\n          symbol: '⚠️'\r\n        };\r\n      }\r\n\r\n      return {\r\n        textColor: 'red',\r\n        symbol: '❌'\r\n      };\r\n    }();\r\n\r\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\r\n  }\r\n};\r\n\r\nvar whatIsDraggedOver = (function (impact) {\r\n  var merge = impact.merge,\r\n      destination = impact.destination;\r\n\r\n  if (destination) {\r\n    return destination.droppableId;\r\n  }\r\n\r\n  if (merge) {\r\n    return merge.combine.droppableId;\r\n  }\r\n\r\n  return null;\r\n});\r\n\r\nfunction values(map) {\r\n  return _Object$values(map);\r\n}\r\nfunction findIndex(list, predicate) {\r\n  if (list.findIndex) {\r\n    return list.findIndex(predicate);\r\n  }\r\n\r\n  for (var i = 0; i < list.length; i++) {\r\n    if (predicate(list[i])) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\nfunction find(list, predicate) {\r\n  if (list.find) {\r\n    return list.find(predicate);\r\n  }\r\n\r\n  var index = findIndex(list, predicate);\r\n\r\n  if (index !== -1) {\r\n    return list[index];\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nvar toDroppableMap = memoizeOne(function (droppables) {\r\n  return droppables.reduce(function (previous, current) {\r\n    previous[current.descriptor.id] = current;\r\n    return previous;\r\n  }, {});\r\n});\r\nvar toDraggableMap = memoizeOne(function (draggables) {\r\n  return draggables.reduce(function (previous, current) {\r\n    previous[current.descriptor.id] = current;\r\n    return previous;\r\n  }, {});\r\n});\r\nvar toDroppableList = memoizeOne(function (droppables) {\r\n  return values(droppables);\r\n});\r\nvar toDraggableList = memoizeOne(function (draggables) {\r\n  return values(draggables);\r\n});\r\n\r\nvar isWithin = (function (lowerBound, upperBound) {\r\n  return function (value) {\r\n    return lowerBound <= value && value <= upperBound;\r\n  };\r\n});\r\n\r\nvar isPositionInFrame = (function (frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function (point) {\r\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\r\n  };\r\n});\r\n\r\nvar getDroppableOver = (function (_ref) {\r\n  var target = _ref.target,\r\n      droppables = _ref.droppables;\r\n  var maybe = find(toDroppableList(droppables), function (droppable) {\r\n    if (!droppable.isEnabled) {\r\n      return false;\r\n    }\r\n\r\n    var active = droppable.subject.active;\r\n\r\n    if (!active) {\r\n      return false;\r\n    }\r\n\r\n    return isPositionInFrame(active)(target);\r\n  });\r\n  return maybe ? maybe.descriptor.id : null;\r\n});\r\n\r\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\r\n  var result = toDraggableList(draggables).filter(function (draggable) {\r\n    return droppableId === draggable.descriptor.droppableId;\r\n  }).sort(function (a, b) {\r\n    return a.descriptor.index - b.descriptor.index;\r\n  });\r\n  return result;\r\n});\r\n\r\nvar withDroppableScroll = (function (droppable, point) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return point;\r\n  }\r\n\r\n  return add(point, frame.scroll.diff.value);\r\n});\r\n\r\nvar vertical = {\r\n  direction: 'vertical',\r\n  line: 'y',\r\n  crossAxisLine: 'x',\r\n  start: 'top',\r\n  end: 'bottom',\r\n  size: 'height',\r\n  crossAxisStart: 'left',\r\n  crossAxisEnd: 'right',\r\n  crossAxisSize: 'width'\r\n};\r\nvar horizontal = {\r\n  direction: 'horizontal',\r\n  line: 'x',\r\n  crossAxisLine: 'y',\r\n  start: 'left',\r\n  end: 'right',\r\n  size: 'width',\r\n  crossAxisStart: 'top',\r\n  crossAxisEnd: 'bottom',\r\n  crossAxisSize: 'height'\r\n};\r\n\r\nvar isUserMovingForward = (function (axis, direction) {\r\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\r\n});\r\n\r\nvar didStartDisplaced = (function (draggableId, onLift) {\r\n  return Boolean(onLift.wasDisplaced[draggableId]);\r\n});\r\n\r\nvar getCombinedItemDisplacement = (function (_ref) {\r\n  var displaced = _ref.displaced,\r\n      onLift = _ref.onLift,\r\n      combineWith = _ref.combineWith,\r\n      displacedBy = _ref.displacedBy;\r\n  var isDisplaced = Boolean(displaced[combineWith]);\r\n\r\n  if (didStartDisplaced(combineWith, onLift)) {\r\n    return isDisplaced ? origin : negate(displacedBy.point);\r\n  }\r\n\r\n  return isDisplaced ? displacedBy.point : origin;\r\n});\r\n\r\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\r\n  if (!oldMerge) {\r\n    return current;\r\n  }\r\n\r\n  if (id !== oldMerge.combine.draggableId) {\r\n    return current;\r\n  }\r\n\r\n  return oldMerge.whenEntered;\r\n};\r\n\r\nvar isCombiningWith = function isCombiningWith(_ref) {\r\n  var id = _ref.id,\r\n      currentCenter = _ref.currentCenter,\r\n      axis = _ref.axis,\r\n      borderBox = _ref.borderBox,\r\n      displaceBy = _ref.displaceBy,\r\n      currentUserDirection = _ref.currentUserDirection,\r\n      oldMerge = _ref.oldMerge;\r\n  var start = borderBox[axis.start] + displaceBy[axis.line];\r\n  var end = borderBox[axis.end] + displaceBy[axis.line];\r\n  var size = borderBox[axis.size];\r\n  var twoThirdsOfSize = size * 0.666;\r\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\r\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\r\n  var targetCenter = currentCenter[axis.line];\r\n\r\n  if (isMovingForward) {\r\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\r\n  }\r\n\r\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\r\n};\r\n\r\nvar getCombineImpact = (function (_ref2) {\r\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\r\n      previousImpact = _ref2.previousImpact,\r\n      destination = _ref2.destination,\r\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\r\n      userDirection = _ref2.userDirection,\r\n      onLift = _ref2.onLift;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var axis = destination.axis;\r\n  var map = previousImpact.movement.map;\r\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\r\n  var oldMerge = previousImpact.merge;\r\n  var target = find(insideDestinationWithoutDraggable, function (child) {\r\n    var id = child.descriptor.id;\r\n    var displaceBy = getCombinedItemDisplacement({\r\n      displaced: map,\r\n      onLift: onLift,\r\n      combineWith: id,\r\n      displacedBy: canBeDisplacedBy\r\n    });\r\n    return isCombiningWith({\r\n      id: id,\r\n      currentCenter: currentCenter,\r\n      axis: axis,\r\n      borderBox: child.page.borderBox,\r\n      displaceBy: displaceBy,\r\n      currentUserDirection: userDirection,\r\n      oldMerge: oldMerge\r\n    });\r\n  });\r\n\r\n  if (!target) {\r\n    return null;\r\n  }\r\n\r\n  var merge = {\r\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\r\n    combine: {\r\n      draggableId: target.descriptor.id,\r\n      droppableId: destination.descriptor.id\r\n    }\r\n  };\r\n\r\n  var withMerge = _extends({}, previousImpact, {\r\n    destination: null,\r\n    merge: merge\r\n  });\r\n\r\n  return withMerge;\r\n});\r\n\r\nvar isPartiallyVisibleThroughFrame = (function (frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function (subject) {\r\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n\r\n    if (isContained) {\r\n      return true;\r\n    }\r\n\r\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\r\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\r\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\r\n\r\n    if (isPartiallyContained) {\r\n      return true;\r\n    }\r\n\r\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\r\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\r\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\r\n\r\n    if (isTargetBiggerThanFrame) {\r\n      return true;\r\n    }\r\n\r\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\r\n    return isTargetBiggerOnOneAxis;\r\n  };\r\n});\r\n\r\nvar isTotallyVisibleThroughFrame = (function (frame) {\r\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n  return function (subject) {\r\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n    return isContained;\r\n  };\r\n});\r\n\r\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\r\n  return function (frame) {\r\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\r\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\r\n    return function (subject) {\r\n      if (axis === vertical) {\r\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\r\n      }\r\n\r\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\r\n    };\r\n  };\r\n});\r\n\r\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\r\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\r\n  return offsetByPosition(target, displacement);\r\n};\r\n\r\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\r\n  if (!destination.subject.active) {\r\n    return false;\r\n  }\r\n\r\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\r\n};\r\n\r\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\r\n  return isVisibleThroughFrameFn(viewport)(target);\r\n};\r\n\r\nvar isVisible = function isVisible(_ref) {\r\n  var toBeDisplaced = _ref.target,\r\n      destination = _ref.destination,\r\n      viewport = _ref.viewport,\r\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\r\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\r\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\r\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\r\n};\r\n\r\nvar isPartiallyVisible = function isPartiallyVisible(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\r\n  }));\r\n};\r\nvar isTotallyVisible = function isTotallyVisible(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\r\n  }));\r\n};\r\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\r\n  return isVisible(_extends({}, args, {\r\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\r\n  }));\r\n};\r\n\r\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\r\n  if (typeof forceShouldAnimate === 'boolean') {\r\n    return forceShouldAnimate;\r\n  }\r\n\r\n  if (!isVisible) {\r\n    return false;\r\n  }\r\n\r\n  if (!previous) {\r\n    return true;\r\n  }\r\n\r\n  return previous.shouldAnimate;\r\n};\r\n\r\nvar getTarget = function getTarget(draggable, onLift) {\r\n  var marginBox = draggable.page.marginBox;\r\n\r\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\r\n    return marginBox;\r\n  }\r\n\r\n  var expandBy = {\r\n    top: onLift.displacedBy.point.y,\r\n    right: onLift.displacedBy.point.x,\r\n    bottom: 0,\r\n    left: 0\r\n  };\r\n  return getRect(expand(marginBox, expandBy));\r\n};\r\n\r\nvar getDisplacement = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      onLift = _ref.onLift,\r\n      forceShouldAnimate = _ref.forceShouldAnimate;\r\n  var id = draggable.descriptor.id;\r\n  var map = previousImpact.movement.map;\r\n  var target = getTarget(draggable, onLift);\r\n  var isVisible = isPartiallyVisible({\r\n    target: target,\r\n    destination: destination,\r\n    viewport: viewport,\r\n    withDroppableDisplacement: true\r\n  });\r\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\r\n  var displacement = {\r\n    draggableId: id,\r\n    isVisible: isVisible,\r\n    shouldAnimate: shouldAnimate\r\n  };\r\n  return displacement;\r\n});\r\n\r\nvar getDisplacementMap = memoizeOne(function (displaced) {\r\n  return displaced.reduce(function (map, displacement) {\r\n    map[displacement.draggableId] = displacement;\r\n    return map;\r\n  }, {});\r\n});\r\n\r\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\r\n  var displacement = displaceBy[axis.line];\r\n  return {\r\n    value: displacement,\r\n    point: patch(axis.line, displacement)\r\n  };\r\n});\r\n\r\nvar getReorderImpact = (function (_ref) {\r\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\r\n      draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      userDirection = _ref.userDirection,\r\n      onLift = _ref.onLift;\r\n  var axis = destination.axis;\r\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n  var targetCenter = currentCenter[axis.line];\r\n  var displacement = displacedBy.value;\r\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\r\n    var borderBox = child.page.borderBox;\r\n    var start = borderBox[axis.start];\r\n    var end = borderBox[axis.end];\r\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\r\n\r\n    if (isMovingForward) {\r\n      if (didStartDisplaced$1) {\r\n        return targetCenter < start;\r\n      }\r\n\r\n      return targetCenter < start + displacement;\r\n    }\r\n\r\n    if (didStartDisplaced$1) {\r\n      return targetCenter <= end - displacement;\r\n    }\r\n\r\n    return targetCenter <= end;\r\n  }).map(function (dimension) {\r\n    return getDisplacement({\r\n      draggable: dimension,\r\n      destination: destination,\r\n      previousImpact: previousImpact,\r\n      viewport: viewport.frame,\r\n      onLift: onLift\r\n    });\r\n  });\r\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\r\n  var movement = {\r\n    displacedBy: displacedBy,\r\n    displaced: displaced,\r\n    map: getDisplacementMap(displaced)\r\n  };\r\n  var impact = {\r\n    movement: movement,\r\n    destination: {\r\n      droppableId: destination.descriptor.id,\r\n      index: newIndex\r\n    },\r\n    merge: null\r\n  };\r\n  return impact;\r\n});\r\n\r\nvar noDisplacedBy = {\r\n  point: origin,\r\n  value: 0\r\n};\r\nvar noMovement = {\r\n  displaced: [],\r\n  map: {},\r\n  displacedBy: noDisplacedBy\r\n};\r\nvar noImpact = {\r\n  movement: noMovement,\r\n  destination: null,\r\n  merge: null\r\n};\r\n\r\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\r\n  return list.filter(function (item) {\r\n    return item.descriptor.id !== remove.descriptor.id;\r\n  });\r\n});\r\n\r\nvar getDragImpact = (function (_ref) {\r\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      droppables = _ref.droppables,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      userDirection = _ref.userDirection,\r\n      onLift = _ref.onLift;\r\n  var destinationId = getDroppableOver({\r\n    target: pageBorderBoxCenter,\r\n    droppables: droppables\r\n  });\r\n\r\n  if (!destinationId) {\r\n    return noImpact;\r\n  }\r\n\r\n  var destination = droppables[destinationId];\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\r\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\r\n  var withMerge = getCombineImpact({\r\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\r\n    previousImpact: previousImpact,\r\n    destination: destination,\r\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\r\n    userDirection: userDirection,\r\n    onLift: onLift\r\n  });\r\n\r\n  if (withMerge) {\r\n    return withMerge;\r\n  }\r\n\r\n  return getReorderImpact({\r\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\r\n    destination: destination,\r\n    draggable: draggable,\r\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\r\n    previousImpact: previousImpact,\r\n    viewport: viewport,\r\n    userDirection: userDirection,\r\n    onLift: onLift\r\n  });\r\n});\r\n\r\nvar getHomeLocation = (function (descriptor) {\r\n  return {\r\n    index: descriptor.index,\r\n    droppableId: descriptor.droppableId\r\n  };\r\n});\r\n\r\nvar getHomeOnLift = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      home = _ref.home,\r\n      draggables = _ref.draggables,\r\n      viewport = _ref.viewport;\r\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\r\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\r\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\r\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\r\n    previous[item.descriptor.id] = true;\r\n    return previous;\r\n  }, {});\r\n  var onLift = {\r\n    displacedBy: displacedBy,\r\n    wasDisplaced: wasDisplaced\r\n  };\r\n  var displaced = originallyDisplaced.map(function (dimension) {\r\n    return getDisplacement({\r\n      draggable: dimension,\r\n      destination: home,\r\n      previousImpact: noImpact,\r\n      viewport: viewport.frame,\r\n      forceShouldAnimate: false,\r\n      onLift: onLift\r\n    });\r\n  });\r\n  var movement = {\r\n    displaced: displaced,\r\n    map: getDisplacementMap(displaced),\r\n    displacedBy: displacedBy\r\n  };\r\n  var impact = {\r\n    movement: movement,\r\n    destination: getHomeLocation(draggable.descriptor),\r\n    merge: null\r\n  };\r\n  return {\r\n    impact: impact,\r\n    onLift: onLift\r\n  };\r\n});\r\n\r\nvar getDragPositions = (function (_ref) {\r\n  var oldInitial = _ref.initial,\r\n      oldCurrent = _ref.current,\r\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\r\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\r\n      viewport = _ref.viewport;\r\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\r\n\r\n  var initial = function () {\r\n    var client = {\r\n      selection: add(oldInitial.client.selection, shift),\r\n      borderBoxCenter: newClientBorderBoxCenter,\r\n      offset: origin\r\n    };\r\n    var page = {\r\n      selection: add(client.selection, viewport.scroll.initial),\r\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\r\n    };\r\n    return {\r\n      client: client,\r\n      page: page\r\n    };\r\n  }();\r\n\r\n  var current = function () {\r\n    var reverse = negate(shift);\r\n    var offset = add(oldCurrent.client.offset, reverse);\r\n    var client = {\r\n      selection: add(initial.client.selection, offset),\r\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\r\n      offset: offset\r\n    };\r\n    var page = {\r\n      selection: add(client.selection, viewport.scroll.current),\r\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\r\n    };\r\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\r\n    return {\r\n      client: client,\r\n      page: page\r\n    };\r\n  }();\r\n\r\n  return {\r\n    current: current,\r\n    initial: initial\r\n  };\r\n});\r\n\r\nvar offsetDraggable = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      offset$1 = _ref.offset,\r\n      initialWindowScroll = _ref.initialWindowScroll;\r\n  var client = offset(draggable.client, offset$1);\r\n  var page = withScroll(client, initialWindowScroll);\r\n\r\n  var moved = _extends({}, draggable, {\r\n    placeholder: _extends({}, draggable.placeholder, {\r\n      client: client\r\n    }),\r\n    client: client,\r\n    page: page\r\n  });\r\n\r\n  return moved;\r\n});\r\n\r\nvar adjustExistingForAdditionsAndRemovals = (function (_ref) {\r\n  var existing = _ref.existing,\r\n      droppables = _ref.droppables,\r\n      addedDraggables = _ref.additions,\r\n      removedDraggables = _ref.removals,\r\n      viewport = _ref.viewport;\r\n  var shifted = {};\r\n  toDroppableList(droppables).forEach(function (droppable) {\r\n    var axis = droppable.axis;\r\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\r\n    var toShift = {};\r\n\r\n    var addShift = function addShift(id, shift) {\r\n      var previous = toShift[id];\r\n\r\n      if (!previous) {\r\n        toShift[id] = shift;\r\n        return;\r\n      }\r\n\r\n      toShift[id] = {\r\n        indexChange: previous.indexChange + shift.indexChange,\r\n        offset: add(previous.offset, shift.offset)\r\n      };\r\n    };\r\n\r\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\r\n      var item = existing[id];\r\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\r\n      return item;\r\n    }).filter(function (draggable) {\r\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\r\n    }));\r\n    var withRemovals = original.filter(function (item, index) {\r\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\r\n\r\n      if (!isBeingRemoved) {\r\n        return true;\r\n      }\r\n\r\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\r\n      original.slice(index).forEach(function (sibling) {\r\n        if (removals[sibling.descriptor.id]) {\r\n          return;\r\n        }\r\n\r\n        addShift(sibling.descriptor.id, {\r\n          indexChange: -1,\r\n          offset: offset\r\n        });\r\n      });\r\n      return false;\r\n    });\r\n    var additions = addedDraggables.filter(function (draggable) {\r\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\r\n    });\r\n    var withAdditions = withRemovals.slice(0);\r\n    additions.forEach(function (item) {\r\n      withAdditions.splice(item.descriptor.index, 0, item);\r\n    });\r\n    var additionMap = toDraggableMap(additions);\r\n    withAdditions.forEach(function (item, index) {\r\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\r\n\r\n      if (!wasAdded) {\r\n        return;\r\n      }\r\n\r\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\r\n      withAdditions.slice(index).forEach(function (sibling) {\r\n        if (additionMap[sibling.descriptor.id]) {\r\n          return;\r\n        }\r\n\r\n        addShift(sibling.descriptor.id, {\r\n          indexChange: 1,\r\n          offset: offset\r\n        });\r\n      });\r\n    });\r\n    withAdditions.forEach(function (item) {\r\n      if (additionMap[item.descriptor.id]) {\r\n        return;\r\n      }\r\n\r\n      var shift = toShift[item.descriptor.id];\r\n\r\n      if (!shift) {\r\n        return;\r\n      }\r\n\r\n      var moved = offsetDraggable({\r\n        draggable: item,\r\n        offset: shift.offset,\r\n        initialWindowScroll: viewport.scroll.initial\r\n      });\r\n      var index = item.descriptor.index + shift.indexChange;\r\n\r\n      var updated = _extends({}, moved, {\r\n        descriptor: _extends({}, item.descriptor, {\r\n          index: index\r\n        })\r\n      });\r\n\r\n      shifted[moved.descriptor.id] = updated;\r\n    });\r\n  });\r\n\r\n  var map = _extends({}, existing, shifted);\r\n\r\n  return map;\r\n});\r\n\r\nvar adjustAdditionsForScrollChanges = (function (_ref) {\r\n  var additions = _ref.additions,\r\n      updatedDroppables = _ref.updatedDroppables,\r\n      viewport = _ref.viewport;\r\n  var windowScrollChange = viewport.scroll.diff.value;\r\n  return additions.map(function (draggable) {\r\n    var droppableId = draggable.descriptor.droppableId;\r\n    var modified = updatedDroppables[droppableId];\r\n    var frame = modified.frame;\r\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n    var droppableScrollChange = frame.scroll.diff.value;\r\n    var totalChange = add(windowScrollChange, droppableScrollChange);\r\n    var moved = offsetDraggable({\r\n      draggable: draggable,\r\n      offset: totalChange,\r\n      initialWindowScroll: viewport.scroll.initial\r\n    });\r\n    return moved;\r\n  });\r\n});\r\n\r\nvar adjustAdditionsForCollapsedHome = (function (_ref) {\r\n  var additions = _ref.additions,\r\n      dragging = _ref.dragging,\r\n      home = _ref.home,\r\n      viewport = _ref.viewport;\r\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\r\n  return additions.map(function (draggable) {\r\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\r\n      return draggable;\r\n    }\r\n\r\n    if (draggable.descriptor.index < dragging.descriptor.index) {\r\n      return draggable;\r\n    }\r\n\r\n    return offsetDraggable({\r\n      draggable: draggable,\r\n      offset: displacedBy.point,\r\n      initialWindowScroll: viewport.scroll.initial\r\n    });\r\n  });\r\n});\r\n\r\nvar updateDraggables = (function (_ref) {\r\n  var updatedDroppables = _ref.updatedDroppables,\r\n      criticalId = _ref.criticalId,\r\n      unmodifiedExisting = _ref.existing,\r\n      unmodifiedAdditions = _ref.additions,\r\n      removals = _ref.removals,\r\n      viewport = _ref.viewport;\r\n  var existing = adjustExistingForAdditionsAndRemovals({\r\n    droppables: updatedDroppables,\r\n    existing: unmodifiedExisting,\r\n    additions: unmodifiedAdditions,\r\n    removals: removals,\r\n    viewport: viewport\r\n  });\r\n  var dragging = existing[criticalId];\r\n  var home = updatedDroppables[dragging.descriptor.droppableId];\r\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\r\n    additions: unmodifiedAdditions,\r\n    updatedDroppables: updatedDroppables,\r\n    viewport: viewport\r\n  });\r\n  var additions = adjustAdditionsForCollapsedHome({\r\n    additions: scrolledAdditions,\r\n    dragging: dragging,\r\n    home: home,\r\n    viewport: viewport\r\n  });\r\n\r\n  var map = _extends({}, existing, toDraggableMap(additions));\r\n\r\n  removals.forEach(function (id) {\r\n    delete map[id];\r\n  });\r\n  return map;\r\n});\r\n\r\nvar getMaxScroll = (function (_ref) {\r\n  var scrollHeight = _ref.scrollHeight,\r\n      scrollWidth = _ref.scrollWidth,\r\n      height = _ref.height,\r\n      width = _ref.width;\r\n  var maxScroll = subtract({\r\n    x: scrollWidth,\r\n    y: scrollHeight\r\n  }, {\r\n    x: width,\r\n    y: height\r\n  });\r\n  var adjustedMaxScroll = {\r\n    x: Math.max(0, maxScroll.x),\r\n    y: Math.max(0, maxScroll.y)\r\n  };\r\n  return adjustedMaxScroll;\r\n});\r\n\r\nvar getDroppableDimension = (function (_ref) {\r\n  var descriptor = _ref.descriptor,\r\n      isEnabled = _ref.isEnabled,\r\n      isCombineEnabled = _ref.isCombineEnabled,\r\n      isFixedOnPage = _ref.isFixedOnPage,\r\n      direction = _ref.direction,\r\n      client = _ref.client,\r\n      page = _ref.page,\r\n      closest = _ref.closest;\r\n\r\n  var frame = function () {\r\n    if (!closest) {\r\n      return null;\r\n    }\r\n\r\n    var scrollSize = closest.scrollSize,\r\n        frameClient = closest.client;\r\n    var maxScroll = getMaxScroll({\r\n      scrollHeight: scrollSize.scrollHeight,\r\n      scrollWidth: scrollSize.scrollWidth,\r\n      height: frameClient.paddingBox.height,\r\n      width: frameClient.paddingBox.width\r\n    });\r\n    return {\r\n      pageMarginBox: closest.page.marginBox,\r\n      frameClient: frameClient,\r\n      scrollSize: scrollSize,\r\n      shouldClipSubject: closest.shouldClipSubject,\r\n      scroll: {\r\n        initial: closest.scroll,\r\n        current: closest.scroll,\r\n        max: maxScroll,\r\n        diff: {\r\n          value: origin,\r\n          displacement: origin\r\n        }\r\n      }\r\n    };\r\n  }();\r\n\r\n  var axis = direction === 'vertical' ? vertical : horizontal;\r\n  var subject = getSubject({\r\n    page: page,\r\n    withPlaceholder: null,\r\n    axis: axis,\r\n    frame: frame\r\n  });\r\n  var dimension = {\r\n    descriptor: descriptor,\r\n    isCombineEnabled: isCombineEnabled,\r\n    isFixedOnPage: isFixedOnPage,\r\n    axis: axis,\r\n    isEnabled: isEnabled,\r\n    client: client,\r\n    page: page,\r\n    frame: frame,\r\n    subject: subject\r\n  };\r\n  return dimension;\r\n});\r\n\r\nvar isHomeOf = (function (draggable, destination) {\r\n  return draggable.descriptor.droppableId === destination.descriptor.id;\r\n});\r\n\r\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\r\n  var axis = droppable.axis;\r\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\r\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\r\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\r\n    return sum + dimension.client.marginBox[axis.size];\r\n  }, 0);\r\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\r\n  var needsToGrowBy = requiredSpace - availableSpace;\r\n\r\n  if (needsToGrowBy <= 0) {\r\n    return null;\r\n  }\r\n\r\n  return patch(axis.line, needsToGrowBy);\r\n};\r\n\r\nvar withMaxScroll = function withMaxScroll(frame, max) {\r\n  return _extends({}, frame, {\r\n    scroll: _extends({}, frame.scroll, {\r\n      max: max\r\n    })\r\n  });\r\n};\r\n\r\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\r\n  var frame = droppable.frame;\r\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\r\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\r\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\r\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\r\n  var added = {\r\n    placeholderSize: placeholderSize,\r\n    increasedBy: requiredGrowth,\r\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\r\n  };\r\n\r\n  if (!frame) {\r\n    var _subject = getSubject({\r\n      page: droppable.subject.page,\r\n      withPlaceholder: added,\r\n      axis: droppable.axis,\r\n      frame: droppable.frame\r\n    });\r\n\r\n    return _extends({}, droppable, {\r\n      subject: _subject\r\n    });\r\n  }\r\n\r\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\r\n  var newFrame = withMaxScroll(frame, maxScroll);\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    withPlaceholder: added,\r\n    axis: droppable.axis,\r\n    frame: newFrame\r\n  });\r\n  return _extends({}, droppable, {\r\n    subject: subject,\r\n    frame: newFrame\r\n  });\r\n};\r\nvar removePlaceholder = function removePlaceholder(droppable) {\r\n  var added = droppable.subject.withPlaceholder;\r\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    var _subject2 = getSubject({\r\n      page: droppable.subject.page,\r\n      axis: droppable.axis,\r\n      frame: null,\r\n      withPlaceholder: null\r\n    });\r\n\r\n    return _extends({}, droppable, {\r\n      subject: _subject2\r\n    });\r\n  }\r\n\r\n  var oldMaxScroll = added.oldFrameMaxScroll;\r\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\r\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\r\n  var subject = getSubject({\r\n    page: droppable.subject.page,\r\n    axis: droppable.axis,\r\n    frame: newFrame,\r\n    withPlaceholder: null\r\n  });\r\n  return _extends({}, droppable, {\r\n    subject: subject,\r\n    frame: newFrame\r\n  });\r\n};\r\n\r\nvar getFrame = (function (droppable) {\r\n  var frame = droppable.frame;\r\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\r\n  return frame;\r\n});\r\n\r\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    var getMessage = function getMessage(spacingType) {\r\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\r\n    };\r\n\r\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\r\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\r\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\r\n  }\r\n};\r\n\r\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\r\n  return {\r\n    top: old.top,\r\n    left: old.left,\r\n    right: old.left + fresh.width,\r\n    bottom: old.top + fresh.height\r\n  };\r\n};\r\n\r\nvar updateDroppables = (function (_ref) {\r\n  var modified = _ref.modified,\r\n      existing = _ref.existing,\r\n      viewport = _ref.viewport;\r\n\r\n  if (!modified.length) {\r\n    return existing;\r\n  }\r\n\r\n  var adjusted = modified.map(function (provided) {\r\n    var raw = existing[provided.descriptor.id];\r\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\r\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\r\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\r\n    var oldClient = dimension.client;\r\n    var newClient = provided.client;\r\n    var oldScrollable = getFrame(dimension);\r\n    var newScrollable = getFrame(provided);\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      throwIfSpacingChange(dimension.client, provided.client);\r\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\r\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\r\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\r\n    }\r\n\r\n    var client = createBox({\r\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\r\n      margin: oldClient.margin,\r\n      border: oldClient.border,\r\n      padding: oldClient.padding\r\n    });\r\n    var closest = {\r\n      client: oldScrollable.frameClient,\r\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\r\n      shouldClipSubject: oldScrollable.shouldClipSubject,\r\n      scrollSize: newScrollable.scrollSize,\r\n      scroll: oldScrollable.scroll.initial\r\n    };\r\n    var withSizeChanged = getDroppableDimension({\r\n      descriptor: provided.descriptor,\r\n      isEnabled: provided.isEnabled,\r\n      isCombineEnabled: provided.isCombineEnabled,\r\n      isFixedOnPage: provided.isFixedOnPage,\r\n      direction: provided.axis.direction,\r\n      client: client,\r\n      page: withScroll(client, viewport.scroll.initial),\r\n      closest: closest\r\n    });\r\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\r\n    return scrolled;\r\n  });\r\n\r\n  var result = _extends({}, existing, toDroppableMap(adjusted));\r\n\r\n  return result;\r\n});\r\n\r\nvar withNoAnimatedDisplacement = (function (impact) {\r\n  var displaced = impact.movement.displaced;\r\n\r\n  if (!displaced.length) {\r\n    return impact;\r\n  }\r\n\r\n  var withoutAnimation = displaced.map(function (displacement) {\r\n    if (!displacement.isVisible) {\r\n      return displacement;\r\n    }\r\n\r\n    if (!displacement.shouldAnimate) {\r\n      return displacement;\r\n    }\r\n\r\n    return _extends({}, displacement, {\r\n      shouldAnimate: false\r\n    });\r\n  });\r\n\r\n  var result = _extends({}, impact, {\r\n    movement: _extends({}, impact.movement, {\r\n      displaced: withoutAnimation,\r\n      map: getDisplacementMap(withoutAnimation)\r\n    })\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\nvar patchDroppableMap = (function (droppables, updated) {\r\n  var _extends2;\r\n\r\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\r\n});\r\n\r\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\r\n  var previousImpact = _ref.previousImpact,\r\n      impact = _ref.impact,\r\n      droppables = _ref.droppables;\r\n  var last = whatIsDraggedOver(previousImpact);\r\n  var now = whatIsDraggedOver(impact);\r\n\r\n  if (!last) {\r\n    return droppables;\r\n  }\r\n\r\n  if (last === now) {\r\n    return droppables;\r\n  }\r\n\r\n  var lastDroppable = droppables[last];\r\n\r\n  if (!lastDroppable.subject.withPlaceholder) {\r\n    return droppables;\r\n  }\r\n\r\n  var updated = removePlaceholder(lastDroppable);\r\n  return patchDroppableMap(droppables, updated);\r\n};\r\n\r\nvar recomputePlaceholders = (function (_ref2) {\r\n  var draggable = _ref2.draggable,\r\n      draggables = _ref2.draggables,\r\n      droppables = _ref2.droppables,\r\n      previousImpact = _ref2.previousImpact,\r\n      impact = _ref2.impact;\r\n  var cleaned = clearUnusedPlaceholder({\r\n    previousImpact: previousImpact,\r\n    impact: impact,\r\n    droppables: droppables\r\n  });\r\n  var isOver = whatIsDraggedOver(impact);\r\n\r\n  if (!isOver) {\r\n    return cleaned;\r\n  }\r\n\r\n  var droppable = droppables[isOver];\r\n\r\n  if (isHomeOf(draggable, droppable)) {\r\n    return cleaned;\r\n  }\r\n\r\n  if (droppable.subject.withPlaceholder) {\r\n    return cleaned;\r\n  }\r\n\r\n  var patched = addPlaceholder(droppable, draggable, draggables);\r\n  return patchDroppableMap(cleaned, patched);\r\n});\r\n\r\nvar timingsKey = 'Processing dynamic changes';\r\nvar publishWhileDragging = (function (_ref) {\r\n  var _extends2, _extends3;\r\n\r\n  var state = _ref.state,\r\n      published = _ref.published;\r\n  start(timingsKey);\r\n  var updatedDroppables = updateDroppables({\r\n    modified: published.modified,\r\n    existing: state.dimensions.droppables,\r\n    viewport: state.viewport\r\n  });\r\n  var draggables = updateDraggables({\r\n    updatedDroppables: updatedDroppables,\r\n    criticalId: state.critical.draggable.id,\r\n    existing: state.dimensions.draggables,\r\n    additions: published.additions,\r\n    removals: published.removals,\r\n    viewport: state.viewport\r\n  });\r\n  var critical = {\r\n    draggable: draggables[state.critical.draggable.id].descriptor,\r\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\r\n  };\r\n  var original = state.dimensions.draggables[critical.draggable.id];\r\n  var updated = draggables[critical.draggable.id];\r\n  var droppables = recomputePlaceholders({\r\n    draggable: updated,\r\n    draggables: draggables,\r\n    droppables: updatedDroppables,\r\n    previousImpact: state.impact,\r\n    impact: state.impact\r\n  });\r\n  var dimensions = {\r\n    draggables: draggables,\r\n    droppables: droppables\r\n  };\r\n\r\n  var _getDragPositions = getDragPositions({\r\n    initial: state.initial,\r\n    current: state.current,\r\n    oldClientBorderBoxCenter: original.client.borderBox.center,\r\n    newClientBorderBoxCenter: updated.client.borderBox.center,\r\n    viewport: state.viewport\r\n  }),\r\n      initial = _getDragPositions.initial,\r\n      current = _getDragPositions.current;\r\n\r\n  var _getHomeOnLift = getHomeOnLift({\r\n    draggable: updated,\r\n    home: dimensions.droppables[critical.droppable.id],\r\n    draggables: dimensions.draggables,\r\n    viewport: state.viewport\r\n  }),\r\n      homeImpact = _getHomeOnLift.impact,\r\n      onLift = _getHomeOnLift.onLift;\r\n\r\n  var impact = withNoAnimatedDisplacement(getDragImpact({\r\n    pageBorderBoxCenter: current.page.borderBoxCenter,\r\n    draggable: updated,\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables,\r\n    previousImpact: homeImpact,\r\n    viewport: state.viewport,\r\n    userDirection: state.userDirection,\r\n    onLift: onLift\r\n  }));\r\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\r\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\r\n  finish(timingsKey);\r\n\r\n  var draggingState = _extends({\r\n    phase: 'DRAGGING'\r\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\r\n\r\n  if (state.phase === 'COLLECTING') {\r\n    return draggingState;\r\n  }\r\n\r\n  var dropPending = _extends({\r\n    phase: 'DROP_PENDING'\r\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\r\n\r\n  return dropPending;\r\n});\r\n\r\nvar forward = {\r\n  vertical: 'down',\r\n  horizontal: 'right'\r\n};\r\nvar backward = {\r\n  vertical: 'up',\r\n  horizontal: 'left'\r\n};\r\n\r\nvar moveToNextCombine = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      isInHomeList = _ref.isInHomeList,\r\n      draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      originalInsideDestination = _ref.insideDestination,\r\n      previousImpact = _ref.previousImpact;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  if (previousImpact.merge) {\r\n    return null;\r\n  }\r\n\r\n  var location = previousImpact.destination;\r\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\r\n  var currentIndex = location.index;\r\n\r\n  var currentInsideDestination = function () {\r\n    var shallow = originalInsideDestination.slice();\r\n\r\n    if (isInHomeList) {\r\n      shallow.splice(draggable.descriptor.index, 1);\r\n    }\r\n\r\n    shallow.splice(location.index, 0, draggable);\r\n    return shallow;\r\n  }();\r\n\r\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\r\n\r\n  if (targetIndex < 0) {\r\n    return null;\r\n  }\r\n\r\n  if (targetIndex > currentInsideDestination.length - 1) {\r\n    return null;\r\n  }\r\n\r\n  var target = currentInsideDestination[targetIndex];\r\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\r\n  var merge = {\r\n    whenEntered: isMovingForward ? forward : backward,\r\n    combine: {\r\n      draggableId: target.descriptor.id,\r\n      droppableId: destination.descriptor.id\r\n    }\r\n  };\r\n  var impact = {\r\n    movement: previousImpact.movement,\r\n    destination: null,\r\n    merge: merge\r\n  };\r\n  return impact;\r\n});\r\n\r\nvar addClosest = function addClosest(add, displaced) {\r\n  var added = {\r\n    draggableId: add.descriptor.id,\r\n    isVisible: true,\r\n    shouldAnimate: true\r\n  };\r\n  return [added].concat(displaced);\r\n};\r\nvar removeClosest = function removeClosest(displaced) {\r\n  return displaced.slice(1);\r\n};\r\n\r\nvar fromReorder = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      isInHomeList = _ref.isInHomeList,\r\n      draggable = _ref.draggable,\r\n      initialInside = _ref.insideDestination,\r\n      location = _ref.location;\r\n  var insideDestination = initialInside.slice();\r\n  var currentIndex = location.index;\r\n  var isInForeignList = !isInHomeList;\r\n\r\n  if (isInForeignList) {\r\n    insideDestination.splice(location.index, 0, draggable);\r\n  }\r\n\r\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\r\n\r\n  if (proposedIndex < 0) {\r\n    return null;\r\n  }\r\n\r\n  if (proposedIndex > insideDestination.length - 1) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    proposedIndex: proposedIndex,\r\n    modifyDisplacement: true\r\n  };\r\n});\r\n\r\nvar fromCombine = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      destination = _ref.destination,\r\n      previousImpact = _ref.previousImpact,\r\n      draggables = _ref.draggables,\r\n      merge = _ref.merge,\r\n      onLift = _ref.onLift;\r\n\r\n  if (!destination.isCombineEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var movement = previousImpact.movement;\r\n  var combineId = merge.combine.draggableId;\r\n  var combine = draggables[combineId];\r\n  var combineIndex = combine.descriptor.index;\r\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\r\n\r\n  if (wasDisplacedAtStart) {\r\n    var hasDisplacedFromStart = !movement.map[combineId];\r\n\r\n    if (hasDisplacedFromStart) {\r\n      if (isMovingForward) {\r\n        return {\r\n          proposedIndex: combineIndex,\r\n          modifyDisplacement: false\r\n        };\r\n      }\r\n\r\n      return {\r\n        proposedIndex: combineIndex - 1,\r\n        modifyDisplacement: true\r\n      };\r\n    }\r\n\r\n    if (isMovingForward) {\r\n      return {\r\n        proposedIndex: combineIndex,\r\n        modifyDisplacement: true\r\n      };\r\n    }\r\n\r\n    return {\r\n      proposedIndex: combineIndex - 1,\r\n      modifyDisplacement: false\r\n    };\r\n  }\r\n\r\n  var isDisplaced = Boolean(movement.map[combineId]);\r\n\r\n  if (isDisplaced) {\r\n    if (isMovingForward) {\r\n      return {\r\n        proposedIndex: combineIndex + 1,\r\n        modifyDisplacement: true\r\n      };\r\n    }\r\n\r\n    return {\r\n      proposedIndex: combineIndex,\r\n      modifyDisplacement: false\r\n    };\r\n  }\r\n\r\n  if (isMovingForward) {\r\n    return {\r\n      proposedIndex: combineIndex + 1,\r\n      modifyDisplacement: false\r\n    };\r\n  }\r\n\r\n  return {\r\n    proposedIndex: combineIndex,\r\n    modifyDisplacement: true\r\n  };\r\n});\r\n\r\nvar moveToNextIndex = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      isInHomeList = _ref.isInHomeList,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      previousImpact = _ref.previousImpact,\r\n      onLift = _ref.onLift;\r\n\r\n  var instruction = function () {\r\n    if (previousImpact.destination) {\r\n      return fromReorder({\r\n        isMovingForward: isMovingForward,\r\n        isInHomeList: isInHomeList,\r\n        draggable: draggable,\r\n        location: previousImpact.destination,\r\n        insideDestination: insideDestination\r\n      });\r\n    }\r\n\r\n    if (previousImpact.merge) {\r\n      return fromCombine({\r\n        isMovingForward: isMovingForward,\r\n        destination: destination,\r\n        previousImpact: previousImpact,\r\n        draggables: draggables,\r\n        merge: previousImpact.merge,\r\n        onLift: onLift\r\n      });\r\n    }\r\n    return null;\r\n  }();\r\n\r\n  if (instruction == null) {\r\n    return null;\r\n  }\r\n\r\n  var proposedIndex = instruction.proposedIndex,\r\n      modifyDisplacement = instruction.modifyDisplacement;\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n\r\n  var displaced = function () {\r\n    var lastDisplaced = previousImpact.movement.displaced;\r\n\r\n    if (!modifyDisplacement) {\r\n      return lastDisplaced;\r\n    }\r\n\r\n    if (isMovingForward) {\r\n      return removeClosest(lastDisplaced);\r\n    }\r\n\r\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\r\n    var atProposedIndex = withoutDraggable[proposedIndex];\r\n    return addClosest(atProposedIndex, lastDisplaced);\r\n  }();\r\n\r\n  return {\r\n    movement: {\r\n      displacedBy: displacedBy,\r\n      displaced: displaced,\r\n      map: getDisplacementMap(displaced)\r\n    },\r\n    destination: {\r\n      droppableId: destination.descriptor.id,\r\n      index: proposedIndex\r\n    },\r\n    merge: null\r\n  };\r\n});\r\n\r\nvar whenCombining = (function (_ref) {\r\n  var combine = _ref.combine,\r\n      onLift = _ref.onLift,\r\n      movement = _ref.movement,\r\n      draggables = _ref.draggables;\r\n  var combineWith = combine.draggableId;\r\n  var center = draggables[combineWith].page.borderBox.center;\r\n  var displaceBy = getCombinedItemDisplacement({\r\n    displaced: movement.map,\r\n    onLift: onLift,\r\n    combineWith: combineWith,\r\n    displacedBy: movement.displacedBy\r\n  });\r\n  return add(center, displaceBy);\r\n});\r\n\r\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\r\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\r\n};\r\n\r\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\r\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\r\n};\r\n\r\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\r\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\r\n};\r\n\r\nvar goAfter = function goAfter(_ref) {\r\n  var axis = _ref.axis,\r\n      moveRelativeTo = _ref.moveRelativeTo,\r\n      isMoving = _ref.isMoving;\r\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\r\n};\r\nvar goBefore = function goBefore(_ref2) {\r\n  var axis = _ref2.axis,\r\n      moveRelativeTo = _ref2.moveRelativeTo,\r\n      isMoving = _ref2.isMoving;\r\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\r\n};\r\nvar goIntoStart = function goIntoStart(_ref3) {\r\n  var axis = _ref3.axis,\r\n      moveInto = _ref3.moveInto,\r\n      isMoving = _ref3.isMoving;\r\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\r\n};\r\n\r\nvar whenReordering = (function (_ref) {\r\n  var movement = _ref.movement,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      droppable = _ref.droppable,\r\n      onLift = _ref.onLift;\r\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\r\n  var draggablePage = draggable.page;\r\n  var axis = droppable.axis;\r\n\r\n  if (!insideDestination.length) {\r\n    return goIntoStart({\r\n      axis: axis,\r\n      moveInto: droppable.page,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  var displaced = movement.displaced,\r\n      displacedBy = movement.displacedBy;\r\n\r\n  if (displaced.length) {\r\n    var closestAfter = draggables[displaced[0].draggableId];\r\n\r\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\r\n      return goBefore({\r\n        axis: axis,\r\n        moveRelativeTo: closestAfter.page,\r\n        isMoving: draggablePage\r\n      });\r\n    }\r\n\r\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\r\n    return goBefore({\r\n      axis: axis,\r\n      moveRelativeTo: withDisplacement,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  var last = insideDestination[insideDestination.length - 1];\r\n\r\n  if (last.descriptor.id === draggable.descriptor.id) {\r\n    return draggablePage.borderBox.center;\r\n  }\r\n\r\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\r\n    var page = offset(last.page, negate(onLift.displacedBy.point));\r\n    return goAfter({\r\n      axis: axis,\r\n      moveRelativeTo: page,\r\n      isMoving: draggablePage\r\n    });\r\n  }\r\n\r\n  return goAfter({\r\n    axis: axis,\r\n    moveRelativeTo: last.page,\r\n    isMoving: draggablePage\r\n  });\r\n});\r\n\r\nvar withDroppableDisplacement = (function (droppable, point) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return point;\r\n  }\r\n\r\n  return add(point, frame.scroll.diff.displacement);\r\n});\r\n\r\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      droppable = _ref.droppable,\r\n      draggables = _ref.draggables,\r\n      onLift = _ref.onLift;\r\n  var merge = impact.merge;\r\n  var destination = impact.destination;\r\n  var original = draggable.page.borderBox.center;\r\n\r\n  if (!droppable) {\r\n    return original;\r\n  }\r\n\r\n  if (destination) {\r\n    return whenReordering({\r\n      movement: impact.movement,\r\n      draggable: draggable,\r\n      draggables: draggables,\r\n      droppable: droppable,\r\n      onLift: onLift\r\n    });\r\n  }\r\n\r\n  if (merge) {\r\n    return whenCombining({\r\n      movement: impact.movement,\r\n      combine: merge.combine,\r\n      draggables: draggables,\r\n      onLift: onLift\r\n    });\r\n  }\r\n\r\n  return original;\r\n};\r\n\r\nvar getPageBorderBoxCenterFromImpact = (function (args) {\r\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\r\n  var droppable = args.droppable;\r\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\r\n  return withDisplacement;\r\n});\r\n\r\nvar scrollViewport = (function (viewport, newScroll) {\r\n  var diff = subtract(newScroll, viewport.scroll.initial);\r\n  var displacement = negate(diff);\r\n  var frame = getRect({\r\n    top: newScroll.y,\r\n    bottom: newScroll.y + viewport.frame.height,\r\n    left: newScroll.x,\r\n    right: newScroll.x + viewport.frame.width\r\n  });\r\n  var updated = {\r\n    frame: frame,\r\n    scroll: {\r\n      initial: viewport.scroll.initial,\r\n      max: viewport.scroll.max,\r\n      current: newScroll,\r\n      diff: {\r\n        value: diff,\r\n        displacement: displacement\r\n      }\r\n    }\r\n  };\r\n  return updated;\r\n});\r\n\r\nvar withNewDisplacement = (function (impact, displaced) {\r\n  return _extends({}, impact, {\r\n    movement: _extends({}, impact.movement, {\r\n      displaced: displaced,\r\n      map: getDisplacementMap(displaced)\r\n    })\r\n  });\r\n});\r\n\r\nvar speculativelyIncrease = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      viewport = _ref.viewport,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      maxScrollChange = _ref.maxScrollChange,\r\n      onLift = _ref.onLift;\r\n  var displaced = impact.movement.displaced;\r\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\r\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\r\n  var updated = displaced.map(function (entry) {\r\n    if (entry.isVisible) {\r\n      return entry;\r\n    }\r\n\r\n    var draggable = draggables[entry.draggableId];\r\n    var withScrolledViewport = getDisplacement({\r\n      draggable: draggable,\r\n      destination: destination,\r\n      previousImpact: impact,\r\n      viewport: scrolledViewport.frame,\r\n      onLift: onLift,\r\n      forceShouldAnimate: false\r\n    });\r\n\r\n    if (withScrolledViewport.isVisible) {\r\n      return withScrolledViewport;\r\n    }\r\n\r\n    var withScrolledDroppable = getDisplacement({\r\n      draggable: draggable,\r\n      destination: scrolledDroppable,\r\n      previousImpact: impact,\r\n      viewport: viewport.frame,\r\n      onLift: onLift,\r\n      forceShouldAnimate: false\r\n    });\r\n\r\n    if (withScrolledDroppable.isVisible) {\r\n      return withScrolledDroppable;\r\n    }\r\n\r\n    return entry;\r\n  });\r\n  return withNewDisplacement(impact, updated);\r\n});\r\n\r\nvar withViewportDisplacement = (function (viewport, point) {\r\n  return add(viewport.scroll.diff.displacement, point);\r\n});\r\n\r\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\r\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      draggable = _ref.draggable,\r\n      viewport = _ref.viewport;\r\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\r\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\r\n  return add(draggable.client.borderBox.center, offset);\r\n});\r\n\r\nvar isTotallyVisibleInNewLocation = (function (_ref) {\r\n  var draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\r\n      viewport = _ref.viewport,\r\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\r\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\r\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\r\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\r\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\r\n  var args = {\r\n    target: shifted,\r\n    destination: destination,\r\n    withDroppableDisplacement: withDroppableDisplacement,\r\n    viewport: viewport\r\n  };\r\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\r\n});\r\n\r\nvar moveToNextPlace = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      draggable = _ref.draggable,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      previousClientSelection = _ref.previousClientSelection,\r\n      onLift = _ref.onLift;\r\n\r\n  if (!destination.isEnabled) {\r\n    return null;\r\n  }\r\n\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var isInHomeList = isHomeOf(draggable, destination);\r\n  var impact = moveToNextCombine({\r\n    isInHomeList: isInHomeList,\r\n    isMovingForward: isMovingForward,\r\n    draggable: draggable,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    previousImpact: previousImpact\r\n  }) || moveToNextIndex({\r\n    isMovingForward: isMovingForward,\r\n    isInHomeList: isInHomeList,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    previousImpact: previousImpact,\r\n    onLift: onLift\r\n  });\r\n\r\n  if (!impact) {\r\n    return null;\r\n  }\r\n\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    onLift: onLift\r\n  });\r\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\r\n    draggable: draggable,\r\n    destination: destination,\r\n    newPageBorderBoxCenter: pageBorderBoxCenter,\r\n    viewport: viewport.frame,\r\n    withDroppableDisplacement: false,\r\n    onlyOnMainAxis: true\r\n  });\r\n\r\n  if (isVisibleInNewLocation) {\r\n    var clientSelection = getClientFromPageBorderBoxCenter({\r\n      pageBorderBoxCenter: pageBorderBoxCenter,\r\n      draggable: draggable,\r\n      viewport: viewport\r\n    });\r\n    return {\r\n      clientSelection: clientSelection,\r\n      impact: impact,\r\n      scrollJumpRequest: null\r\n    };\r\n  }\r\n\r\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\r\n  var cautious = speculativelyIncrease({\r\n    impact: impact,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    draggables: draggables,\r\n    maxScrollChange: distance,\r\n    onLift: onLift\r\n  });\r\n  return {\r\n    clientSelection: previousClientSelection,\r\n    impact: cautious,\r\n    scrollJumpRequest: distance\r\n  };\r\n});\r\n\r\nvar getKnownActive = function getKnownActive(droppable) {\r\n  var rect = droppable.subject.active;\r\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\r\n  return rect;\r\n};\r\n\r\nvar getBestCrossAxisDroppable = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      source = _ref.source,\r\n      droppables = _ref.droppables,\r\n      viewport = _ref.viewport;\r\n  var active = source.subject.active;\r\n\r\n  if (!active) {\r\n    return null;\r\n  }\r\n\r\n  var axis = source.axis;\r\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\r\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\r\n    return droppable !== source;\r\n  }).filter(function (droppable) {\r\n    return droppable.isEnabled;\r\n  }).filter(function (droppable) {\r\n    return Boolean(droppable.subject.active);\r\n  }).filter(function (droppable) {\r\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\r\n  }).filter(function (droppable) {\r\n    var activeOfTarget = getKnownActive(droppable);\r\n\r\n    if (isMovingForward) {\r\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\r\n    }\r\n\r\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\r\n  }).filter(function (droppable) {\r\n    var activeOfTarget = getKnownActive(droppable);\r\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\r\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\r\n  }).sort(function (a, b) {\r\n    var first = getKnownActive(a)[axis.crossAxisStart];\r\n    var second = getKnownActive(b)[axis.crossAxisStart];\r\n\r\n    if (isMovingForward) {\r\n      return first - second;\r\n    }\r\n\r\n    return second - first;\r\n  }).filter(function (droppable, index, array) {\r\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\r\n  });\r\n\r\n  if (!candidates.length) {\r\n    return null;\r\n  }\r\n\r\n  if (candidates.length === 1) {\r\n    return candidates[0];\r\n  }\r\n\r\n  var contains = candidates.filter(function (droppable) {\r\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\r\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\r\n  });\r\n\r\n  if (contains.length === 1) {\r\n    return contains[0];\r\n  }\r\n\r\n  if (contains.length > 1) {\r\n    return contains.sort(function (a, b) {\r\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\r\n    })[0];\r\n  }\r\n\r\n  return candidates.sort(function (a, b) {\r\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\r\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\r\n\r\n    if (first !== second) {\r\n      return first - second;\r\n    }\r\n\r\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\r\n  })[0];\r\n});\r\n\r\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\r\n  var original = draggable.page.borderBox.center;\r\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\r\n};\r\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\r\n  var original = draggable.page.borderBox;\r\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\r\n};\r\n\r\nvar getClosestDraggable = (function (_ref) {\r\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\r\n      viewport = _ref.viewport,\r\n      destination = _ref.destination,\r\n      insideDestination = _ref.insideDestination,\r\n      onLift = _ref.onLift;\r\n  var sorted = insideDestination.filter(function (draggable) {\r\n    return isTotallyVisible({\r\n      target: getCurrentPageBorderBox(draggable, onLift),\r\n      destination: destination,\r\n      viewport: viewport.frame,\r\n      withDroppableDisplacement: true\r\n    });\r\n  }).sort(function (a, b) {\r\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\r\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\r\n\r\n    if (distanceToA < distanceToB) {\r\n      return -1;\r\n    }\r\n\r\n    if (distanceToB < distanceToA) {\r\n      return 1;\r\n    }\r\n\r\n    return a.descriptor.index - b.descriptor.index;\r\n  });\r\n  return sorted[0] || null;\r\n});\r\n\r\nvar moveToNewDroppable = (function (_ref) {\r\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      moveRelativeTo = _ref.moveRelativeTo,\r\n      insideDestination = _ref.insideDestination,\r\n      draggable = _ref.draggable,\r\n      draggables = _ref.draggables,\r\n      destination = _ref.destination,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      onLift = _ref.onLift;\r\n\r\n  if (!moveRelativeTo) {\r\n    if (insideDestination.length) {\r\n      return null;\r\n    }\r\n\r\n    var proposed = {\r\n      movement: noMovement,\r\n      destination: {\r\n        droppableId: destination.descriptor.id,\r\n        index: 0\r\n      },\r\n      merge: null\r\n    };\r\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n      impact: proposed,\r\n      draggable: draggable,\r\n      droppable: destination,\r\n      draggables: draggables,\r\n      onLift: onLift\r\n    });\r\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\r\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\r\n      draggable: draggable,\r\n      destination: withPlaceholder,\r\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\r\n      viewport: viewport.frame,\r\n      withDroppableDisplacement: false,\r\n      onlyOnMainAxis: true\r\n    });\r\n    return isVisibleInNewLocation ? proposed : null;\r\n  }\r\n\r\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\r\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\r\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\r\n\r\n  var proposedIndex = function () {\r\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\r\n      return targetIndex;\r\n    }\r\n\r\n    if (isGoingBeforeTarget) {\r\n      return targetIndex;\r\n    }\r\n\r\n    return targetIndex + 1;\r\n  }();\r\n\r\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\r\n    return getDisplacement({\r\n      draggable: dimension,\r\n      destination: destination,\r\n      viewport: viewport.frame,\r\n      previousImpact: previousImpact,\r\n      onLift: onLift\r\n    });\r\n  });\r\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\r\n  var impact = {\r\n    movement: {\r\n      displacedBy: displacedBy,\r\n      displaced: displaced,\r\n      map: getDisplacementMap(displaced)\r\n    },\r\n    destination: {\r\n      droppableId: destination.descriptor.id,\r\n      index: proposedIndex\r\n    },\r\n    merge: null\r\n  };\r\n  return impact;\r\n});\r\n\r\nvar moveCrossAxis = (function (_ref) {\r\n  var isMovingForward = _ref.isMovingForward,\r\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\r\n      draggable = _ref.draggable,\r\n      isOver = _ref.isOver,\r\n      draggables = _ref.draggables,\r\n      droppables = _ref.droppables,\r\n      previousImpact = _ref.previousImpact,\r\n      viewport = _ref.viewport,\r\n      onLift = _ref.onLift;\r\n  var destination = getBestCrossAxisDroppable({\r\n    isMovingForward: isMovingForward,\r\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    source: isOver,\r\n    droppables: droppables,\r\n    viewport: viewport\r\n  });\r\n\r\n  if (!destination) {\r\n    return null;\r\n  }\r\n\r\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\r\n  var moveRelativeTo = getClosestDraggable({\r\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    insideDestination: insideDestination,\r\n    onLift: onLift\r\n  });\r\n  var impact = moveToNewDroppable({\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    destination: destination,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    moveRelativeTo: moveRelativeTo,\r\n    insideDestination: insideDestination,\r\n    previousImpact: previousImpact,\r\n    viewport: viewport,\r\n    onLift: onLift\r\n  });\r\n\r\n  if (!impact) {\r\n    return null;\r\n  }\r\n\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    onLift: onLift\r\n  });\r\n  var clientSelection = getClientFromPageBorderBoxCenter({\r\n    pageBorderBoxCenter: pageBorderBoxCenter,\r\n    draggable: draggable,\r\n    viewport: viewport\r\n  });\r\n  return {\r\n    clientSelection: clientSelection,\r\n    impact: impact,\r\n    scrollJumpRequest: null\r\n  };\r\n});\r\n\r\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\r\n  var id = whatIsDraggedOver(impact);\r\n  return id ? droppables[id] : null;\r\n};\r\n\r\nvar moveInDirection = (function (_ref) {\r\n  var state = _ref.state,\r\n      type = _ref.type;\r\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\r\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\r\n  var home = state.dimensions.droppables[state.critical.droppable.id];\r\n  var isOver = isActuallyOver || home;\r\n  var direction = isOver.axis.direction;\r\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\r\n\r\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\r\n    return null;\r\n  }\r\n\r\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\r\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\r\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\r\n  var _state$dimensions = state.dimensions,\r\n      draggables = _state$dimensions.draggables,\r\n      droppables = _state$dimensions.droppables;\r\n  return isMovingOnMainAxis ? moveToNextPlace({\r\n    isMovingForward: isMovingForward,\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    draggable: draggable,\r\n    destination: isOver,\r\n    draggables: draggables,\r\n    viewport: state.viewport,\r\n    previousClientSelection: state.current.client.selection,\r\n    previousImpact: state.impact,\r\n    onLift: state.onLift\r\n  }) : moveCrossAxis({\r\n    isMovingForward: isMovingForward,\r\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\r\n    draggable: draggable,\r\n    isOver: isOver,\r\n    draggables: draggables,\r\n    droppables: droppables,\r\n    previousImpact: state.impact,\r\n    viewport: state.viewport,\r\n    onLift: state.onLift\r\n  });\r\n});\r\n\r\nfunction isMovementAllowed(state) {\r\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\r\n}\r\n\r\nvar getVertical = function getVertical(previous, diff) {\r\n  if (diff === 0) {\r\n    return previous;\r\n  }\r\n\r\n  return diff > 0 ? 'down' : 'up';\r\n};\r\n\r\nvar getHorizontal = function getHorizontal(previous, diff) {\r\n  if (diff === 0) {\r\n    return previous;\r\n  }\r\n\r\n  return diff > 0 ? 'right' : 'left';\r\n};\r\n\r\nvar getUserDirection = (function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\r\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\r\n  return {\r\n    horizontal: getHorizontal(previous.horizontal, diff.x),\r\n    vertical: getVertical(previous.vertical, diff.y)\r\n  };\r\n});\r\n\r\nvar update = (function (_ref) {\r\n  var state = _ref.state,\r\n      forcedClientSelection = _ref.clientSelection,\r\n      forcedDimensions = _ref.dimensions,\r\n      forcedViewport = _ref.viewport,\r\n      forcedImpact = _ref.impact,\r\n      scrollJumpRequest = _ref.scrollJumpRequest;\r\n  var viewport = forcedViewport || state.viewport;\r\n  var currentWindowScroll = viewport.scroll.current;\r\n  var dimensions = forcedDimensions || state.dimensions;\r\n  var clientSelection = forcedClientSelection || state.current.client.selection;\r\n  var offset = subtract(clientSelection, state.initial.client.selection);\r\n  var client = {\r\n    offset: offset,\r\n    selection: clientSelection,\r\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\r\n  };\r\n  var page = {\r\n    selection: add(client.selection, currentWindowScroll),\r\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\r\n  };\r\n  var current = {\r\n    client: client,\r\n    page: page\r\n  };\r\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\r\n\r\n  if (state.phase === 'COLLECTING') {\r\n    return _extends({\r\n      phase: 'COLLECTING'\r\n    }, state, {\r\n      dimensions: dimensions,\r\n      viewport: viewport,\r\n      current: current,\r\n      userDirection: userDirection\r\n    });\r\n  }\r\n\r\n  var draggable = dimensions.draggables[state.critical.draggable.id];\r\n  var newImpact = forcedImpact || getDragImpact({\r\n    pageBorderBoxCenter: page.borderBoxCenter,\r\n    draggable: draggable,\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables,\r\n    previousImpact: state.impact,\r\n    viewport: viewport,\r\n    userDirection: userDirection,\r\n    onLift: state.onLift\r\n  });\r\n  var withUpdatedPlaceholders = recomputePlaceholders({\r\n    draggable: draggable,\r\n    impact: newImpact,\r\n    previousImpact: state.impact,\r\n    draggables: dimensions.draggables,\r\n    droppables: dimensions.droppables\r\n  });\r\n\r\n  var result = _extends({}, state, {\r\n    current: current,\r\n    userDirection: userDirection,\r\n    dimensions: {\r\n      draggables: dimensions.draggables,\r\n      droppables: withUpdatedPlaceholders\r\n    },\r\n    impact: newImpact,\r\n    viewport: viewport,\r\n    scrollJumpRequest: scrollJumpRequest || null,\r\n    forceShouldAnimate: scrollJumpRequest ? false : null\r\n  });\r\n\r\n  return result;\r\n});\r\n\r\nvar recompute = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      viewport = _ref.viewport,\r\n      destination = _ref.destination,\r\n      draggables = _ref.draggables,\r\n      onLift = _ref.onLift,\r\n      forceShouldAnimate = _ref.forceShouldAnimate;\r\n  var updated = impact.movement.displaced.map(function (entry) {\r\n    return getDisplacement({\r\n      draggable: draggables[entry.draggableId],\r\n      destination: destination,\r\n      previousImpact: impact,\r\n      viewport: viewport.frame,\r\n      onLift: onLift,\r\n      forceShouldAnimate: forceShouldAnimate\r\n    });\r\n  });\r\n  return withNewDisplacement(impact, updated);\r\n});\r\n\r\nvar getClientBorderBoxCenter = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      droppable = _ref.droppable,\r\n      draggables = _ref.draggables,\r\n      viewport = _ref.viewport,\r\n      onLift = _ref.onLift;\r\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    droppable: droppable,\r\n    onLift: onLift\r\n  });\r\n  return getClientFromPageBorderBoxCenter({\r\n    pageBorderBoxCenter: pageBorderBoxCenter,\r\n    draggable: draggable,\r\n    viewport: viewport\r\n  });\r\n});\r\n\r\nvar refreshSnap = (function (_ref) {\r\n  var state = _ref.state,\r\n      forcedDimensions = _ref.dimensions,\r\n      forcedViewport = _ref.viewport;\r\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n  var needsVisibilityCheck = state.impact;\r\n  var viewport = forcedViewport || state.viewport;\r\n  var dimensions = forcedDimensions || state.dimensions;\r\n  var draggables = dimensions.draggables,\r\n      droppables = dimensions.droppables;\r\n  var draggable = draggables[state.critical.draggable.id];\r\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\r\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\r\n  var destination = droppables[isOver];\r\n  var impact = recompute({\r\n    impact: needsVisibilityCheck,\r\n    viewport: viewport,\r\n    destination: destination,\r\n    draggables: draggables,\r\n    onLift: state.onLift\r\n  });\r\n  var clientSelection = getClientBorderBoxCenter({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    droppable: destination,\r\n    draggables: draggables,\r\n    viewport: viewport,\r\n    onLift: state.onLift\r\n  });\r\n  return update({\r\n    impact: impact,\r\n    clientSelection: clientSelection,\r\n    state: state,\r\n    dimensions: dimensions,\r\n    viewport: viewport\r\n  });\r\n});\r\n\r\nvar patchDimensionMap = (function (dimensions, updated) {\r\n  return {\r\n    draggables: dimensions.draggables,\r\n    droppables: patchDroppableMap(dimensions.droppables, updated)\r\n  };\r\n});\r\n\r\nvar isSnapping = function isSnapping(state) {\r\n  return state.movementMode === 'SNAP';\r\n};\r\n\r\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\r\n  var dimensions = patchDimensionMap(state.dimensions, updated);\r\n\r\n  if (!isSnapping(state) || isEnabledChanging) {\r\n    return update({\r\n      state: state,\r\n      dimensions: dimensions\r\n    });\r\n  }\r\n\r\n  return refreshSnap({\r\n    state: state,\r\n    dimensions: dimensions\r\n  });\r\n};\r\n\r\nvar idle = {\r\n  phase: 'IDLE',\r\n  completed: null,\r\n  shouldFlush: false\r\n};\r\nvar reducer = (function (state, action) {\r\n  if (state === void 0) {\r\n    state = idle;\r\n  }\r\n\r\n  if (action.type === 'CLEAN') {\r\n    return _extends({}, idle, {\r\n      shouldFlush: action.payload.shouldFlush\r\n    });\r\n  }\r\n\r\n  if (action.type === 'INITIAL_PUBLISH') {\r\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\r\n    var _action$payload = action.payload,\r\n        critical = _action$payload.critical,\r\n        clientSelection = _action$payload.clientSelection,\r\n        viewport = _action$payload.viewport,\r\n        dimensions = _action$payload.dimensions,\r\n        movementMode = _action$payload.movementMode;\r\n    var draggable = dimensions.draggables[critical.draggable.id];\r\n    var home = dimensions.droppables[critical.droppable.id];\r\n    var client = {\r\n      selection: clientSelection,\r\n      borderBoxCenter: draggable.client.borderBox.center,\r\n      offset: origin\r\n    };\r\n    var initial = {\r\n      client: client,\r\n      page: {\r\n        selection: add(client.selection, viewport.scroll.initial),\r\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\r\n      }\r\n    };\r\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\r\n      return !item.isFixedOnPage;\r\n    });\r\n\r\n    var _getHomeOnLift = getHomeOnLift({\r\n      draggable: draggable,\r\n      home: home,\r\n      draggables: dimensions.draggables,\r\n      viewport: viewport\r\n    }),\r\n        impact = _getHomeOnLift.impact,\r\n        onLift = _getHomeOnLift.onLift;\r\n\r\n    var result = {\r\n      phase: 'DRAGGING',\r\n      isDragging: true,\r\n      critical: critical,\r\n      movementMode: movementMode,\r\n      dimensions: dimensions,\r\n      initial: initial,\r\n      current: initial,\r\n      isWindowScrollAllowed: isWindowScrollAllowed,\r\n      impact: impact,\r\n      onLift: onLift,\r\n      onLiftImpact: impact,\r\n      viewport: viewport,\r\n      userDirection: forward,\r\n      scrollJumpRequest: null,\r\n      forceShouldAnimate: null\r\n    };\r\n    return result;\r\n  }\r\n\r\n  if (action.type === 'COLLECTION_STARTING') {\r\n    var _extends2;\r\n\r\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\r\n\r\n    var _result = _extends({\r\n      phase: 'COLLECTING'\r\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\r\n\r\n    return _result;\r\n  }\r\n\r\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\r\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\r\n    return publishWhileDragging({\r\n      state: state,\r\n      published: action.payload\r\n    });\r\n  }\r\n\r\n  if (action.type === 'MOVE') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\r\n    var _clientSelection = action.payload.client;\r\n\r\n    if (isEqual(_clientSelection, state.current.client.selection)) {\r\n      return state;\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      clientSelection: _clientSelection,\r\n      impact: isSnapping(state) ? state.impact : null\r\n    });\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    if (state.phase === 'COLLECTING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload2 = action.payload,\r\n        id = _action$payload2.id,\r\n        offset = _action$payload2.offset;\r\n    var target = state.dimensions.droppables[id];\r\n\r\n    if (!target) {\r\n      return state;\r\n    }\r\n\r\n    var scrolled = scrollDroppable(target, offset);\r\n    return postDroppableChange(state, scrolled, false);\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload3 = action.payload,\r\n        _id = _action$payload3.id,\r\n        isEnabled = _action$payload3.isEnabled;\r\n    var _target = state.dimensions.droppables[_id];\r\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\r\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\r\n\r\n    var updated = _extends({}, _target, {\r\n      isEnabled: isEnabled\r\n    });\r\n\r\n    return postDroppableChange(state, updated, true);\r\n  }\r\n\r\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\r\n    if (state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\r\n    var _action$payload4 = action.payload,\r\n        _id2 = _action$payload4.id,\r\n        isCombineEnabled = _action$payload4.isCombineEnabled;\r\n    var _target2 = state.dimensions.droppables[_id2];\r\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\r\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\r\n\r\n    var _updated = _extends({}, _target2, {\r\n      isCombineEnabled: isCombineEnabled\r\n    });\r\n\r\n    return postDroppableChange(state, _updated, true);\r\n  }\r\n\r\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\r\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\r\n      return state;\r\n    }\r\n\r\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\r\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\r\n    var newScroll = action.payload.newScroll;\r\n\r\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\r\n      return state;\r\n    }\r\n\r\n    var _viewport = scrollViewport(state.viewport, newScroll);\r\n\r\n    if (isSnapping(state)) {\r\n      return refreshSnap({\r\n        state: state,\r\n        viewport: _viewport\r\n      });\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      viewport: _viewport\r\n    });\r\n  }\r\n\r\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\r\n    if (!isMovementAllowed(state)) {\r\n      return state;\r\n    }\r\n\r\n    var maxScroll = action.payload.maxScroll;\r\n\r\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\r\n      return state;\r\n    }\r\n\r\n    var withMaxScroll = _extends({}, state.viewport, {\r\n      scroll: _extends({}, state.viewport.scroll, {\r\n        max: maxScroll\r\n      })\r\n    });\r\n\r\n    return _extends({\r\n      phase: 'DRAGGING'\r\n    }, state, {\r\n      viewport: withMaxScroll\r\n    });\r\n  }\r\n\r\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\r\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\r\n      return state;\r\n    }\r\n\r\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\r\n\r\n    var _result2 = moveInDirection({\r\n      state: state,\r\n      type: action.type\r\n    });\r\n\r\n    if (!_result2) {\r\n      return state;\r\n    }\r\n\r\n    return update({\r\n      state: state,\r\n      impact: _result2.impact,\r\n      clientSelection: _result2.clientSelection,\r\n      scrollJumpRequest: _result2.scrollJumpRequest\r\n    });\r\n  }\r\n\r\n  if (action.type === 'DROP_PENDING') {\r\n    var _extends3;\r\n\r\n    var reason = action.payload.reason;\r\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\r\n\r\n    var newState = _extends({\r\n      phase: 'DROP_PENDING'\r\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\r\n\r\n    return newState;\r\n  }\r\n\r\n  if (action.type === 'DROP_ANIMATE') {\r\n    var _action$payload5 = action.payload,\r\n        completed = _action$payload5.completed,\r\n        dropDuration = _action$payload5.dropDuration,\r\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\r\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\r\n    var _result3 = {\r\n      phase: 'DROP_ANIMATING',\r\n      dimensions: state.dimensions,\r\n      completed: completed,\r\n      dropDuration: dropDuration,\r\n      newHomeClientOffset: newHomeClientOffset\r\n    };\r\n    return _result3;\r\n  }\r\n\r\n  if (action.type === 'DROP_COMPLETE') {\r\n    var _action$payload6 = action.payload,\r\n        _completed = _action$payload6.completed,\r\n        shouldFlush = _action$payload6.shouldFlush;\r\n    return {\r\n      phase: 'IDLE',\r\n      completed: _completed,\r\n      shouldFlush: shouldFlush\r\n    };\r\n  }\r\n\r\n  return state;\r\n});\r\n\r\nvar lift = function lift(args) {\r\n  return {\r\n    type: 'LIFT',\r\n    payload: args\r\n  };\r\n};\r\nvar initialPublish = function initialPublish(args) {\r\n  return {\r\n    type: 'INITIAL_PUBLISH',\r\n    payload: args\r\n  };\r\n};\r\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\r\n  return {\r\n    type: 'PUBLISH_WHILE_DRAGGING',\r\n    payload: args\r\n  };\r\n};\r\nvar collectionStarting = function collectionStarting() {\r\n  return {\r\n    type: 'COLLECTION_STARTING',\r\n    payload: null\r\n  };\r\n};\r\nvar updateDroppableScroll = function updateDroppableScroll(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\r\n    payload: args\r\n  };\r\n};\r\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\r\n  return {\r\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\r\n    payload: args\r\n  };\r\n};\r\nvar move = function move(args) {\r\n  return {\r\n    type: 'MOVE',\r\n    payload: args\r\n  };\r\n};\r\nvar moveByWindowScroll = function moveByWindowScroll(args) {\r\n  return {\r\n    type: 'MOVE_BY_WINDOW_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\r\n  return {\r\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\r\n    payload: args\r\n  };\r\n};\r\nvar moveUp = function moveUp() {\r\n  return {\r\n    type: 'MOVE_UP',\r\n    payload: null\r\n  };\r\n};\r\nvar moveDown = function moveDown() {\r\n  return {\r\n    type: 'MOVE_DOWN',\r\n    payload: null\r\n  };\r\n};\r\nvar moveRight = function moveRight() {\r\n  return {\r\n    type: 'MOVE_RIGHT',\r\n    payload: null\r\n  };\r\n};\r\nvar moveLeft = function moveLeft() {\r\n  return {\r\n    type: 'MOVE_LEFT',\r\n    payload: null\r\n  };\r\n};\r\nvar clean$1 = function clean(args) {\r\n  if (args === void 0) {\r\n    args = {\r\n      shouldFlush: false\r\n    };\r\n  }\r\n\r\n  return {\r\n    type: 'CLEAN',\r\n    payload: args\r\n  };\r\n};\r\nvar animateDrop = function animateDrop(args) {\r\n  return {\r\n    type: 'DROP_ANIMATE',\r\n    payload: args\r\n  };\r\n};\r\nvar completeDrop = function completeDrop(args) {\r\n  return {\r\n    type: 'DROP_COMPLETE',\r\n    payload: args\r\n  };\r\n};\r\nvar drop = function drop(args) {\r\n  return {\r\n    type: 'DROP',\r\n    payload: args\r\n  };\r\n};\r\nvar dropPending = function dropPending(args) {\r\n  return {\r\n    type: 'DROP_PENDING',\r\n    payload: args\r\n  };\r\n};\r\nvar dropAnimationFinished = function dropAnimationFinished() {\r\n  return {\r\n    type: 'DROP_ANIMATION_FINISHED',\r\n    payload: null\r\n  };\r\n};\r\n\r\nvar lift$1 = (function (marshal) {\r\n  return function (_ref) {\r\n    var getState = _ref.getState,\r\n        dispatch = _ref.dispatch;\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type !== 'LIFT') {\r\n          next(action);\r\n          return;\r\n        }\r\n\r\n        var _action$payload = action.payload,\r\n            id = _action$payload.id,\r\n            clientSelection = _action$payload.clientSelection,\r\n            movementMode = _action$payload.movementMode;\r\n        var initial = getState();\r\n\r\n        if (initial.phase === 'DROP_ANIMATING') {\r\n          dispatch(completeDrop({\r\n            completed: initial.completed,\r\n            shouldFlush: true\r\n          }));\r\n        }\r\n\r\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\r\n        var scrollOptions = {\r\n          shouldPublishImmediately: movementMode === 'SNAP'\r\n        };\r\n        var request = {\r\n          draggableId: id,\r\n          scrollOptions: scrollOptions\r\n        };\r\n\r\n        var _marshal$startPublish = marshal.startPublishing(request),\r\n            critical = _marshal$startPublish.critical,\r\n            dimensions = _marshal$startPublish.dimensions,\r\n            viewport = _marshal$startPublish.viewport;\r\n\r\n        dispatch(initialPublish({\r\n          critical: critical,\r\n          dimensions: dimensions,\r\n          clientSelection: clientSelection,\r\n          movementMode: movementMode,\r\n          viewport: viewport\r\n        }));\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar style = (function (marshal) {\r\n  return function () {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          marshal.dragging();\r\n        }\r\n\r\n        if (action.type === 'DROP_ANIMATE') {\r\n          marshal.dropping(action.payload.completed.result.reason);\r\n        }\r\n\r\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\r\n          marshal.resting();\r\n        }\r\n\r\n        next(action);\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar curves = {\r\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\r\n  drop: 'cubic-bezier(.2,1,.1,1)'\r\n};\r\nvar combine = {\r\n  opacity: {\r\n    drop: 0,\r\n    combining: 0.7\r\n  },\r\n  scale: {\r\n    drop: 0.75\r\n  }\r\n};\r\nvar timings = {\r\n  outOfTheWay: 0.2,\r\n  minDropTime: 0.33,\r\n  maxDropTime: 0.55\r\n};\r\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\r\nvar transitions = {\r\n  fluid: \"opacity \" + outOfTheWayTiming,\r\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\r\n  drop: function drop(duration) {\r\n    var timing = duration + \"s \" + curves.drop;\r\n    return \"transform \" + timing + \", opacity \" + timing;\r\n  },\r\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\r\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\r\n};\r\n\r\nvar moveTo = function moveTo(offset) {\r\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\r\n};\r\n\r\nvar transforms = {\r\n  moveTo: moveTo,\r\n  drop: function drop(offset, isCombining) {\r\n    var translate = moveTo(offset);\r\n\r\n    if (!translate) {\r\n      return null;\r\n    }\r\n\r\n    if (!isCombining) {\r\n      return translate;\r\n    }\r\n\r\n    return translate + \" scale(\" + combine.scale.drop + \")\";\r\n  }\r\n};\r\n\r\nvar minDropTime = timings.minDropTime,\r\n    maxDropTime = timings.maxDropTime;\r\nvar dropTimeRange = maxDropTime - minDropTime;\r\nvar maxDropTimeAtDistance = 1500;\r\nvar cancelDropModifier = 0.6;\r\nvar getDropDuration = (function (_ref) {\r\n  var current = _ref.current,\r\n      destination = _ref.destination,\r\n      reason = _ref.reason;\r\n  var distance$1 = distance(current, destination);\r\n\r\n  if (distance$1 <= 0) {\r\n    return minDropTime;\r\n  }\r\n\r\n  if (distance$1 >= maxDropTimeAtDistance) {\r\n    return maxDropTime;\r\n  }\r\n\r\n  var percentage = distance$1 / maxDropTimeAtDistance;\r\n  var duration = minDropTime + dropTimeRange * percentage;\r\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\r\n  return Number(withDuration.toFixed(2));\r\n});\r\n\r\nvar getNewHomeClientOffset = (function (_ref) {\r\n  var impact = _ref.impact,\r\n      draggable = _ref.draggable,\r\n      dimensions = _ref.dimensions,\r\n      viewport = _ref.viewport,\r\n      onLift = _ref.onLift;\r\n  var draggables = dimensions.draggables,\r\n      droppables = dimensions.droppables;\r\n  var droppableId = whatIsDraggedOver(impact);\r\n  var destination = droppableId ? droppables[droppableId] : null;\r\n  var home = droppables[draggable.descriptor.droppableId];\r\n  var newClientCenter = getClientBorderBoxCenter({\r\n    impact: impact,\r\n    draggable: draggable,\r\n    draggables: draggables,\r\n    onLift: onLift,\r\n    droppable: destination || home,\r\n    viewport: viewport\r\n  });\r\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\r\n  var merge = impact.merge;\r\n\r\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\r\n    return subtract(offset, onLift.displacedBy.point);\r\n  }\r\n\r\n  return offset;\r\n});\r\n\r\nvar getDropImpact = (function (_ref) {\r\n  var reason = _ref.reason,\r\n      lastImpact = _ref.lastImpact,\r\n      home = _ref.home,\r\n      viewport = _ref.viewport,\r\n      draggables = _ref.draggables,\r\n      onLiftImpact = _ref.onLiftImpact,\r\n      onLift = _ref.onLift;\r\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\r\n\r\n  if (!didDropInsideDroppable) {\r\n    var impact = recompute({\r\n      impact: onLiftImpact,\r\n      destination: home,\r\n      viewport: viewport,\r\n      draggables: draggables,\r\n      onLift: onLift,\r\n      forceShouldAnimate: true\r\n    });\r\n    return {\r\n      impact: impact,\r\n      didDropInsideDroppable: didDropInsideDroppable\r\n    };\r\n  }\r\n\r\n  if (lastImpact.destination) {\r\n    return {\r\n      impact: lastImpact,\r\n      didDropInsideDroppable: didDropInsideDroppable\r\n    };\r\n  }\r\n\r\n  var withoutMovement = _extends({}, lastImpact, {\r\n    movement: noMovement\r\n  });\r\n\r\n  return {\r\n    impact: withoutMovement,\r\n    didDropInsideDroppable: didDropInsideDroppable\r\n  };\r\n});\r\n\r\nvar drop$1 = (function (_ref) {\r\n  var getState = _ref.getState,\r\n      dispatch = _ref.dispatch;\r\n  return function (next) {\r\n    return function (action) {\r\n      if (action.type !== 'DROP') {\r\n        next(action);\r\n        return;\r\n      }\r\n\r\n      var state = getState();\r\n      var reason = action.payload.reason;\r\n\r\n      if (state.phase === 'COLLECTING') {\r\n        dispatch(dropPending({\r\n          reason: reason\r\n        }));\r\n        return;\r\n      }\r\n\r\n      if (state.phase === 'IDLE') {\r\n        return;\r\n      }\r\n\r\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\r\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\r\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\r\n      var critical = state.critical;\r\n      var dimensions = state.dimensions;\r\n\r\n      var _getDropImpact = getDropImpact({\r\n        reason: reason,\r\n        lastImpact: state.impact,\r\n        onLift: state.onLift,\r\n        onLiftImpact: state.onLiftImpact,\r\n        home: state.dimensions.droppables[state.critical.droppable.id],\r\n        viewport: state.viewport,\r\n        draggables: state.dimensions.draggables\r\n      }),\r\n          impact = _getDropImpact.impact,\r\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\r\n\r\n      var draggable = dimensions.draggables[state.critical.draggable.id];\r\n      var destination = didDropInsideDroppable ? impact.destination : null;\r\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\r\n      var source = {\r\n        index: critical.draggable.index,\r\n        droppableId: critical.droppable.id\r\n      };\r\n      var result = {\r\n        draggableId: draggable.descriptor.id,\r\n        type: draggable.descriptor.type,\r\n        source: source,\r\n        reason: reason,\r\n        mode: state.movementMode,\r\n        destination: destination,\r\n        combine: combine\r\n      };\r\n      var newHomeClientOffset = getNewHomeClientOffset({\r\n        impact: impact,\r\n        draggable: draggable,\r\n        dimensions: dimensions,\r\n        viewport: state.viewport,\r\n        onLift: state.onLift\r\n      });\r\n      var completed = {\r\n        critical: state.critical,\r\n        result: result,\r\n        impact: impact\r\n      };\r\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\r\n\r\n      if (!isAnimationRequired) {\r\n        dispatch(completeDrop({\r\n          completed: completed,\r\n          shouldFlush: false\r\n        }));\r\n        return;\r\n      }\r\n\r\n      var dropDuration = getDropDuration({\r\n        current: state.current.client.offset,\r\n        destination: newHomeClientOffset,\r\n        reason: reason\r\n      });\r\n      var args = {\r\n        newHomeClientOffset: newHomeClientOffset,\r\n        dropDuration: dropDuration,\r\n        completed: completed\r\n      };\r\n      dispatch(animateDrop(args));\r\n    };\r\n  };\r\n});\r\n\r\nvar position = function position(index) {\r\n  return index + 1;\r\n};\r\n\r\nvar onDragStart = function onDragStart(start) {\r\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\r\n};\r\n\r\nvar withLocation = function withLocation(source, destination) {\r\n  var isInHomeList = source.droppableId === destination.droppableId;\r\n  var startPosition = position(source.index);\r\n  var endPosition = position(destination.index);\r\n\r\n  if (isInHomeList) {\r\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\r\n  }\r\n\r\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\r\n};\r\n\r\nvar withCombine = function withCombine(id, source, combine) {\r\n  var inHomeList = source.droppableId === combine.droppableId;\r\n\r\n  if (inHomeList) {\r\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\r\n  }\r\n\r\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\r\n};\r\n\r\nvar onDragUpdate = function onDragUpdate(update) {\r\n  var location = update.destination;\r\n\r\n  if (location) {\r\n    return withLocation(update.source, location);\r\n  }\r\n\r\n  var combine = update.combine;\r\n\r\n  if (combine) {\r\n    return withCombine(update.draggableId, update.source, combine);\r\n  }\r\n\r\n  return 'You are over an area that cannot be dropped on';\r\n};\r\n\r\nvar returnedToStart = function returnedToStart(source) {\r\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\r\n};\r\n\r\nvar onDragEnd = function onDragEnd(result) {\r\n  if (result.reason === 'CANCEL') {\r\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\r\n  }\r\n\r\n  var location = result.destination;\r\n  var combine = result.combine;\r\n\r\n  if (location) {\r\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\r\n  }\r\n\r\n  if (combine) {\r\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\r\n  }\r\n\r\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\r\n};\r\n\r\nvar preset = {\r\n  onDragStart: onDragStart,\r\n  onDragUpdate: onDragUpdate,\r\n  onDragEnd: onDragEnd\r\n};\r\n\r\nvar getExpiringAnnounce = (function (announce) {\r\n  var wasCalled = false;\r\n  var isExpired = false;\r\n  var timeoutId = setTimeout(function () {\r\n    isExpired = true;\r\n  });\r\n\r\n  var result = function result(message) {\r\n    if (wasCalled) {\r\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\r\n      return;\r\n    }\r\n\r\n    if (isExpired) {\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\r\n      return;\r\n    }\r\n\r\n    wasCalled = true;\r\n    announce(message);\r\n    clearTimeout(timeoutId);\r\n  };\r\n\r\n  result.wasCalled = function () {\r\n    return wasCalled;\r\n  };\r\n\r\n  return result;\r\n});\r\n\r\nvar getAsyncMarshal = (function () {\r\n  var entries = [];\r\n\r\n  var execute = function execute(timerId) {\r\n    var index = findIndex(entries, function (item) {\r\n      return item.timerId === timerId;\r\n    });\r\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\r\n\r\n    var _entries$splice = entries.splice(index, 1),\r\n        entry = _entries$splice[0];\r\n\r\n    entry.callback();\r\n  };\r\n\r\n  var add = function add(fn) {\r\n    var timerId = setTimeout(function () {\r\n      return execute(timerId);\r\n    });\r\n    var entry = {\r\n      timerId: timerId,\r\n      callback: fn\r\n    };\r\n    entries.push(entry);\r\n  };\r\n\r\n  var flush = function flush() {\r\n    if (!entries.length) {\r\n      return;\r\n    }\r\n\r\n    var shallow = [].concat(entries);\r\n    entries.length = 0;\r\n    shallow.forEach(function (entry) {\r\n      clearTimeout(entry.timerId);\r\n      entry.callback();\r\n    });\r\n  };\r\n\r\n  return {\r\n    add: add,\r\n    flush: flush\r\n  };\r\n});\r\n\r\nvar areLocationsEqual = function areLocationsEqual(first, second) {\r\n  if (first == null && second == null) {\r\n    return true;\r\n  }\r\n\r\n  if (first == null || second == null) {\r\n    return false;\r\n  }\r\n\r\n  return first.droppableId === second.droppableId && first.index === second.index;\r\n};\r\nvar isCombineEqual = function isCombineEqual(first, second) {\r\n  if (first == null && second == null) {\r\n    return true;\r\n  }\r\n\r\n  if (first == null || second == null) {\r\n    return false;\r\n  }\r\n\r\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\r\n};\r\nvar isCriticalEqual = function isCriticalEqual(first, second) {\r\n  if (first === second) {\r\n    return true;\r\n  }\r\n\r\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\r\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\r\n  return isDraggableEqual && isDroppableEqual;\r\n};\r\n\r\nvar withTimings = function withTimings(key, fn) {\r\n  start(key);\r\n  fn();\r\n  finish(key);\r\n};\r\n\r\nvar getDragStart = function getDragStart(critical, mode) {\r\n  return {\r\n    draggableId: critical.draggable.id,\r\n    type: critical.droppable.type,\r\n    source: {\r\n      droppableId: critical.droppable.id,\r\n      index: critical.draggable.index\r\n    },\r\n    mode: mode\r\n  };\r\n};\r\n\r\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\r\n  if (!responder) {\r\n    announce(getDefaultMessage(data));\r\n    return;\r\n  }\r\n\r\n  var willExpire = getExpiringAnnounce(announce);\r\n  var provided = {\r\n    announce: willExpire\r\n  };\r\n  responder(data, provided);\r\n\r\n  if (!willExpire.wasCalled()) {\r\n    announce(getDefaultMessage(data));\r\n  }\r\n};\r\n\r\nvar getPublisher = (function (getResponders, announce) {\r\n  var asyncMarshal = getAsyncMarshal();\r\n  var dragging = null;\r\n\r\n  var beforeStart = function beforeStart(critical, mode) {\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\r\n    withTimings('onBeforeDragStart', function () {\r\n      var fn = getResponders().onBeforeDragStart;\r\n\r\n      if (fn) {\r\n        fn(getDragStart(critical, mode));\r\n      }\r\n    });\r\n  };\r\n\r\n  var start = function start(critical, mode) {\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\r\n    var data = getDragStart(critical, mode);\r\n    dragging = {\r\n      mode: mode,\r\n      lastCritical: critical,\r\n      lastLocation: data.source,\r\n      lastCombine: null\r\n    };\r\n    asyncMarshal.add(function () {\r\n      withTimings('onDragStart', function () {\r\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\r\n      });\r\n    });\r\n  };\r\n\r\n  var update = function update(critical, impact) {\r\n    var location = impact.destination;\r\n    var combine = impact.merge ? impact.merge.combine : null;\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\r\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\r\n\r\n    if (hasCriticalChanged) {\r\n      dragging.lastCritical = critical;\r\n    }\r\n\r\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\r\n\r\n    if (hasLocationChanged) {\r\n      dragging.lastLocation = location;\r\n    }\r\n\r\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\r\n\r\n    if (hasGroupingChanged) {\r\n      dragging.lastCombine = combine;\r\n    }\r\n\r\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\r\n      return;\r\n    }\r\n\r\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\r\n      combine: combine,\r\n      destination: location\r\n    });\r\n\r\n    asyncMarshal.add(function () {\r\n      withTimings('onDragUpdate', function () {\r\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\r\n      });\r\n    });\r\n  };\r\n\r\n  var flush = function flush() {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\r\n    asyncMarshal.flush();\r\n  };\r\n\r\n  var drop = function drop(result) {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\r\n    dragging = null;\r\n    withTimings('onDragEnd', function () {\r\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\r\n    });\r\n  };\r\n\r\n  var abort = function abort() {\r\n    if (!dragging) {\r\n      return;\r\n    }\r\n\r\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\r\n      combine: null,\r\n      destination: null,\r\n      reason: 'CANCEL'\r\n    });\r\n\r\n    drop(result);\r\n  };\r\n\r\n  return {\r\n    beforeStart: beforeStart,\r\n    start: start,\r\n    update: update,\r\n    flush: flush,\r\n    drop: drop,\r\n    abort: abort\r\n  };\r\n});\r\n\r\nvar responders = (function (getResponders, announce) {\r\n  var publisher = getPublisher(getResponders, announce);\r\n  return function (store) {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          var critical = action.payload.critical;\r\n          publisher.beforeStart(critical, action.payload.movementMode);\r\n          next(action);\r\n          publisher.start(critical, action.payload.movementMode);\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'DROP_COMPLETE') {\r\n          var result = action.payload.completed.result;\r\n          publisher.flush();\r\n          next(action);\r\n          publisher.drop(result);\r\n          return;\r\n        }\r\n\r\n        next(action);\r\n\r\n        if (action.type === 'CLEAN') {\r\n          publisher.abort();\r\n          return;\r\n        }\r\n\r\n        var state = store.getState();\r\n\r\n        if (state.phase === 'DRAGGING') {\r\n          publisher.update(state.critical, state.impact);\r\n        }\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar dropAnimationFinish = (function (store) {\r\n  return function (next) {\r\n    return function (action) {\r\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\r\n        next(action);\r\n        return;\r\n      }\r\n\r\n      var state = store.getState();\r\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\r\n      store.dispatch(completeDrop({\r\n        completed: state.completed,\r\n        shouldFlush: false\r\n      }));\r\n    };\r\n  };\r\n});\r\n\r\nvar dimensionMarshalStopper = (function (marshal) {\r\n  return function () {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\r\n          marshal.stopPublishing();\r\n        }\r\n\r\n        next(action);\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar shouldEnd = function shouldEnd(action) {\r\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\r\n};\r\n\r\nvar shouldCancelPending = function shouldCancelPending(action) {\r\n  return action.type === 'COLLECTION_STARTING';\r\n};\r\n\r\nvar autoScroll = (function (autoScroller) {\r\n  return function (store) {\r\n    return function (next) {\r\n      return function (action) {\r\n        if (shouldEnd(action)) {\r\n          autoScroller.stop();\r\n          next(action);\r\n          return;\r\n        }\r\n\r\n        if (shouldCancelPending(action)) {\r\n          autoScroller.cancelPending();\r\n          next(action);\r\n          return;\r\n        }\r\n\r\n        if (action.type === 'INITIAL_PUBLISH') {\r\n          next(action);\r\n          var state = store.getState();\r\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\r\n          autoScroller.start(state);\r\n          return;\r\n        }\r\n\r\n        next(action);\r\n        autoScroller.scroll(store.getState());\r\n      };\r\n    };\r\n  };\r\n});\r\n\r\nvar pendingDrop = (function (store) {\r\n  return function (next) {\r\n    return function (action) {\r\n      next(action);\r\n\r\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\r\n        return;\r\n      }\r\n\r\n      var postActionState = store.getState();\r\n\r\n      if (postActionState.phase !== 'DROP_PENDING') {\r\n        return;\r\n      }\r\n\r\n      if (postActionState.isWaiting) {\r\n        return;\r\n      }\r\n\r\n      store.dispatch(drop({\r\n        reason: postActionState.reason\r\n      }));\r\n    };\r\n  };\r\n});\r\n\r\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\r\nvar createStore = (function (_ref) {\r\n  var dimensionMarshal = _ref.dimensionMarshal,\r\n      styleMarshal = _ref.styleMarshal,\r\n      getResponders = _ref.getResponders,\r\n      announce = _ref.announce,\r\n      autoScroller = _ref.autoScroller;\r\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\r\n});\r\n\r\nvar clean$2 = function clean() {\r\n  return {\r\n    additions: {},\r\n    removals: {},\r\n    modified: {}\r\n  };\r\n};\r\n\r\nvar timingKey = 'Publish collection from DOM';\r\nvar createPublisher = (function (_ref) {\r\n  var getEntries = _ref.getEntries,\r\n      callbacks = _ref.callbacks;\r\n\r\n  var advancedUsageWarning = function () {\r\n    if (process.env.NODE_ENV === 'production') {\r\n      return function () {};\r\n    }\r\n\r\n    var hasAnnounced = false;\r\n    return function () {\r\n      if (hasAnnounced) {\r\n        return;\r\n      }\r\n\r\n      hasAnnounced = true;\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\r\n    };\r\n  }();\r\n\r\n  var staging = clean$2();\r\n  var frameId = null;\r\n\r\n  var collect = function collect() {\r\n    advancedUsageWarning();\r\n\r\n    if (frameId) {\r\n      return;\r\n    }\r\n\r\n    frameId = requestAnimationFrame(function () {\r\n      frameId = null;\r\n      callbacks.collectionStarting();\r\n      var critical = callbacks.getCritical();\r\n      start(timingKey);\r\n      var entries = getEntries();\r\n      var _staging = staging,\r\n          additions = _staging.additions,\r\n          removals = _staging.removals,\r\n          modified = _staging.modified;\r\n\r\n      var added = _Object$keys(additions).map(function (id) {\r\n        return entries.draggables[id].getDimension(origin);\r\n      }).sort(function (a, b) {\r\n        return a.descriptor.index - b.descriptor.index;\r\n      });\r\n\r\n      var updated = _Object$keys(modified).map(function (id) {\r\n        var entry = entries.droppables[id];\r\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\r\n        var isHome = entry.descriptor.id === critical.droppable.id;\r\n        var options = {\r\n          withoutPlaceholder: !isHome\r\n        };\r\n        return entry.callbacks.recollect(options);\r\n      });\r\n\r\n      var result = {\r\n        additions: added,\r\n        removals: _Object$keys(removals),\r\n        modified: updated\r\n      };\r\n      staging = clean$2();\r\n      finish(timingKey);\r\n      callbacks.publish(result);\r\n    });\r\n  };\r\n\r\n  var add = function add(descriptor) {\r\n    staging.additions[descriptor.id] = descriptor;\r\n    staging.modified[descriptor.droppableId] = true;\r\n\r\n    if (staging.removals[descriptor.id]) {\r\n      delete staging.removals[descriptor.id];\r\n    }\r\n\r\n    collect();\r\n  };\r\n\r\n  var remove = function remove(descriptor) {\r\n    staging.removals[descriptor.id] = descriptor;\r\n    staging.modified[descriptor.droppableId] = true;\r\n\r\n    if (staging.additions[descriptor.id]) {\r\n      delete staging.additions[descriptor.id];\r\n    }\r\n\r\n    collect();\r\n  };\r\n\r\n  var stop = function stop() {\r\n    if (!frameId) {\r\n      return;\r\n    }\r\n\r\n    cancelAnimationFrame(frameId);\r\n    frameId = null;\r\n    staging = clean$2();\r\n  };\r\n\r\n  return {\r\n    add: add,\r\n    remove: remove,\r\n    stop: stop\r\n  };\r\n});\r\n\r\nvar getWindowScroll = (function () {\r\n  return {\r\n    x: window.pageXOffset,\r\n    y: window.pageYOffset\r\n  };\r\n});\r\n\r\nvar getDocumentElement = (function () {\r\n  var doc = document.documentElement;\r\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\r\n  return doc;\r\n});\r\n\r\nvar getMaxWindowScroll = (function () {\r\n  var doc = getDocumentElement();\r\n  var maxScroll = getMaxScroll({\r\n    scrollHeight: doc.scrollHeight,\r\n    scrollWidth: doc.scrollWidth,\r\n    width: doc.clientWidth,\r\n    height: doc.clientHeight\r\n  });\r\n  return maxScroll;\r\n});\r\n\r\nvar getViewport = (function () {\r\n  var scroll = getWindowScroll();\r\n  var maxScroll = getMaxWindowScroll();\r\n  var top = scroll.y;\r\n  var left = scroll.x;\r\n  var doc = getDocumentElement();\r\n  var width = doc.clientWidth;\r\n  var height = doc.clientHeight;\r\n  var right = left + width;\r\n  var bottom = top + height;\r\n  var frame = getRect({\r\n    top: top,\r\n    left: left,\r\n    right: right,\r\n    bottom: bottom\r\n  });\r\n  var viewport = {\r\n    frame: frame,\r\n    scroll: {\r\n      initial: scroll,\r\n      current: scroll,\r\n      max: maxScroll,\r\n      diff: {\r\n        value: origin,\r\n        displacement: origin\r\n      }\r\n    }\r\n  };\r\n  return viewport;\r\n});\r\n\r\nvar getInitialPublish = (function (_ref) {\r\n  var critical = _ref.critical,\r\n      scrollOptions = _ref.scrollOptions,\r\n      entries = _ref.entries;\r\n  var timingKey = 'Initial collection from DOM';\r\n  start(timingKey);\r\n  var viewport = getViewport();\r\n  var windowScroll = viewport.scroll.current;\r\n  var home = critical.droppable;\r\n  var droppables = values(entries.droppables).filter(function (entry) {\r\n    return entry.descriptor.type === home.type;\r\n  }).map(function (entry) {\r\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\r\n  });\r\n  var draggables = values(entries.draggables).filter(function (entry) {\r\n    return entry.descriptor.type === critical.draggable.type;\r\n  }).map(function (entry) {\r\n    return entry.getDimension(windowScroll);\r\n  });\r\n  var dimensions = {\r\n    draggables: toDraggableMap(draggables),\r\n    droppables: toDroppableMap(droppables)\r\n  };\r\n  finish(timingKey);\r\n  var result = {\r\n    dimensions: dimensions,\r\n    critical: critical,\r\n    viewport: viewport\r\n  };\r\n  return result;\r\n});\r\n\r\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\r\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\r\n};\r\n\r\nvar createDimensionMarshal = (function (callbacks) {\r\n  var entries = {\r\n    droppables: {},\r\n    draggables: {}\r\n  };\r\n  var collection = null;\r\n  var publisher = createPublisher({\r\n    callbacks: {\r\n      publish: callbacks.publishWhileDragging,\r\n      collectionStarting: callbacks.collectionStarting,\r\n      getCritical: function getCritical() {\r\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\r\n        return collection.critical;\r\n      }\r\n    },\r\n    getEntries: function getEntries() {\r\n      return entries;\r\n    }\r\n  });\r\n\r\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\r\n    var entry = {\r\n      descriptor: descriptor,\r\n      getDimension: getDimension\r\n    };\r\n    entries.draggables[descriptor.id] = entry;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\r\n    publisher.add(descriptor);\r\n  };\r\n\r\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\r\n    var existing = entries.draggables[published.id];\r\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\r\n\r\n    if (existing.descriptor === published) {\r\n      delete entries.draggables[published.id];\r\n    } else {\r\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\r\n    }\r\n\r\n    var entry = {\r\n      descriptor: descriptor,\r\n      getDimension: getDimension\r\n    };\r\n    entries.draggables[descriptor.id] = entry;\r\n  };\r\n\r\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\r\n    var entry = entries.draggables[descriptor.id];\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (entry.descriptor !== descriptor) {\r\n      return;\r\n    }\r\n\r\n    delete entries.draggables[descriptor.id];\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\r\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\r\n    publisher.remove(descriptor);\r\n  };\r\n\r\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\r\n    var id = descriptor.id;\r\n    entries.droppables[id] = {\r\n      descriptor: descriptor,\r\n      callbacks: droppableCallbacks\r\n    };\r\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\r\n  };\r\n\r\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\r\n    var entry = entries.droppables[descriptor.id];\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (entry.descriptor !== descriptor) {\r\n      return;\r\n    }\r\n\r\n    delete entries.droppables[descriptor.id];\r\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\r\n  };\r\n\r\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\r\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    callbacks.updateDroppableIsEnabled({\r\n      id: id,\r\n      isEnabled: isEnabled\r\n    });\r\n  };\r\n\r\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\r\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    callbacks.updateDroppableIsCombineEnabled({\r\n      id: id,\r\n      isCombineEnabled: isCombineEnabled\r\n    });\r\n  };\r\n\r\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\r\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    callbacks.updateDroppableScroll({\r\n      id: id,\r\n      offset: newScroll\r\n    });\r\n  };\r\n\r\n  var scrollDroppable = function scrollDroppable(id, change) {\r\n    var entry = entries.droppables[id];\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\r\n\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    entry.callbacks.scroll(change);\r\n  };\r\n\r\n  var stopPublishing = function stopPublishing() {\r\n    if (!collection) {\r\n      return;\r\n    }\r\n\r\n    publisher.stop();\r\n    var home = collection.critical.droppable;\r\n    values(entries.droppables).filter(function (entry) {\r\n      return entry.descriptor.type === home.type;\r\n    }).forEach(function (entry) {\r\n      return entry.callbacks.dragStopped();\r\n    });\r\n    collection = null;\r\n  };\r\n\r\n  var startPublishing = function startPublishing(request) {\r\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\r\n    var entry = entries.draggables[request.draggableId];\r\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\r\n    var home = entries.droppables[entry.descriptor.droppableId];\r\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\r\n    var critical = {\r\n      draggable: entry.descriptor,\r\n      droppable: home.descriptor\r\n    };\r\n    collection = {\r\n      critical: critical\r\n    };\r\n    return getInitialPublish({\r\n      critical: critical,\r\n      entries: entries,\r\n      scrollOptions: request.scrollOptions\r\n    });\r\n  };\r\n\r\n  var marshal = {\r\n    registerDraggable: registerDraggable,\r\n    updateDraggable: updateDraggable,\r\n    unregisterDraggable: unregisterDraggable,\r\n    registerDroppable: registerDroppable,\r\n    unregisterDroppable: unregisterDroppable,\r\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\r\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\r\n    scrollDroppable: scrollDroppable,\r\n    updateDroppableScroll: updateDroppableScroll,\r\n    startPublishing: startPublishing,\r\n    stopPublishing: stopPublishing\r\n  };\r\n  return marshal;\r\n});\r\n\r\nvar canStartDrag = (function (state, id) {\r\n  if (state.phase === 'IDLE') {\r\n    return true;\r\n  }\r\n\r\n  if (state.phase !== 'DROP_ANIMATING') {\r\n    return false;\r\n  }\r\n\r\n  if (state.completed.result.draggableId === id) {\r\n    return false;\r\n  }\r\n\r\n  return state.completed.result.reason === 'DROP';\r\n});\r\n\r\nvar scrollWindow = (function (change) {\r\n  window.scrollBy(change.x, change.y);\r\n});\r\n\r\nvar getScrollableDroppables = memoizeOne(function (droppables) {\r\n  return toDroppableList(droppables).filter(function (droppable) {\r\n    if (!droppable.isEnabled) {\r\n      return false;\r\n    }\r\n\r\n    if (!droppable.frame) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  });\r\n});\r\n\r\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\r\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\r\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\r\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\r\n  });\r\n  return maybe;\r\n};\r\n\r\nvar getBestScrollableDroppable = (function (_ref) {\r\n  var center = _ref.center,\r\n      destination = _ref.destination,\r\n      droppables = _ref.droppables;\r\n\r\n  if (destination) {\r\n    var _dimension = droppables[destination];\r\n\r\n    if (!_dimension.frame) {\r\n      return null;\r\n    }\r\n\r\n    return _dimension;\r\n  }\r\n\r\n  var dimension = getScrollableDroppableOver(center, droppables);\r\n  return dimension;\r\n});\r\n\r\nvar config = {\r\n  startFromPercentage: 0.25,\r\n  maxScrollAtPercentage: 0.05,\r\n  maxPixelScroll: 28,\r\n  ease: function ease(percentage) {\r\n    return Math.pow(percentage, 2);\r\n  },\r\n  durationDampening: {\r\n    stopDampeningAt: 1200,\r\n    accelerateAt: 360\r\n  }\r\n};\r\n\r\nvar getDistanceThresholds = (function (container, axis) {\r\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\r\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\r\n  var thresholds = {\r\n    startScrollingFrom: startScrollingFrom,\r\n    maxScrollValueAt: maxScrollValueAt\r\n  };\r\n  return thresholds;\r\n});\r\n\r\nvar getPercentage = (function (_ref) {\r\n  var startOfRange = _ref.startOfRange,\r\n      endOfRange = _ref.endOfRange,\r\n      current = _ref.current;\r\n  var range = endOfRange - startOfRange;\r\n\r\n  if (range === 0) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\r\n    return 0;\r\n  }\r\n\r\n  var currentInRange = current - startOfRange;\r\n  var percentage = currentInRange / range;\r\n  return percentage;\r\n});\r\n\r\nvar minScroll = 1;\r\n\r\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\r\n  if (distanceToEdge > thresholds.startScrollingFrom) {\r\n    return 0;\r\n  }\r\n\r\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\r\n    return config.maxPixelScroll;\r\n  }\r\n\r\n  if (distanceToEdge === thresholds.startScrollingFrom) {\r\n    return minScroll;\r\n  }\r\n\r\n  var percentageFromMaxScrollValueAt = getPercentage({\r\n    startOfRange: thresholds.maxScrollValueAt,\r\n    endOfRange: thresholds.startScrollingFrom,\r\n    current: distanceToEdge\r\n  });\r\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\r\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\r\n  return Math.ceil(scroll);\r\n});\r\n\r\nvar accelerateAt = config.durationDampening.accelerateAt;\r\nvar stopAt = config.durationDampening.stopDampeningAt;\r\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\r\n  var startOfRange = dragStartTime;\r\n  var endOfRange = stopAt;\r\n\r\n  var now = _Date$now();\r\n\r\n  var runTime = now - startOfRange;\r\n\r\n  if (runTime >= stopAt) {\r\n    return proposedScroll;\r\n  }\r\n\r\n  if (runTime < accelerateAt) {\r\n    return minScroll;\r\n  }\r\n\r\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\r\n    startOfRange: accelerateAt,\r\n    endOfRange: endOfRange,\r\n    current: runTime\r\n  });\r\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\r\n  return Math.ceil(scroll);\r\n});\r\n\r\nvar getValue = (function (_ref) {\r\n  var distanceToEdge = _ref.distanceToEdge,\r\n      thresholds = _ref.thresholds,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\r\n\r\n  if (scroll === 0) {\r\n    return 0;\r\n  }\r\n\r\n  if (!shouldUseTimeDampening) {\r\n    return scroll;\r\n  }\r\n\r\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\r\n});\r\n\r\nvar getScrollOnAxis = (function (_ref) {\r\n  var container = _ref.container,\r\n      distanceToEdges = _ref.distanceToEdges,\r\n      dragStartTime = _ref.dragStartTime,\r\n      axis = _ref.axis,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var thresholds = getDistanceThresholds(container, axis);\r\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\r\n\r\n  if (isCloserToEnd) {\r\n    return getValue({\r\n      distanceToEdge: distanceToEdges[axis.end],\r\n      thresholds: thresholds,\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n  }\r\n\r\n  return -1 * getValue({\r\n    distanceToEdge: distanceToEdges[axis.start],\r\n    thresholds: thresholds,\r\n    dragStartTime: dragStartTime,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n});\r\n\r\nvar adjustForSizeLimits = (function (_ref) {\r\n  var container = _ref.container,\r\n      subject = _ref.subject,\r\n      proposedScroll = _ref.proposedScroll;\r\n  var isTooBigVertically = subject.height > container.height;\r\n  var isTooBigHorizontally = subject.width > container.width;\r\n\r\n  if (!isTooBigHorizontally && !isTooBigVertically) {\r\n    return proposedScroll;\r\n  }\r\n\r\n  if (isTooBigHorizontally && isTooBigVertically) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\r\n    y: isTooBigVertically ? 0 : proposedScroll.y\r\n  };\r\n});\r\n\r\nvar clean$3 = apply(function (value) {\r\n  return value === 0 ? 0 : value;\r\n});\r\nvar getScroll = (function (_ref) {\r\n  var dragStartTime = _ref.dragStartTime,\r\n      container = _ref.container,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var distanceToEdges = {\r\n    top: center.y - container.top,\r\n    right: container.right - center.x,\r\n    bottom: container.bottom - center.y,\r\n    left: center.x - container.left\r\n  };\r\n  var y = getScrollOnAxis({\r\n    container: container,\r\n    distanceToEdges: distanceToEdges,\r\n    dragStartTime: dragStartTime,\r\n    axis: vertical,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  var x = getScrollOnAxis({\r\n    container: container,\r\n    distanceToEdges: distanceToEdges,\r\n    dragStartTime: dragStartTime,\r\n    axis: horizontal,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  var required = clean$3({\r\n    x: x,\r\n    y: y\r\n  });\r\n\r\n  if (isEqual(required, origin)) {\r\n    return null;\r\n  }\r\n\r\n  var limited = adjustForSizeLimits({\r\n    container: container,\r\n    subject: subject,\r\n    proposedScroll: required\r\n  });\r\n\r\n  if (!limited) {\r\n    return null;\r\n  }\r\n\r\n  return isEqual(limited, origin) ? null : limited;\r\n});\r\n\r\nvar smallestSigned = apply(function (value) {\r\n  if (value === 0) {\r\n    return 0;\r\n  }\r\n\r\n  return value > 0 ? 1 : -1;\r\n});\r\nvar getOverlap = function () {\r\n  var getRemainder = function getRemainder(target, max) {\r\n    if (target < 0) {\r\n      return target;\r\n    }\r\n\r\n    if (target > max) {\r\n      return target - max;\r\n    }\r\n\r\n    return 0;\r\n  };\r\n\r\n  return function (_ref) {\r\n    var current = _ref.current,\r\n        max = _ref.max,\r\n        change = _ref.change;\r\n    var targetScroll = add(current, change);\r\n    var overlap = {\r\n      x: getRemainder(targetScroll.x, max.x),\r\n      y: getRemainder(targetScroll.y, max.y)\r\n    };\r\n\r\n    if (isEqual(overlap, origin)) {\r\n      return null;\r\n    }\r\n\r\n    return overlap;\r\n  };\r\n}();\r\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\r\n  var rawMax = _ref2.max,\r\n      current = _ref2.current,\r\n      change = _ref2.change;\r\n  var max = {\r\n    x: Math.max(current.x, rawMax.x),\r\n    y: Math.max(current.y, rawMax.y)\r\n  };\r\n  var smallestChange = smallestSigned(change);\r\n  var overlap = getOverlap({\r\n    max: max,\r\n    current: current,\r\n    change: smallestChange\r\n  });\r\n\r\n  if (!overlap) {\r\n    return true;\r\n  }\r\n\r\n  if (smallestChange.x !== 0 && overlap.x === 0) {\r\n    return true;\r\n  }\r\n\r\n  if (smallestChange.y !== 0 && overlap.y === 0) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\nvar canScrollWindow = function canScrollWindow(viewport, change) {\r\n  return canPartiallyScroll({\r\n    current: viewport.scroll.current,\r\n    max: viewport.scroll.max,\r\n    change: change\r\n  });\r\n};\r\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\r\n  if (!canScrollWindow(viewport, change)) {\r\n    return null;\r\n  }\r\n\r\n  var max = viewport.scroll.max;\r\n  var current = viewport.scroll.current;\r\n  return getOverlap({\r\n    current: current,\r\n    max: max,\r\n    change: change\r\n  });\r\n};\r\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return false;\r\n  }\r\n\r\n  return canPartiallyScroll({\r\n    current: frame.scroll.current,\r\n    max: frame.scroll.max,\r\n    change: change\r\n  });\r\n};\r\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return null;\r\n  }\r\n\r\n  if (!canScrollDroppable(droppable, change)) {\r\n    return null;\r\n  }\r\n\r\n  return getOverlap({\r\n    current: frame.scroll.current,\r\n    max: frame.scroll.max,\r\n    change: change\r\n  });\r\n};\r\n\r\nvar getWindowScrollChange = (function (_ref) {\r\n  var viewport = _ref.viewport,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var scroll = getScroll({\r\n    dragStartTime: dragStartTime,\r\n    container: viewport.frame,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\r\n});\r\n\r\nvar getDroppableScrollChange = (function (_ref) {\r\n  var droppable = _ref.droppable,\r\n      subject = _ref.subject,\r\n      center = _ref.center,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\r\n  var frame = droppable.frame;\r\n\r\n  if (!frame) {\r\n    return null;\r\n  }\r\n\r\n  var scroll = getScroll({\r\n    dragStartTime: dragStartTime,\r\n    container: frame.pageMarginBox,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\r\n});\r\n\r\nvar scroll$1 = (function (_ref) {\r\n  var state = _ref.state,\r\n      dragStartTime = _ref.dragStartTime,\r\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\r\n      scrollWindow = _ref.scrollWindow,\r\n      scrollDroppable = _ref.scrollDroppable;\r\n  var center = state.current.page.borderBoxCenter;\r\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\r\n  var subject = draggable.page.marginBox;\r\n\r\n  if (state.isWindowScrollAllowed) {\r\n    var viewport = state.viewport;\r\n\r\n    var _change = getWindowScrollChange({\r\n      dragStartTime: dragStartTime,\r\n      viewport: viewport,\r\n      subject: subject,\r\n      center: center,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n\r\n    if (_change) {\r\n      scrollWindow(_change);\r\n      return;\r\n    }\r\n  }\r\n\r\n  var droppable = getBestScrollableDroppable({\r\n    center: center,\r\n    destination: whatIsDraggedOver(state.impact),\r\n    droppables: state.dimensions.droppables\r\n  });\r\n\r\n  if (!droppable) {\r\n    return;\r\n  }\r\n\r\n  var change = getDroppableScrollChange({\r\n    dragStartTime: dragStartTime,\r\n    droppable: droppable,\r\n    subject: subject,\r\n    center: center,\r\n    shouldUseTimeDampening: shouldUseTimeDampening\r\n  });\r\n\r\n  if (change) {\r\n    scrollDroppable(droppable.descriptor.id, change);\r\n  }\r\n});\r\n\r\nvar createFluidScroller = (function (_ref) {\r\n  var scrollWindow = _ref.scrollWindow,\r\n      scrollDroppable = _ref.scrollDroppable;\r\n  var scheduleWindowScroll = rafSchd(scrollWindow);\r\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\r\n  var dragging = null;\r\n\r\n  var tryScroll = function tryScroll(state) {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\r\n    var _dragging = dragging,\r\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\r\n        dragStartTime = _dragging.dragStartTime;\r\n    scroll$1({\r\n      state: state,\r\n      scrollWindow: scheduleWindowScroll,\r\n      scrollDroppable: scheduleDroppableScroll,\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: shouldUseTimeDampening\r\n    });\r\n  };\r\n\r\n  var cancelPending = function cancelPending() {\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\r\n    scheduleWindowScroll.cancel();\r\n    scheduleDroppableScroll.cancel();\r\n  };\r\n\r\n  var start$1 = function start$1(state) {\r\n    start('starting fluid scroller');\r\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\r\n\r\n    var dragStartTime = _Date$now();\r\n\r\n    var wasScrollNeeded = false;\r\n\r\n    var fakeScrollCallback = function fakeScrollCallback() {\r\n      wasScrollNeeded = true;\r\n    };\r\n\r\n    scroll$1({\r\n      state: state,\r\n      dragStartTime: 0,\r\n      shouldUseTimeDampening: false,\r\n      scrollWindow: fakeScrollCallback,\r\n      scrollDroppable: fakeScrollCallback\r\n    });\r\n    dragging = {\r\n      dragStartTime: dragStartTime,\r\n      shouldUseTimeDampening: wasScrollNeeded\r\n    };\r\n    finish('starting fluid scroller');\r\n\r\n    if (wasScrollNeeded) {\r\n      tryScroll(state);\r\n    }\r\n  };\r\n\r\n  var stop = function stop() {\r\n    if (!dragging) {\r\n      return;\r\n    }\r\n\r\n    cancelPending();\r\n    dragging = null;\r\n  };\r\n\r\n  return {\r\n    start: start$1,\r\n    stop: stop,\r\n    cancelPending: cancelPending,\r\n    scroll: tryScroll\r\n  };\r\n});\r\n\r\nvar createJumpScroller = (function (_ref) {\r\n  var move = _ref.move,\r\n      scrollDroppable = _ref.scrollDroppable,\r\n      scrollWindow = _ref.scrollWindow;\r\n\r\n  var moveByOffset = function moveByOffset(state, offset) {\r\n    var client = add(state.current.client.selection, offset);\r\n    move({\r\n      client: client\r\n    });\r\n  };\r\n\r\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\r\n    if (!canScrollDroppable(droppable, change)) {\r\n      return change;\r\n    }\r\n\r\n    var overlap = getDroppableOverlap(droppable, change);\r\n\r\n    if (!overlap) {\r\n      scrollDroppable(droppable.descriptor.id, change);\r\n      return null;\r\n    }\r\n\r\n    var whatTheDroppableCanScroll = subtract(change, overlap);\r\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\r\n    var remainder = subtract(change, whatTheDroppableCanScroll);\r\n    return remainder;\r\n  };\r\n\r\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\r\n    if (!isWindowScrollAllowed) {\r\n      return change;\r\n    }\r\n\r\n    if (!canScrollWindow(viewport, change)) {\r\n      return change;\r\n    }\r\n\r\n    var overlap = getWindowOverlap(viewport, change);\r\n\r\n    if (!overlap) {\r\n      scrollWindow(change);\r\n      return null;\r\n    }\r\n\r\n    var whatTheWindowCanScroll = subtract(change, overlap);\r\n    scrollWindow(whatTheWindowCanScroll);\r\n    var remainder = subtract(change, whatTheWindowCanScroll);\r\n    return remainder;\r\n  };\r\n\r\n  var jumpScroller = function jumpScroller(state) {\r\n    var request = state.scrollJumpRequest;\r\n\r\n    if (!request) {\r\n      return;\r\n    }\r\n\r\n    var destination = whatIsDraggedOver(state.impact);\r\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\r\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\r\n\r\n    if (!droppableRemainder) {\r\n      return;\r\n    }\r\n\r\n    var viewport = state.viewport;\r\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\r\n\r\n    if (!windowRemainder) {\r\n      return;\r\n    }\r\n\r\n    moveByOffset(state, windowRemainder);\r\n  };\r\n\r\n  return jumpScroller;\r\n});\r\n\r\nvar createAutoScroller = (function (_ref) {\r\n  var scrollDroppable = _ref.scrollDroppable,\r\n      scrollWindow = _ref.scrollWindow,\r\n      move = _ref.move;\r\n  var fluidScroller = createFluidScroller({\r\n    scrollWindow: scrollWindow,\r\n    scrollDroppable: scrollDroppable\r\n  });\r\n  var jumpScroll = createJumpScroller({\r\n    move: move,\r\n    scrollWindow: scrollWindow,\r\n    scrollDroppable: scrollDroppable\r\n  });\r\n\r\n  var scroll = function scroll(state) {\r\n    if (state.phase !== 'DRAGGING') {\r\n      return;\r\n    }\r\n\r\n    if (state.movementMode === 'FLUID') {\r\n      fluidScroller.scroll(state);\r\n      return;\r\n    }\r\n\r\n    if (!state.scrollJumpRequest) {\r\n      return;\r\n    }\r\n\r\n    jumpScroll(state);\r\n  };\r\n\r\n  var scroller = {\r\n    scroll: scroll,\r\n    cancelPending: fluidScroller.cancelPending,\r\n    start: fluidScroller.start,\r\n    stop: fluidScroller.stop\r\n  };\r\n  return scroller;\r\n});\r\n\r\nvar prefix = 'data-react-beautiful-dnd';\r\nvar dragHandle = prefix + \"-drag-handle\";\r\nvar draggable = prefix + \"-draggable\";\r\nvar droppable = prefix + \"-droppable\";\r\n\r\nvar makeGetSelector = function makeGetSelector(context) {\r\n  return function (attribute) {\r\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\r\n  };\r\n};\r\n\r\nvar getStyles = function getStyles(rules, property) {\r\n  return rules.map(function (rule) {\r\n    var value = rule.styles[property];\r\n\r\n    if (!value) {\r\n      return '';\r\n    }\r\n\r\n    return rule.selector + \" { \" + value + \" }\";\r\n  }).join(' ');\r\n};\r\n\r\nvar noPointerEvents = 'pointer-events: none;';\r\nvar getStyles$1 = (function (uniqueContext) {\r\n  var getSelector = makeGetSelector(uniqueContext);\r\n\r\n  var dragHandle$1 = function () {\r\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\r\n    return {\r\n      selector: getSelector(dragHandle),\r\n      styles: {\r\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\r\n        resting: grabCursor,\r\n        dragging: noPointerEvents,\r\n        dropAnimating: grabCursor\r\n      }\r\n    };\r\n  }();\r\n\r\n  var draggable$1 = function () {\r\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\r\n    return {\r\n      selector: getSelector(draggable),\r\n      styles: {\r\n        dragging: transition,\r\n        dropAnimating: transition,\r\n        userCancel: transition\r\n      }\r\n    };\r\n  }();\r\n\r\n  var droppable$1 = {\r\n    selector: getSelector(droppable),\r\n    styles: {\r\n      always: \"overflow-anchor: none;\"\r\n    }\r\n  };\r\n  var body = {\r\n    selector: 'body',\r\n    styles: {\r\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\r\n    }\r\n  };\r\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\r\n  return {\r\n    always: getStyles(rules, 'always'),\r\n    resting: getStyles(rules, 'resting'),\r\n    dragging: getStyles(rules, 'dragging'),\r\n    dropAnimating: getStyles(rules, 'dropAnimating'),\r\n    userCancel: getStyles(rules, 'userCancel')\r\n  };\r\n});\r\n\r\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\r\n\r\nvar getHead = function getHead() {\r\n  var head = document.querySelector('head');\r\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\r\n  return head;\r\n};\r\n\r\nvar createStyleEl = function createStyleEl() {\r\n  var el = document.createElement('style');\r\n  el.type = 'text/css';\r\n  return el;\r\n};\r\n\r\nfunction useStyleMarshal(uniqueId) {\r\n  var uniqueContext = useMemo(function () {\r\n    return \"\" + uniqueId;\r\n  }, [uniqueId]);\r\n  var styles = useMemo(function () {\r\n    return getStyles$1(uniqueContext);\r\n  }, [uniqueContext]);\r\n  var alwaysRef = useRef(null);\r\n  var dynamicRef = useRef(null);\r\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\r\n    var el = dynamicRef.current;\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\r\n    el.textContent = proposed;\r\n  }), []);\r\n  var setAlwaysStyle = useCallback(function (proposed) {\r\n    var el = alwaysRef.current;\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\r\n    el.textContent = proposed;\r\n  }, []);\r\n  useIsomorphicLayoutEffect(function () {\r\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\r\n    var always = createStyleEl();\r\n    var dynamic = createStyleEl();\r\n    alwaysRef.current = always;\r\n    dynamicRef.current = dynamic;\r\n    always.setAttribute(prefix + \"-always\", uniqueContext);\r\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\r\n    getHead().appendChild(always);\r\n    getHead().appendChild(dynamic);\r\n    setAlwaysStyle(styles.always);\r\n    setDynamicStyle(styles.resting);\r\n    return function () {\r\n      var remove = function remove(ref) {\r\n        var current = ref.current;\r\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\r\n        getHead().removeChild(current);\r\n        ref.current = null;\r\n      };\r\n\r\n      remove(alwaysRef);\r\n      remove(dynamicRef);\r\n    };\r\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\r\n  var dragging = useCallback(function () {\r\n    return setDynamicStyle(styles.dragging);\r\n  }, [setDynamicStyle, styles.dragging]);\r\n  var dropping = useCallback(function (reason) {\r\n    if (reason === 'DROP') {\r\n      setDynamicStyle(styles.dropAnimating);\r\n      return;\r\n    }\r\n\r\n    setDynamicStyle(styles.userCancel);\r\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\r\n  var resting = useCallback(function () {\r\n    if (!dynamicRef.current) {\r\n      return;\r\n    }\r\n\r\n    setDynamicStyle(styles.resting);\r\n  }, [setDynamicStyle, styles.resting]);\r\n  var marshal = useMemo(function () {\r\n    return {\r\n      dragging: dragging,\r\n      dropping: dropping,\r\n      resting: resting,\r\n      styleContext: uniqueContext\r\n    };\r\n  }, [dragging, dropping, resting, uniqueContext]);\r\n  return marshal;\r\n}\r\n\r\nvar StoreContext = React.createContext(null);\r\n\r\nvar getBodyElement = (function () {\r\n  var body = document.body;\r\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\r\n  return body;\r\n});\r\n\r\nvar visuallyHidden = {\r\n  position: 'absolute',\r\n  width: '1px',\r\n  height: '1px',\r\n  margin: '-1px',\r\n  border: '0',\r\n  padding: '0',\r\n  overflow: 'hidden',\r\n  clip: 'rect(0 0 0 0)',\r\n  'clip-path': 'inset(100%)'\r\n};\r\nvar getId = function getId(uniqueId) {\r\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\r\n};\r\nfunction useAnnouncer(uniqueId) {\r\n  var id = useMemo(function () {\r\n    return getId(uniqueId);\r\n  }, [uniqueId]);\r\n  var ref = useRef(null);\r\n  useEffect(function () {\r\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\r\n    var el = document.createElement('div');\r\n    ref.current = el;\r\n    el.id = id;\r\n    el.setAttribute('aria-live', 'assertive');\r\n    el.setAttribute('role', 'log');\r\n    el.setAttribute('aria-atomic', 'true');\r\n\r\n    _Object$assign(el.style, visuallyHidden);\r\n\r\n    getBodyElement().appendChild(el);\r\n    return function () {\r\n      var toBeRemoved = ref.current;\r\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\r\n      getBodyElement().removeChild(toBeRemoved);\r\n      ref.current = null;\r\n    };\r\n  }, [id]);\r\n  var announce = useCallback(function (message) {\r\n    var el = ref.current;\r\n\r\n    if (el) {\r\n      el.textContent = message;\r\n      return;\r\n    }\r\n\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\r\n  }, []);\r\n  return announce;\r\n}\r\n\r\nvar AppContext = React.createContext(null);\r\n\r\nvar peerDependencies = {\r\n\treact: \"^16.8.5\"\r\n};\r\n\r\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\r\n\r\nvar getVersion = function getVersion(value) {\r\n  var result = semver.exec(value);\r\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\r\n  var major = Number(result[1]);\r\n  var minor = Number(result[2]);\r\n  var patch = Number(result[3]);\r\n  return {\r\n    major: major,\r\n    minor: minor,\r\n    patch: patch,\r\n    raw: value\r\n  };\r\n};\r\n\r\nvar isSatisfied = function isSatisfied(expected, actual) {\r\n  if (actual.major > expected.major) {\r\n    return true;\r\n  }\r\n\r\n  if (actual.major < expected.major) {\r\n    return false;\r\n  }\r\n\r\n  if (actual.minor > expected.minor) {\r\n    return true;\r\n  }\r\n\r\n  if (actual.minor < expected.minor) {\r\n    return false;\r\n  }\r\n\r\n  return actual.patch >= expected.patch;\r\n};\r\n\r\nvar checkReactVersion = (function (peerDepValue, actualValue) {\r\n  var peerDep = getVersion(peerDepValue);\r\n  var actual = getVersion(actualValue);\r\n\r\n  if (isSatisfied(peerDep, actual)) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\r\n});\r\n\r\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\r\nvar checkDoctype = (function (doc) {\r\n  var doctype = doc.doctype;\r\n\r\n  if (!doctype) {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n    return;\r\n  }\r\n\r\n  if (doctype.name.toLowerCase() !== 'html') {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n  }\r\n\r\n  if (doctype.publicId !== '') {\r\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\r\n  }\r\n});\r\n\r\nfunction useStartupValidation() {\r\n  useEffect(function () {\r\n    if (process.env.NODE_ENV === 'production') {\r\n      return;\r\n    }\r\n\r\n    checkReactVersion(peerDependencies.react, React.version);\r\n    checkDoctype(document);\r\n  }, []);\r\n}\r\n\r\nfunction usePrevious(current) {\r\n  var ref = useRef(current);\r\n  useEffect(function () {\r\n    ref.current = current;\r\n  });\r\n  return ref;\r\n}\r\n\r\nvar createResponders = function createResponders(props) {\r\n  return {\r\n    onBeforeDragStart: props.onBeforeDragStart,\r\n    onDragStart: props.onDragStart,\r\n    onDragEnd: props.onDragEnd,\r\n    onDragUpdate: props.onDragUpdate\r\n  };\r\n};\r\n\r\nfunction getStore(lazyRef) {\r\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\r\n  return lazyRef.current;\r\n}\r\n\r\nfunction App(props) {\r\n  var uniqueId = props.uniqueId,\r\n      setOnError = props.setOnError;\r\n  var lazyStoreRef = useRef(null);\r\n  useStartupValidation();\r\n  var lastPropsRef = usePrevious(props);\r\n  var getResponders = useCallback(function () {\r\n    return createResponders(lastPropsRef.current);\r\n  }, [lastPropsRef]);\r\n  var announce = useAnnouncer(uniqueId);\r\n  var styleMarshal = useStyleMarshal(uniqueId);\r\n  var lazyDispatch = useCallback(function (action) {\r\n    getStore(lazyStoreRef).dispatch(action);\r\n  }, []);\r\n  var callbacks = useMemo(function () {\r\n    return bindActionCreators({\r\n      publishWhileDragging: publishWhileDragging$1,\r\n      updateDroppableScroll: updateDroppableScroll,\r\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\r\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\r\n      collectionStarting: collectionStarting\r\n    }, lazyDispatch);\r\n  }, [lazyDispatch]);\r\n  var dimensionMarshal = useMemo(function () {\r\n    return createDimensionMarshal(callbacks);\r\n  }, [callbacks]);\r\n  var autoScroller = useMemo(function () {\r\n    return createAutoScroller(_extends({\r\n      scrollWindow: scrollWindow,\r\n      scrollDroppable: dimensionMarshal.scrollDroppable\r\n    }, bindActionCreators({\r\n      move: move\r\n    }, lazyDispatch)));\r\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\r\n  var store = useMemo(function () {\r\n    return createStore({\r\n      dimensionMarshal: dimensionMarshal,\r\n      styleMarshal: styleMarshal,\r\n      announce: announce,\r\n      autoScroller: autoScroller,\r\n      getResponders: getResponders\r\n    });\r\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\r\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\r\n    }\r\n  }\r\n\r\n  lazyStoreRef.current = store;\r\n  var tryResetStore = useCallback(function () {\r\n    var current = getStore(lazyStoreRef);\r\n    var state = current.getState();\r\n\r\n    if (state.phase !== 'IDLE') {\r\n      current.dispatch(clean$1({\r\n        shouldFlush: true\r\n      }));\r\n    }\r\n  }, []);\r\n  setOnError(tryResetStore);\r\n  var getCanLift = useCallback(function (id) {\r\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\r\n  }, []);\r\n  var getIsMovementAllowed = useCallback(function () {\r\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\r\n  }, []);\r\n  var appContext = useMemo(function () {\r\n    return {\r\n      marshal: dimensionMarshal,\r\n      style: styleMarshal.styleContext,\r\n      canLift: getCanLift,\r\n      isMovementAllowed: getIsMovementAllowed\r\n    };\r\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\r\n  useEffect(function () {\r\n    return tryResetStore;\r\n  }, [tryResetStore]);\r\n  return React.createElement(AppContext.Provider, {\r\n    value: appContext\r\n  }, React.createElement(Provider, {\r\n    context: StoreContext,\r\n    store: store\r\n  }, props.children));\r\n}\r\n\r\nvar instanceCount = 0;\r\nfunction resetServerContext() {\r\n  instanceCount = 0;\r\n}\r\nfunction DragDropContext(props) {\r\n  var uniqueId = useMemo(function () {\r\n    return instanceCount++;\r\n  }, []);\r\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\r\n    return React.createElement(App, _extends({\r\n      setOnError: setOnError,\r\n      uniqueId: uniqueId\r\n    }, props), props.children);\r\n  });\r\n}\r\n\r\nvar isEqual$2 = function isEqual(base) {\r\n  return function (value) {\r\n    return base === value;\r\n  };\r\n};\r\n\r\nvar isScroll = isEqual$2('scroll');\r\nvar isAuto = isEqual$2('auto');\r\nvar isVisible$1 = isEqual$2('visible');\r\n\r\nvar isEither = function isEither(overflow, fn) {\r\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\r\n};\r\n\r\nvar isBoth = function isBoth(overflow, fn) {\r\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\r\n};\r\n\r\nvar isElementScrollable = function isElementScrollable(el) {\r\n  var style = window.getComputedStyle(el);\r\n  var overflow = {\r\n    overflowX: style.overflowX,\r\n    overflowY: style.overflowY\r\n  };\r\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\r\n};\r\n\r\nvar isBodyScrollable = function isBodyScrollable() {\r\n  if (process.env.NODE_ENV === 'production') {\r\n    return false;\r\n  }\r\n\r\n  var body = getBodyElement();\r\n  var html = document.documentElement;\r\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n\r\n  if (!isElementScrollable(body)) {\r\n    return false;\r\n  }\r\n\r\n  var htmlStyle = window.getComputedStyle(html);\r\n  var htmlOverflow = {\r\n    overflowX: htmlStyle.overflowX,\r\n    overflowY: htmlStyle.overflowY\r\n  };\r\n\r\n  if (isBoth(htmlOverflow, isVisible$1)) {\r\n    return false;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\r\n  return false;\r\n};\r\n\r\nvar getClosestScrollable = function getClosestScrollable(el) {\r\n  if (el == null) {\r\n    return null;\r\n  }\r\n\r\n  if (el === document.body) {\r\n    return isBodyScrollable() ? el : null;\r\n  }\r\n\r\n  if (el === document.documentElement) {\r\n    return null;\r\n  }\r\n\r\n  if (!isElementScrollable(el)) {\r\n    return getClosestScrollable(el.parentElement);\r\n  }\r\n\r\n  return el;\r\n};\r\n\r\nvar checkForNestedScrollContainers = (function (scrollable) {\r\n  if (!scrollable) {\r\n    return;\r\n  }\r\n\r\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\r\n\r\n  if (!anotherScrollParent) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\r\n});\r\n\r\nvar getScroll$1 = (function (el) {\r\n  return {\r\n    x: el.scrollLeft,\r\n    y: el.scrollTop\r\n  };\r\n});\r\n\r\nvar getIsFixed = function getIsFixed(el) {\r\n  if (!el) {\r\n    return false;\r\n  }\r\n\r\n  var style = window.getComputedStyle(el);\r\n\r\n  if (style.position === 'fixed') {\r\n    return true;\r\n  }\r\n\r\n  return getIsFixed(el.parentElement);\r\n};\r\n\r\nvar getEnv = (function (start) {\r\n  var closestScrollable = getClosestScrollable(start);\r\n  var isFixedOnPage = getIsFixed(start);\r\n  return {\r\n    closestScrollable: closestScrollable,\r\n    isFixedOnPage: isFixedOnPage\r\n  };\r\n});\r\n\r\nvar getClient = function getClient(targetRef, closestScrollable) {\r\n  var base = getBox(targetRef);\r\n\r\n  if (!closestScrollable) {\r\n    return base;\r\n  }\r\n\r\n  if (targetRef !== closestScrollable) {\r\n    return base;\r\n  }\r\n\r\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\r\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\r\n  var bottom = top + closestScrollable.scrollHeight;\r\n  var right = left + closestScrollable.scrollWidth;\r\n  var paddingBox = {\r\n    top: top,\r\n    right: right,\r\n    bottom: bottom,\r\n    left: left\r\n  };\r\n  var borderBox = expand(paddingBox, base.border);\r\n  var client = createBox({\r\n    borderBox: borderBox,\r\n    margin: base.margin,\r\n    border: base.border,\r\n    padding: base.padding\r\n  });\r\n  return client;\r\n};\r\n\r\nvar getDimension = (function (_ref) {\r\n  var ref = _ref.ref,\r\n      descriptor = _ref.descriptor,\r\n      env = _ref.env,\r\n      windowScroll = _ref.windowScroll,\r\n      direction = _ref.direction,\r\n      isDropDisabled = _ref.isDropDisabled,\r\n      isCombineEnabled = _ref.isCombineEnabled,\r\n      shouldClipSubject = _ref.shouldClipSubject;\r\n  var closestScrollable = env.closestScrollable;\r\n  var client = getClient(ref, closestScrollable);\r\n  var page = withScroll(client, windowScroll);\r\n\r\n  var closest = function () {\r\n    if (!closestScrollable) {\r\n      return null;\r\n    }\r\n\r\n    var frameClient = getBox(closestScrollable);\r\n    var scrollSize = {\r\n      scrollHeight: closestScrollable.scrollHeight,\r\n      scrollWidth: closestScrollable.scrollWidth\r\n    };\r\n    return {\r\n      client: frameClient,\r\n      page: withScroll(frameClient, windowScroll),\r\n      scroll: getScroll$1(closestScrollable),\r\n      scrollSize: scrollSize,\r\n      shouldClipSubject: shouldClipSubject\r\n    };\r\n  }();\r\n\r\n  var dimension = getDroppableDimension({\r\n    descriptor: descriptor,\r\n    isEnabled: !isDropDisabled,\r\n    isCombineEnabled: isCombineEnabled,\r\n    isFixedOnPage: env.isFixedOnPage,\r\n    direction: direction,\r\n    client: client,\r\n    page: page,\r\n    closest: closest\r\n  });\r\n  return dimension;\r\n});\r\n\r\nfunction withoutPlaceholder(placeholder, fn) {\r\n  if (!placeholder) {\r\n    return fn();\r\n  }\r\n\r\n  var last = placeholder.style.display;\r\n  placeholder.style.display = 'none';\r\n  var result = fn();\r\n  placeholder.style.display = last;\r\n  return result;\r\n}\r\n\r\nvar immediate = {\r\n  passive: false\r\n};\r\nvar delayed = {\r\n  passive: true\r\n};\r\nvar getListenerOptions = (function (options) {\r\n  return options.shouldPublishImmediately ? immediate : delayed;\r\n});\r\n\r\nfunction useRequiredContext(Context) {\r\n  var result = useContext(Context);\r\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\r\n  return result;\r\n}\r\n\r\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\r\n  return dragging && dragging.env.closestScrollable || null;\r\n};\r\n\r\nfunction useDroppableDimensionPublisher(args) {\r\n  var whileDraggingRef = useRef(null);\r\n  var appContext = useRequiredContext(AppContext);\r\n  var marshal = appContext.marshal;\r\n  var previousRef = usePrevious(args);\r\n  var descriptor = useMemo(function () {\r\n    return {\r\n      id: args.droppableId,\r\n      type: args.type\r\n    };\r\n  }, [args.droppableId, args.type]);\r\n  var publishedDescriptorRef = useRef(descriptor);\r\n  var memoizedUpdateScroll = useMemo(function () {\r\n    return memoizeOne(function (x, y) {\r\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\r\n      var scroll = {\r\n        x: x,\r\n        y: y\r\n      };\r\n      marshal.updateDroppableScroll(descriptor.id, scroll);\r\n    });\r\n  }, [descriptor.id, marshal]);\r\n  var getClosestScroll = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n\r\n    if (!dragging || !dragging.env.closestScrollable) {\r\n      return origin;\r\n    }\r\n\r\n    return getScroll$1(dragging.env.closestScrollable);\r\n  }, []);\r\n  var updateScroll = useCallback(function () {\r\n    var scroll = getClosestScroll();\r\n    memoizedUpdateScroll(scroll.x, scroll.y);\r\n  }, [getClosestScroll, memoizedUpdateScroll]);\r\n  var scheduleScrollUpdate = useMemo(function () {\r\n    return rafSchd(updateScroll);\r\n  }, [updateScroll]);\r\n  var onClosestScroll = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\r\n    var options = dragging.scrollOptions;\r\n\r\n    if (options.shouldPublishImmediately) {\r\n      updateScroll();\r\n      return;\r\n    }\r\n\r\n    scheduleScrollUpdate();\r\n  }, [scheduleScrollUpdate, updateScroll]);\r\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\r\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\r\n    var previous = previousRef.current;\r\n    var ref = previous.getDroppableRef();\r\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\r\n    var env = getEnv(ref);\r\n    var dragging = {\r\n      ref: ref,\r\n      descriptor: descriptor,\r\n      env: env,\r\n      scrollOptions: options\r\n    };\r\n    whileDraggingRef.current = dragging;\r\n    var dimension = getDimension({\r\n      ref: ref,\r\n      descriptor: descriptor,\r\n      env: env,\r\n      windowScroll: windowScroll,\r\n      direction: previous.direction,\r\n      isDropDisabled: previous.isDropDisabled,\r\n      isCombineEnabled: previous.isCombineEnabled,\r\n      shouldClipSubject: !previous.ignoreContainerClipping\r\n    });\r\n\r\n    if (env.closestScrollable) {\r\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        checkForNestedScrollContainers(env.closestScrollable);\r\n      }\r\n    }\r\n\r\n    return dimension;\r\n  }, [descriptor, onClosestScroll, previousRef]);\r\n  var recollect = useCallback(function (options) {\r\n    var dragging = whileDraggingRef.current;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\r\n    var previous = previousRef.current;\r\n\r\n    var execute = function execute() {\r\n      return getDimension({\r\n        ref: dragging.ref,\r\n        descriptor: dragging.descriptor,\r\n        env: dragging.env,\r\n        windowScroll: origin,\r\n        direction: previous.direction,\r\n        isDropDisabled: previous.isDropDisabled,\r\n        isCombineEnabled: previous.isCombineEnabled,\r\n        shouldClipSubject: !previous.ignoreContainerClipping\r\n      });\r\n    };\r\n\r\n    if (!options.withoutPlaceholder) {\r\n      return execute();\r\n    }\r\n\r\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\r\n  }, [previousRef]);\r\n  var dragStopped = useCallback(function () {\r\n    var dragging = whileDraggingRef.current;\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    whileDraggingRef.current = null;\r\n\r\n    if (!closest) {\r\n      return;\r\n    }\r\n\r\n    scheduleScrollUpdate.cancel();\r\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\r\n  }, [onClosestScroll, scheduleScrollUpdate]);\r\n  var scroll = useCallback(function (change) {\r\n    var dragging = whileDraggingRef.current;\r\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\r\n    var closest = getClosestScrollableFromDrag(dragging);\r\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\r\n    closest.scrollTop += change.y;\r\n    closest.scrollLeft += change.x;\r\n  }, []);\r\n  var callbacks = useMemo(function () {\r\n    return {\r\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\r\n      recollect: recollect,\r\n      dragStopped: dragStopped,\r\n      scroll: scroll\r\n    };\r\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    publishedDescriptorRef.current = descriptor;\r\n    marshal.registerDroppable(descriptor, callbacks);\r\n    return function () {\r\n      if (whileDraggingRef.current) {\r\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\r\n        dragStopped();\r\n      }\r\n\r\n      marshal.unregisterDroppable(descriptor);\r\n    };\r\n  }, [callbacks, descriptor, dragStopped, marshal]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!whileDraggingRef.current) {\r\n      return;\r\n    }\r\n\r\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\r\n  }, [args.isDropDisabled, marshal]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!whileDraggingRef.current) {\r\n      return;\r\n    }\r\n\r\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\r\n  }, [args.isCombineEnabled, marshal]);\r\n}\r\n\r\nfunction noop() {}\r\n\r\nvar empty = {\r\n  width: 0,\r\n  height: 0,\r\n  margin: noSpacing\r\n};\r\n\r\nvar getSize = function getSize(_ref) {\r\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\r\n      placeholder = _ref.placeholder,\r\n      animate = _ref.animate;\r\n\r\n  if (isAnimatingOpenOnMount) {\r\n    return empty;\r\n  }\r\n\r\n  if (animate === 'close') {\r\n    return empty;\r\n  }\r\n\r\n  return {\r\n    height: placeholder.client.borderBox.height,\r\n    width: placeholder.client.borderBox.width,\r\n    margin: placeholder.client.margin\r\n  };\r\n};\r\n\r\nvar getStyle = function getStyle(_ref2) {\r\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\r\n      placeholder = _ref2.placeholder,\r\n      animate = _ref2.animate;\r\n  var size = getSize({\r\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\r\n    placeholder: placeholder,\r\n    animate: animate\r\n  });\r\n  return {\r\n    display: placeholder.display,\r\n    boxSizing: 'border-box',\r\n    width: size.width,\r\n    height: size.height,\r\n    marginTop: size.margin.top,\r\n    marginRight: size.margin.right,\r\n    marginBottom: size.margin.bottom,\r\n    marginLeft: size.margin.left,\r\n    flexShrink: '0',\r\n    flexGrow: '0',\r\n    pointerEvents: 'none',\r\n    transition: transitions.placeholder\r\n  };\r\n};\r\n\r\nfunction Placeholder(props) {\r\n  var animateOpenTimerRef = useRef(null);\r\n  var tryClearAnimateOpenTimer = useCallback(function () {\r\n    if (!animateOpenTimerRef.current) {\r\n      return;\r\n    }\r\n\r\n    clearTimeout(animateOpenTimerRef.current);\r\n    animateOpenTimerRef.current = null;\r\n  }, []);\r\n  var animate = props.animate,\r\n      onTransitionEnd = props.onTransitionEnd,\r\n      onClose = props.onClose,\r\n      styleContext = props.styleContext;\r\n\r\n  var _useState = useState(props.animate === 'open'),\r\n      isAnimatingOpenOnMount = _useState[0],\r\n      setIsAnimatingOpenOnMount = _useState[1];\r\n\r\n  useEffect(function () {\r\n    if (!isAnimatingOpenOnMount) {\r\n      return noop;\r\n    }\r\n\r\n    if (animate !== 'open') {\r\n      tryClearAnimateOpenTimer();\r\n      setIsAnimatingOpenOnMount(false);\r\n      return noop;\r\n    }\r\n\r\n    if (animateOpenTimerRef.current) {\r\n      return noop;\r\n    }\r\n\r\n    animateOpenTimerRef.current = setTimeout(function () {\r\n      animateOpenTimerRef.current = null;\r\n      setIsAnimatingOpenOnMount(false);\r\n    });\r\n    return tryClearAnimateOpenTimer;\r\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\r\n  var onSizeChangeEnd = useCallback(function (event) {\r\n    if (event.propertyName !== 'height') {\r\n      return;\r\n    }\r\n\r\n    onTransitionEnd();\r\n\r\n    if (animate === 'close') {\r\n      onClose();\r\n    }\r\n  }, [animate, onClose, onTransitionEnd]);\r\n  var style = getStyle({\r\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\r\n    animate: props.animate,\r\n    placeholder: props.placeholder\r\n  });\r\n  return React.createElement(props.placeholder.tagName, {\r\n    style: style,\r\n    'data-react-beautiful-dnd-placeholder': styleContext,\r\n    onTransitionEnd: onSizeChangeEnd,\r\n    ref: props.innerRef\r\n  });\r\n}\r\n\r\nvar Placeholder$1 = React.memo(Placeholder);\r\n\r\nvar DroppableContext = React.createContext(null);\r\n\r\nvar getWindowFromEl = (function (el) {\r\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\r\n});\r\n\r\nfunction isHtmlElement(el) {\r\n  return el instanceof getWindowFromEl(el).HTMLElement;\r\n}\r\n\r\nfunction checkIsValidInnerRef(el) {\r\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\r\n}\r\n\r\nfunction checkOwnProps(props) {\r\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\r\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\r\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\r\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\r\n}\r\n\r\nfunction checkPlaceholderRef(props, placeholderEl) {\r\n  if (!props.placeholder) {\r\n    return;\r\n  }\r\n\r\n  if (placeholderEl) {\r\n    return;\r\n  }\r\n\r\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\r\n}\r\n\r\nfunction useValidation(_ref) {\r\n  var props = _ref.props,\r\n      getDroppableRef = _ref.getDroppableRef,\r\n      getPlaceholderRef = _ref.getPlaceholderRef;\r\n  useEffect(function () {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      checkOwnProps(props);\r\n      checkIsValidInnerRef(getDroppableRef());\r\n      checkPlaceholderRef(props, getPlaceholderRef());\r\n    }\r\n  });\r\n}\r\n\r\nvar AnimateInOut = function (_React$PureComponent) {\r\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\r\n\r\n  function AnimateInOut() {\r\n    var _this;\r\n\r\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\r\n    _this.state = {\r\n      isVisible: Boolean(_this.props.on),\r\n      data: _this.props.on,\r\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\r\n    };\r\n\r\n    _this.onClose = function () {\r\n      if (_this.state.animate !== 'close') {\r\n        return;\r\n      }\r\n\r\n      _this.setState({\r\n        isVisible: false\r\n      });\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\r\n    if (!props.shouldAnimate) {\r\n      return {\r\n        isVisible: Boolean(props.on),\r\n        data: props.on,\r\n        animate: 'none'\r\n      };\r\n    }\r\n\r\n    if (props.on) {\r\n      return {\r\n        isVisible: true,\r\n        data: props.on,\r\n        animate: 'open'\r\n      };\r\n    }\r\n\r\n    if (state.isVisible) {\r\n      return {\r\n        isVisible: true,\r\n        data: state.data,\r\n        animate: 'close'\r\n      };\r\n    }\r\n\r\n    return {\r\n      isVisible: false,\r\n      animate: 'close',\r\n      data: null\r\n    };\r\n  };\r\n\r\n  var _proto = AnimateInOut.prototype;\r\n\r\n  _proto.render = function render() {\r\n    if (!this.state.isVisible) {\r\n      return null;\r\n    }\r\n\r\n    var provided = {\r\n      onClose: this.onClose,\r\n      data: this.state.data,\r\n      animate: this.state.animate\r\n    };\r\n    return this.props.children(provided);\r\n  };\r\n\r\n  return AnimateInOut;\r\n}(React.PureComponent);\r\n\r\nfunction Droppable(props) {\r\n  var appContext = useContext(AppContext);\r\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\r\n  var styleContext = appContext.style,\r\n      isMovementAllowed = appContext.isMovementAllowed;\r\n  var droppableRef = useRef(null);\r\n  var placeholderRef = useRef(null);\r\n  var children = props.children,\r\n      droppableId = props.droppableId,\r\n      type = props.type,\r\n      direction = props.direction,\r\n      ignoreContainerClipping = props.ignoreContainerClipping,\r\n      isDropDisabled = props.isDropDisabled,\r\n      isCombineEnabled = props.isCombineEnabled,\r\n      snapshot = props.snapshot,\r\n      updateViewportMaxScroll = props.updateViewportMaxScroll;\r\n  var getDroppableRef = useCallback(function () {\r\n    return droppableRef.current;\r\n  }, []);\r\n  var getPlaceholderRef = useCallback(function () {\r\n    return placeholderRef.current;\r\n  }, []);\r\n  var setDroppableRef = useCallback(function (value) {\r\n    droppableRef.current = value;\r\n  }, []);\r\n  var setPlaceholderRef = useCallback(function (value) {\r\n    placeholderRef.current = value;\r\n  }, []);\r\n  var onPlaceholderTransitionEnd = useCallback(function () {\r\n    if (isMovementAllowed()) {\r\n      updateViewportMaxScroll({\r\n        maxScroll: getMaxWindowScroll()\r\n      });\r\n    }\r\n  }, [isMovementAllowed, updateViewportMaxScroll]);\r\n  useDroppableDimensionPublisher({\r\n    droppableId: droppableId,\r\n    type: type,\r\n    direction: direction,\r\n    isDropDisabled: isDropDisabled,\r\n    isCombineEnabled: isCombineEnabled,\r\n    ignoreContainerClipping: ignoreContainerClipping,\r\n    getDroppableRef: getDroppableRef,\r\n    getPlaceholderRef: getPlaceholderRef\r\n  });\r\n  var placeholder = React.createElement(AnimateInOut, {\r\n    on: props.placeholder,\r\n    shouldAnimate: props.shouldAnimatePlaceholder\r\n  }, function (_ref) {\r\n    var onClose = _ref.onClose,\r\n        data = _ref.data,\r\n        animate = _ref.animate;\r\n    return React.createElement(Placeholder$1, {\r\n      placeholder: data,\r\n      onClose: onClose,\r\n      innerRef: setPlaceholderRef,\r\n      animate: animate,\r\n      styleContext: styleContext,\r\n      onTransitionEnd: onPlaceholderTransitionEnd\r\n    });\r\n  });\r\n  var provided = useMemo(function () {\r\n    return {\r\n      innerRef: setDroppableRef,\r\n      placeholder: placeholder,\r\n      droppableProps: {\r\n        'data-react-beautiful-dnd-droppable': styleContext\r\n      }\r\n    };\r\n  }, [placeholder, setDroppableRef, styleContext]);\r\n  var droppableContext = useMemo(function () {\r\n    return {\r\n      droppableId: droppableId,\r\n      type: type\r\n    };\r\n  }, [droppableId, type]);\r\n  useValidation({\r\n    props: props,\r\n    getDroppableRef: function getDroppableRef() {\r\n      return droppableRef.current;\r\n    },\r\n    getPlaceholderRef: function getPlaceholderRef() {\r\n      return placeholderRef.current;\r\n    }\r\n  });\r\n  return React.createElement(DroppableContext.Provider, {\r\n    value: droppableContext\r\n  }, children(provided, snapshot));\r\n}\r\n\r\nvar isStrictEqual = (function (a, b) {\r\n  return a === b;\r\n});\r\n\r\nvar whatIsDraggedOverFromResult = (function (result) {\r\n  var combine = result.combine,\r\n      destination = result.destination;\r\n\r\n  if (destination) {\r\n    return destination.droppableId;\r\n  }\r\n\r\n  if (combine) {\r\n    return combine.droppableId;\r\n  }\r\n\r\n  return null;\r\n});\r\n\r\nvar isMatchingType = function isMatchingType(type, critical) {\r\n  return type === critical.droppable.type;\r\n};\r\n\r\nvar getDraggable = function getDraggable(critical, dimensions) {\r\n  return dimensions.draggables[critical.draggable.id];\r\n};\r\n\r\nvar makeMapStateToProps = function makeMapStateToProps() {\r\n  var idle = {\r\n    placeholder: null,\r\n    shouldAnimatePlaceholder: true,\r\n    snapshot: {\r\n      isDraggingOver: false,\r\n      draggingOverWith: null,\r\n      draggingFromThisWith: null\r\n    }\r\n  };\r\n\r\n  var idleWithoutAnimation = _extends({}, idle, {\r\n    shouldAnimatePlaceholder: false\r\n  });\r\n\r\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\r\n    var isHome = dragging.descriptor.droppableId === id;\r\n\r\n    if (isHome) {\r\n      return {\r\n        placeholder: dragging.placeholder,\r\n        shouldAnimatePlaceholder: false,\r\n        snapshot: snapshot\r\n      };\r\n    }\r\n\r\n    if (!isDraggingOver) {\r\n      return idle;\r\n    }\r\n\r\n    return {\r\n      placeholder: dragging.placeholder,\r\n      shouldAnimatePlaceholder: true,\r\n      snapshot: snapshot\r\n    };\r\n  });\r\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\r\n    var draggableId = dragging.descriptor.id;\r\n    var isHome = dragging.descriptor.droppableId === id;\r\n    var draggingOverWith = isDraggingOver ? draggableId : null;\r\n    var draggingFromThisWith = isHome ? draggableId : null;\r\n    return {\r\n      isDraggingOver: isDraggingOver,\r\n      draggingOverWith: draggingOverWith,\r\n      draggingFromThisWith: draggingFromThisWith\r\n    };\r\n  });\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    var id = ownProps.droppableId;\r\n    var type = ownProps.type;\r\n\r\n    if (state.isDragging) {\r\n      var critical = state.critical;\r\n\r\n      if (!isMatchingType(type, critical)) {\r\n        return idle;\r\n      }\r\n\r\n      var dragging = getDraggable(critical, state.dimensions);\r\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\r\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\r\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (!isMatchingType(type, completed.critical)) {\r\n        return idle;\r\n      }\r\n\r\n      var _dragging = getDraggable(completed.critical, state.dimensions);\r\n\r\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\r\n\r\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\r\n    }\r\n\r\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\r\n      return idleWithoutAnimation;\r\n    }\r\n\r\n    if (state.phase === 'IDLE' && state.completed) {\r\n      var _completed = state.completed;\r\n\r\n      if (!isMatchingType(type, _completed.critical)) {\r\n        return idle;\r\n      }\r\n\r\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\r\n      var wasCombining = Boolean(_completed.impact.merge);\r\n\r\n      if (state.shouldFlush) {\r\n        return idleWithoutAnimation;\r\n      }\r\n\r\n      if (wasOver) {\r\n        return wasCombining ? idle : idleWithoutAnimation;\r\n      }\r\n\r\n      return idle;\r\n    }\r\n\r\n    return idle;\r\n  };\r\n\r\n  return selector;\r\n};\r\nvar mapDispatchToProps = {\r\n  updateViewportMaxScroll: updateViewportMaxScroll\r\n};\r\nvar defaultProps = {\r\n  type: 'DEFAULT',\r\n  direction: 'vertical',\r\n  isDropDisabled: false,\r\n  isCombineEnabled: false,\r\n  ignoreContainerClipping: false\r\n};\r\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\r\n  context: StoreContext,\r\n  pure: true,\r\n  areStatePropsEqual: isStrictEqual\r\n})(Droppable);\r\nConnectedDroppable.defaultProps = defaultProps;\r\n\r\nvar zIndexOptions = {\r\n  dragging: 5000,\r\n  dropAnimating: 4500\r\n};\r\n\r\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\r\n  if (dropping) {\r\n    return transitions.drop(dropping.duration);\r\n  }\r\n\r\n  if (shouldAnimateDragMovement) {\r\n    return transitions.snap;\r\n  }\r\n\r\n  return transitions.fluid;\r\n};\r\n\r\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\r\n  if (!isCombining) {\r\n    return null;\r\n  }\r\n\r\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\r\n};\r\n\r\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\r\n  if (dragging.forceShouldAnimate != null) {\r\n    return dragging.forceShouldAnimate;\r\n  }\r\n\r\n  return dragging.mode === 'SNAP';\r\n};\r\n\r\nfunction getDraggingStyle(dragging) {\r\n  var dimension = dragging.dimension;\r\n  var box = dimension.client;\r\n  var offset = dragging.offset,\r\n      combineWith = dragging.combineWith,\r\n      dropping = dragging.dropping;\r\n  var isCombining = Boolean(combineWith);\r\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\r\n  var isDropAnimating = Boolean(dropping);\r\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\r\n  var style = {\r\n    position: 'fixed',\r\n    top: box.marginBox.top,\r\n    left: box.marginBox.left,\r\n    boxSizing: 'border-box',\r\n    width: box.borderBox.width,\r\n    height: box.borderBox.height,\r\n    transition: getDraggingTransition(shouldAnimate, dropping),\r\n    transform: transform,\r\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\r\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\r\n    pointerEvents: 'none'\r\n  };\r\n  return style;\r\n}\r\n\r\nfunction getSecondaryStyle(secondary) {\r\n  return {\r\n    transform: transforms.moveTo(secondary.offset),\r\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\r\n  };\r\n}\r\n\r\nfunction getStyle$1(mapped) {\r\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\r\n}\r\n\r\nvar createEventMarshal = (function () {\r\n  var isMouseDownHandled = false;\r\n\r\n  var handle = function handle() {\r\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\r\n    isMouseDownHandled = true;\r\n  };\r\n\r\n  var isHandled = function isHandled() {\r\n    return isMouseDownHandled;\r\n  };\r\n\r\n  var reset = function reset() {\r\n    isMouseDownHandled = false;\r\n  };\r\n\r\n  return {\r\n    handle: handle,\r\n    isHandled: isHandled,\r\n    reset: reset\r\n  };\r\n});\r\n\r\nvar getOptions = function getOptions(shared, fromBinding) {\r\n  return _extends({}, shared, fromBinding);\r\n};\r\n\r\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\r\n  bindings.forEach(function (binding) {\r\n    var options = getOptions(sharedOptions, binding.options);\r\n    el.addEventListener(binding.eventName, binding.fn, options);\r\n  });\r\n};\r\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\r\n  bindings.forEach(function (binding) {\r\n    var options = getOptions(sharedOptions, binding.options);\r\n    el.removeEventListener(binding.eventName, binding.fn, options);\r\n  });\r\n};\r\n\r\nvar createScheduler = (function (callbacks) {\r\n  var memoizedMove = memoizeOne(function (x, y) {\r\n    var point = {\r\n      x: x,\r\n      y: y\r\n    };\r\n    callbacks.onMove(point);\r\n  });\r\n  var move = rafSchd(function (point) {\r\n    return memoizedMove(point.x, point.y);\r\n  });\r\n  var moveUp = rafSchd(callbacks.onMoveUp);\r\n  var moveDown = rafSchd(callbacks.onMoveDown);\r\n  var moveRight = rafSchd(callbacks.onMoveRight);\r\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\r\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\r\n\r\n  var cancel = function cancel() {\r\n    move.cancel();\r\n    moveUp.cancel();\r\n    moveDown.cancel();\r\n    moveRight.cancel();\r\n    moveLeft.cancel();\r\n    windowScrollMove.cancel();\r\n  };\r\n\r\n  return {\r\n    move: move,\r\n    moveUp: moveUp,\r\n    moveDown: moveDown,\r\n    moveRight: moveRight,\r\n    moveLeft: moveLeft,\r\n    windowScrollMove: windowScrollMove,\r\n    cancel: cancel\r\n  };\r\n});\r\n\r\nvar tab = 9;\r\nvar enter = 13;\r\nvar escape = 27;\r\nvar space = 32;\r\nvar pageUp = 33;\r\nvar pageDown = 34;\r\nvar end = 35;\r\nvar home = 36;\r\nvar arrowLeft = 37;\r\nvar arrowUp = 38;\r\nvar arrowRight = 39;\r\nvar arrowDown = 40;\r\n\r\nvar supportedEventName = function () {\r\n  var base = 'visibilitychange';\r\n\r\n  if (typeof document === 'undefined') {\r\n    return base;\r\n  }\r\n\r\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\r\n  var supported = find(candidates, function (eventName) {\r\n    return \"on\" + eventName in document;\r\n  });\r\n  return supported || base;\r\n}();\r\n\r\nvar sharedOptions = {\r\n  capture: true\r\n};\r\nvar createPostDragEventPreventer = (function (getWindow) {\r\n  var isBound = false;\r\n\r\n  var bind = function bind() {\r\n    if (isBound) {\r\n      return;\r\n    }\r\n\r\n    isBound = true;\r\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\r\n  };\r\n\r\n  var unbind = function unbind() {\r\n    if (!isBound) {\r\n      return;\r\n    }\r\n\r\n    isBound = false;\r\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\r\n  };\r\n\r\n  var pointerEvents = [{\r\n    eventName: 'click',\r\n    fn: function fn(event) {\r\n      event.preventDefault();\r\n      unbind();\r\n    }\r\n  }, {\r\n    eventName: 'mousedown',\r\n    fn: unbind\r\n  }, {\r\n    eventName: 'touchstart',\r\n    fn: unbind\r\n  }];\r\n\r\n  var preventNext = function preventNext() {\r\n    if (isBound) {\r\n      unbind();\r\n    }\r\n\r\n    bind();\r\n  };\r\n\r\n  var preventer = {\r\n    preventNext: preventNext,\r\n    abort: unbind\r\n  };\r\n  return preventer;\r\n});\r\n\r\nvar sloppyClickThreshold = 5;\r\nvar isSloppyClickThresholdExceeded = (function (original, current) {\r\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\r\n});\r\n\r\nvar _preventedKeys;\r\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\r\nvar preventStandardKeyEvents = (function (event) {\r\n  if (preventedKeys[event.keyCode]) {\r\n    event.preventDefault();\r\n  }\r\n});\r\n\r\nvar primaryButton = 0;\r\n\r\nvar noop$1 = function noop() {};\r\n\r\nvar mouseDownMarshal = createEventMarshal();\r\nfunction useMouseSensor(args) {\r\n  var canStartCapturing = args.canStartCapturing,\r\n      getWindow = args.getWindow,\r\n      callbacks = args.callbacks,\r\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\r\n      onCaptureStart = args.onCaptureStart,\r\n      onCaptureEnd = args.onCaptureEnd;\r\n  var pendingRef = useRef(null);\r\n  var isDraggingRef = useRef(false);\r\n  var unbindWindowEventsRef = useRef(noop$1);\r\n  var getIsCapturing = useCallback(function () {\r\n    return Boolean(pendingRef.current || isDraggingRef.current);\r\n  }, []);\r\n  var schedule = useMemo(function () {\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\r\n    return createScheduler(callbacks);\r\n  }, [callbacks, getIsCapturing]);\r\n  var postDragEventPreventer = useMemo(function () {\r\n    return createPostDragEventPreventer(getWindow);\r\n  }, [getWindow]);\r\n  var stop = useCallback(function () {\r\n    if (!getIsCapturing()) {\r\n      return;\r\n    }\r\n\r\n    schedule.cancel();\r\n    unbindWindowEventsRef.current();\r\n    var shouldBlockClick = isDraggingRef.current;\r\n    mouseDownMarshal.reset();\r\n\r\n    if (shouldBlockClick) {\r\n      postDragEventPreventer.preventNext();\r\n    }\r\n\r\n    pendingRef.current = null;\r\n    isDraggingRef.current = false;\r\n    onCaptureEnd();\r\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\r\n  var cancel = useCallback(function () {\r\n    var wasDragging = isDraggingRef.current;\r\n    stop();\r\n\r\n    if (wasDragging) {\r\n      callbacks.onCancel();\r\n    }\r\n  }, [callbacks, stop]);\r\n  var startDragging = useCallback(function () {\r\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\r\n    var pending = pendingRef.current;\r\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\r\n    pendingRef.current = null;\r\n    isDraggingRef.current = true;\r\n    callbacks.onLift({\r\n      clientSelection: pending,\r\n      movementMode: 'FLUID'\r\n    });\r\n  }, [callbacks]);\r\n  var windowBindings = useMemo(function () {\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\r\n    var bindings = [{\r\n      eventName: 'mousemove',\r\n      fn: function fn(event) {\r\n        var button = event.button,\r\n            clientX = event.clientX,\r\n            clientY = event.clientY;\r\n\r\n        if (button !== primaryButton) {\r\n          return;\r\n        }\r\n\r\n        var point = {\r\n          x: clientX,\r\n          y: clientY\r\n        };\r\n\r\n        if (isDraggingRef.current) {\r\n          event.preventDefault();\r\n          schedule.move(point);\r\n          return;\r\n        }\r\n\r\n        var pending = pendingRef.current;\r\n\r\n        if (!pending) {\r\n          stop();\r\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\r\n        }\r\n\r\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        startDragging();\r\n      }\r\n    }, {\r\n      eventName: 'mouseup',\r\n      fn: function fn(event) {\r\n        var wasDragging = isDraggingRef.current;\r\n        stop();\r\n\r\n        if (wasDragging) {\r\n          event.preventDefault();\r\n          callbacks.onDrop();\r\n        }\r\n      }\r\n    }, {\r\n      eventName: 'mousedown',\r\n      fn: function fn(event) {\r\n        if (isDraggingRef.current) {\r\n          event.preventDefault();\r\n        }\r\n\r\n        cancel();\r\n      }\r\n    }, {\r\n      eventName: 'keydown',\r\n      fn: function fn(event) {\r\n        if (pendingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        if (event.keyCode === escape) {\r\n          event.preventDefault();\r\n          cancel();\r\n          return;\r\n        }\r\n\r\n        preventStandardKeyEvents(event);\r\n      }\r\n    }, {\r\n      eventName: 'resize',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'scroll',\r\n      options: {\r\n        passive: true,\r\n        capture: false\r\n      },\r\n      fn: function fn(event) {\r\n        if (event.currentTarget !== getWindow()) {\r\n          return;\r\n        }\r\n\r\n        if (pendingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        schedule.windowScrollMove();\r\n      }\r\n    }, {\r\n      eventName: 'webkitmouseforcechanged',\r\n      fn: function fn(event) {\r\n        if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\r\n          process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\r\n          return;\r\n        }\r\n\r\n        var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\r\n        var isForcePressing = event.webkitForce >= forcePressThreshold;\r\n\r\n        if (!getShouldRespectForcePress()) {\r\n          event.preventDefault();\r\n          return;\r\n        }\r\n\r\n        if (isForcePressing) {\r\n          cancel();\r\n        }\r\n      }\r\n    }, {\r\n      eventName: supportedEventName,\r\n      fn: cancel\r\n    }];\r\n    return bindings;\r\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow, getShouldRespectForcePress]);\r\n  var bindWindowEvents = useCallback(function () {\r\n    var win = getWindow();\r\n    var options = {\r\n      capture: true\r\n    };\r\n\r\n    unbindWindowEventsRef.current = function () {\r\n      return unbindEvents(win, windowBindings, options);\r\n    };\r\n\r\n    bindEvents(win, windowBindings, options);\r\n  }, [getWindow, windowBindings]);\r\n  var startPendingDrag = useCallback(function (point) {\r\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\r\n    pendingRef.current = point;\r\n    onCaptureStart(stop);\r\n    bindWindowEvents();\r\n  }, [bindWindowEvents, onCaptureStart, stop]);\r\n  var onMouseDown = useCallback(function (event) {\r\n    if (mouseDownMarshal.isHandled()) {\r\n      return;\r\n    }\r\n\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\r\n\r\n    if (!canStartCapturing(event)) {\r\n      return;\r\n    }\r\n\r\n    if (event.button !== primaryButton) {\r\n      return;\r\n    }\r\n\r\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\r\n      return;\r\n    }\r\n\r\n    mouseDownMarshal.handle();\r\n    event.preventDefault();\r\n    var point = {\r\n      x: event.clientX,\r\n      y: event.clientY\r\n    };\r\n    startPendingDrag(point);\r\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\r\n  return onMouseDown;\r\n}\r\n\r\nfunction isElement(el) {\r\n  return el instanceof getWindowFromEl(el).Element;\r\n}\r\n\r\nvar interactiveTagNames = {\r\n  input: true,\r\n  button: true,\r\n  textarea: true,\r\n  select: true,\r\n  option: true,\r\n  optgroup: true,\r\n  video: true,\r\n  audio: true\r\n};\r\n\r\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\r\n  if (current == null) {\r\n    return false;\r\n  }\r\n\r\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\r\n\r\n  if (hasAnInteractiveTag) {\r\n    return true;\r\n  }\r\n\r\n  var attribute = current.getAttribute('contenteditable');\r\n\r\n  if (attribute === 'true' || attribute === '') {\r\n    return true;\r\n  }\r\n\r\n  if (current === parent) {\r\n    return false;\r\n  }\r\n\r\n  return isAnInteractiveElement(parent, current.parentElement);\r\n};\r\n\r\nvar shouldAllowDraggingFromTarget = (function (event, canDragInteractiveElements) {\r\n  if (canDragInteractiveElements) {\r\n    return true;\r\n  }\r\n\r\n  var target = event.target,\r\n      currentTarget = event.currentTarget;\r\n\r\n  if (!isElement(target) || !isElement(currentTarget)) {\r\n    return true;\r\n  }\r\n\r\n  return !isAnInteractiveElement(currentTarget, target);\r\n});\r\n\r\nvar getBorderBoxCenterPosition = (function (el) {\r\n  return getRect(el.getBoundingClientRect()).center;\r\n});\r\n\r\nvar _scrollJumpKeys;\r\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\r\n\r\nfunction noop$2() {}\r\n\r\nfunction useKeyboardSensor(args) {\r\n  var canStartCapturing = args.canStartCapturing,\r\n      getWindow = args.getWindow,\r\n      callbacks = args.callbacks,\r\n      onCaptureStart = args.onCaptureStart,\r\n      onCaptureEnd = args.onCaptureEnd,\r\n      getDraggableRef = args.getDraggableRef;\r\n  var isDraggingRef = useRef(false);\r\n  var unbindWindowEventsRef = useRef(noop$2);\r\n  var getIsDragging = useCallback(function () {\r\n    return isDraggingRef.current;\r\n  }, []);\r\n  var schedule = useMemo(function () {\r\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\r\n    return createScheduler(callbacks);\r\n  }, [callbacks, getIsDragging]);\r\n  var stop = useCallback(function () {\r\n    if (!getIsDragging()) {\r\n      return;\r\n    }\r\n\r\n    schedule.cancel();\r\n    unbindWindowEventsRef.current();\r\n    isDraggingRef.current = false;\r\n    onCaptureEnd();\r\n  }, [getIsDragging, onCaptureEnd, schedule]);\r\n  var cancel = useCallback(function () {\r\n    var wasDragging = isDraggingRef.current;\r\n    stop();\r\n\r\n    if (wasDragging) {\r\n      callbacks.onCancel();\r\n    }\r\n  }, [callbacks, stop]);\r\n  var windowBindings = useMemo(function () {\r\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\r\n    return [{\r\n      eventName: 'mousedown',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'mouseup',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'click',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'touchstart',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'resize',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'wheel',\r\n      fn: cancel,\r\n      options: {\r\n        passive: true\r\n      }\r\n    }, {\r\n      eventName: 'scroll',\r\n      options: {\r\n        capture: false\r\n      },\r\n      fn: function fn(event) {\r\n        if (event.currentTarget !== getWindow()) {\r\n          return;\r\n        }\r\n\r\n        callbacks.onWindowScroll();\r\n      }\r\n    }, {\r\n      eventName: supportedEventName,\r\n      fn: cancel\r\n    }];\r\n  }, [callbacks, cancel, getIsDragging, getWindow]);\r\n  var bindWindowEvents = useCallback(function () {\r\n    var win = getWindow();\r\n    var options = {\r\n      capture: true\r\n    };\r\n\r\n    unbindWindowEventsRef.current = function () {\r\n      return unbindEvents(win, windowBindings, options);\r\n    };\r\n\r\n    bindEvents(win, windowBindings, options);\r\n  }, [getWindow, windowBindings]);\r\n  var startDragging = useCallback(function () {\r\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\r\n    var ref = getDraggableRef();\r\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\r\n    isDraggingRef.current = true;\r\n    onCaptureStart(stop);\r\n    bindWindowEvents();\r\n    var center = getBorderBoxCenterPosition(ref);\r\n    callbacks.onLift({\r\n      clientSelection: center,\r\n      movementMode: 'SNAP'\r\n    });\r\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\r\n  var onKeyDown = useCallback(function (event) {\r\n    if (!getIsDragging()) {\r\n      if (event.defaultPrevented) {\r\n        return;\r\n      }\r\n\r\n      if (!canStartCapturing(event)) {\r\n        return;\r\n      }\r\n\r\n      if (event.keyCode !== space) {\r\n        return;\r\n      }\r\n\r\n      event.preventDefault();\r\n      startDragging();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === escape) {\r\n      event.preventDefault();\r\n      cancel();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === space) {\r\n      event.preventDefault();\r\n      stop();\r\n      callbacks.onDrop();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === arrowDown) {\r\n      event.preventDefault();\r\n      schedule.moveDown();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === arrowUp) {\r\n      event.preventDefault();\r\n      schedule.moveUp();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === arrowRight) {\r\n      event.preventDefault();\r\n      schedule.moveRight();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === arrowLeft) {\r\n      event.preventDefault();\r\n      schedule.moveLeft();\r\n      return;\r\n    }\r\n\r\n    if (scrollJumpKeys[event.keyCode]) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    preventStandardKeyEvents(event);\r\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\r\n  return onKeyDown;\r\n}\r\n\r\nvar timeForLongPress = 150;\r\nvar forcePressThreshold = 0.15;\r\nvar touchStartMarshal = createEventMarshal();\r\n\r\nvar noop$3 = function noop() {};\r\n\r\nvar webkitHack = function () {\r\n  var stub = {\r\n    preventTouchMove: noop$3,\r\n    releaseTouchMove: noop$3\r\n  };\r\n\r\n  if (typeof window === 'undefined') {\r\n    return stub;\r\n  }\r\n\r\n  if (!('ontouchstart' in window)) {\r\n    return stub;\r\n  }\r\n\r\n  var isBlocking = false;\r\n  window.addEventListener('touchmove', function (event) {\r\n    if (!isBlocking) {\r\n      return;\r\n    }\r\n\r\n    if (event.defaultPrevented) {\r\n      return;\r\n    }\r\n\r\n    event.preventDefault();\r\n  }, {\r\n    passive: false,\r\n    capture: false\r\n  });\r\n\r\n  var preventTouchMove = function preventTouchMove() {\r\n    isBlocking = true;\r\n  };\r\n\r\n  var releaseTouchMove = function releaseTouchMove() {\r\n    isBlocking = false;\r\n  };\r\n\r\n  return {\r\n    preventTouchMove: preventTouchMove,\r\n    releaseTouchMove: releaseTouchMove\r\n  };\r\n}();\r\n\r\nfunction useTouchSensor(args) {\r\n  var callbacks = args.callbacks,\r\n      getWindow = args.getWindow,\r\n      canStartCapturing = args.canStartCapturing,\r\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\r\n      onCaptureStart = args.onCaptureStart,\r\n      onCaptureEnd = args.onCaptureEnd;\r\n  var pendingRef = useRef(null);\r\n  var isDraggingRef = useRef(false);\r\n  var hasMovedRef = useRef(false);\r\n  var unbindWindowEventsRef = useRef(noop$3);\r\n  var getIsCapturing = useCallback(function () {\r\n    return Boolean(pendingRef.current || isDraggingRef.current);\r\n  }, []);\r\n  var postDragClickPreventer = useMemo(function () {\r\n    return createPostDragEventPreventer(getWindow);\r\n  }, [getWindow]);\r\n  var schedule = useMemo(function () {\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\r\n    return createScheduler(callbacks);\r\n  }, [callbacks, getIsCapturing]);\r\n  var stop = useCallback(function () {\r\n    if (!getIsCapturing()) {\r\n      return;\r\n    }\r\n\r\n    schedule.cancel();\r\n    unbindWindowEventsRef.current();\r\n    touchStartMarshal.reset();\r\n    webkitHack.releaseTouchMove();\r\n    hasMovedRef.current = false;\r\n    onCaptureEnd();\r\n\r\n    if (isDraggingRef.current) {\r\n      postDragClickPreventer.preventNext();\r\n      isDraggingRef.current = false;\r\n      return;\r\n    }\r\n\r\n    var pending = pendingRef.current;\r\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\r\n    clearTimeout(pending.longPressTimerId);\r\n    pendingRef.current = null;\r\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\r\n  var cancel = useCallback(function () {\r\n    var wasDragging = isDraggingRef.current;\r\n    stop();\r\n\r\n    if (wasDragging) {\r\n      callbacks.onCancel();\r\n    }\r\n  }, [callbacks, stop]);\r\n  var windowBindings = useMemo(function () {\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\r\n    var bindings = [{\r\n      eventName: 'touchmove',\r\n      options: {\r\n        passive: false,\r\n        capture: false\r\n      },\r\n      fn: function fn(event) {\r\n        if (!isDraggingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        if (!hasMovedRef.current) {\r\n          hasMovedRef.current = true;\r\n        }\r\n\r\n        var _event$touches$ = event.touches[0],\r\n            clientX = _event$touches$.clientX,\r\n            clientY = _event$touches$.clientY;\r\n        var point = {\r\n          x: clientX,\r\n          y: clientY\r\n        };\r\n        event.preventDefault();\r\n        schedule.move(point);\r\n      }\r\n    }, {\r\n      eventName: 'touchend',\r\n      fn: function fn(event) {\r\n        if (!isDraggingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        stop();\r\n        callbacks.onDrop();\r\n      }\r\n    }, {\r\n      eventName: 'touchcancel',\r\n      fn: function fn(event) {\r\n        if (!isDraggingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        event.preventDefault();\r\n        cancel();\r\n      }\r\n    }, {\r\n      eventName: 'touchstart',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'orientationchange',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'resize',\r\n      fn: cancel\r\n    }, {\r\n      eventName: 'scroll',\r\n      options: {\r\n        passive: true,\r\n        capture: false\r\n      },\r\n      fn: function fn() {\r\n        if (pendingRef.current) {\r\n          stop();\r\n          return;\r\n        }\r\n\r\n        schedule.windowScrollMove();\r\n      }\r\n    }, {\r\n      eventName: 'contextmenu',\r\n      fn: function fn(event) {\r\n        event.preventDefault();\r\n      }\r\n    }, {\r\n      eventName: 'keydown',\r\n      fn: function fn(event) {\r\n        if (!isDraggingRef.current) {\r\n          cancel();\r\n          return;\r\n        }\r\n\r\n        if (event.keyCode === escape) {\r\n          event.preventDefault();\r\n        }\r\n\r\n        cancel();\r\n      }\r\n    }, {\r\n      eventName: 'touchforcechange',\r\n      fn: function fn(event) {\r\n        if (!getShouldRespectForcePress()) {\r\n          event.preventDefault();\r\n          return;\r\n        }\r\n\r\n        if (hasMovedRef.current) {\r\n          event.preventDefault();\r\n          return;\r\n        }\r\n\r\n        var touch = event.touches[0];\r\n\r\n        if (touch.force >= forcePressThreshold) {\r\n          cancel();\r\n        }\r\n      }\r\n    }, {\r\n      eventName: supportedEventName,\r\n      fn: cancel\r\n    }];\r\n    return bindings;\r\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\r\n  var bindWindowEvents = useCallback(function () {\r\n    var win = getWindow();\r\n    var options = {\r\n      capture: true\r\n    };\r\n\r\n    unbindWindowEventsRef.current = function () {\r\n      return unbindEvents(win, windowBindings, options);\r\n    };\r\n\r\n    bindEvents(win, windowBindings, options);\r\n  }, [getWindow, windowBindings]);\r\n  var startDragging = useCallback(function () {\r\n    var pending = pendingRef.current;\r\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\r\n    isDraggingRef.current = true;\r\n    pendingRef.current = null;\r\n    hasMovedRef.current = false;\r\n    callbacks.onLift({\r\n      clientSelection: pending.point,\r\n      movementMode: 'FLUID'\r\n    });\r\n  }, [callbacks]);\r\n  var startPendingDrag = useCallback(function (event) {\r\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\r\n    var touch = event.touches[0];\r\n    var clientX = touch.clientX,\r\n        clientY = touch.clientY;\r\n    var point = {\r\n      x: clientX,\r\n      y: clientY\r\n    };\r\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\r\n    var pending = {\r\n      point: point,\r\n      longPressTimerId: longPressTimerId\r\n    };\r\n    pendingRef.current = pending;\r\n    onCaptureStart(stop);\r\n    bindWindowEvents();\r\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\r\n\r\n  var onTouchStart = function onTouchStart(event) {\r\n    if (touchStartMarshal.isHandled()) {\r\n      return;\r\n    }\r\n\r\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\r\n\r\n    if (!canStartCapturing(event)) {\r\n      return;\r\n    }\r\n\r\n    touchStartMarshal.handle();\r\n    webkitHack.preventTouchMove();\r\n    startPendingDrag(event);\r\n  };\r\n\r\n  return onTouchStart;\r\n}\r\n\r\nfunction isSvgElement(el) {\r\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\r\n}\r\n\r\nvar selector = \"[\" + dragHandle + \"]\";\r\n\r\nvar throwIfSVG = function throwIfSVG(el) {\r\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\r\n};\r\n\r\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\r\n  if (draggableRef.hasAttribute(dragHandle)) {\r\n    throwIfSVG(draggableRef);\r\n    return draggableRef;\r\n  }\r\n\r\n  var el = draggableRef.querySelector(selector);\r\n  throwIfSVG(draggableRef);\r\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\r\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\r\n  return el;\r\n};\r\n\r\nfunction useValidation$1(_ref) {\r\n  var isEnabled = _ref.isEnabled,\r\n      getDraggableRef = _ref.getDraggableRef;\r\n  useEffect(function () {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!isEnabled) {\r\n        return;\r\n      }\r\n\r\n      var draggableRef = getDraggableRef();\r\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\r\n      getDragHandleRef(draggableRef);\r\n    }\r\n  }, [getDraggableRef, isEnabled]);\r\n}\r\n\r\nvar retainingFocusFor = null;\r\nvar listenerOptions = {\r\n  capture: true\r\n};\r\n\r\nvar clearRetentionOnFocusChange = function () {\r\n  var isBound = false;\r\n\r\n  var bind = function bind() {\r\n    if (isBound) {\r\n      return;\r\n    }\r\n\r\n    isBound = true;\r\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\r\n  };\r\n\r\n  var unbind = function unbind() {\r\n    if (!isBound) {\r\n      return;\r\n    }\r\n\r\n    isBound = false;\r\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\r\n  };\r\n\r\n  var onWindowFocusChange = function onWindowFocusChange() {\r\n    unbind();\r\n    retainingFocusFor = null;\r\n  };\r\n\r\n  var result = function result() {\r\n    return bind();\r\n  };\r\n\r\n  result.cancel = function () {\r\n    return unbind();\r\n  };\r\n\r\n  return result;\r\n}();\r\n\r\nvar retain = function retain(id) {\r\n  retainingFocusFor = id;\r\n  clearRetentionOnFocusChange();\r\n};\r\n\r\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\r\n  if (!retainingFocusFor) {\r\n    return;\r\n  }\r\n\r\n  if (id !== retainingFocusFor) {\r\n    return;\r\n  }\r\n\r\n  retainingFocusFor = null;\r\n  clearRetentionOnFocusChange.cancel();\r\n  var dragHandleRef = getDragHandleRef(draggableRef);\r\n\r\n  if (!dragHandleRef) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\r\n    return;\r\n  }\r\n\r\n  dragHandleRef.focus();\r\n};\r\n\r\nvar retainer = {\r\n  retain: retain,\r\n  tryRestoreFocus: tryRestoreFocus\r\n};\r\n\r\nfunction noop$4() {}\r\n\r\nfunction useFocusRetainer(args) {\r\n  var isFocusedRef = useRef(false);\r\n  var lastArgsRef = usePrevious(args);\r\n  var getDraggableRef = args.getDraggableRef;\r\n  var onFocus = useCallback(function () {\r\n    isFocusedRef.current = true;\r\n  }, []);\r\n  var onBlur = useCallback(function () {\r\n    isFocusedRef.current = false;\r\n  }, []);\r\n  useIsomorphicLayoutEffect(function () {\r\n    var first = lastArgsRef.current;\r\n\r\n    if (!first.isEnabled) {\r\n      return noop$4;\r\n    }\r\n\r\n    var draggable = getDraggableRef();\r\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\r\n    var dragHandle = getDragHandleRef(draggable);\r\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\r\n    return function () {\r\n      var last = lastArgsRef.current;\r\n\r\n      var shouldRetainFocus = function () {\r\n        if (!last.isEnabled) {\r\n          return false;\r\n        }\r\n\r\n        if (!isFocusedRef.current) {\r\n          return false;\r\n        }\r\n\r\n        return last.isDragging || last.isDropAnimating;\r\n      }();\r\n\r\n      if (shouldRetainFocus) {\r\n        retainer.retain(last.draggableId);\r\n      }\r\n    };\r\n  }, [getDraggableRef, lastArgsRef]);\r\n  var lastDraggableRef = useRef(null);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!lastDraggableRef.current) {\r\n      return;\r\n    }\r\n\r\n    var draggableRef = getDraggableRef();\r\n\r\n    if (!draggableRef) {\r\n      return;\r\n    }\r\n\r\n    if (draggableRef === lastDraggableRef.current) {\r\n      return;\r\n    }\r\n\r\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\r\n      getDragHandleRef(draggableRef).focus();\r\n    }\r\n  });\r\n  useIsomorphicLayoutEffect(function () {\r\n    lastDraggableRef.current = getDraggableRef();\r\n  });\r\n  return {\r\n    onBlur: onBlur,\r\n    onFocus: onFocus\r\n  };\r\n}\r\n\r\nfunction preventHtml5Dnd(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction useDragHandle(args) {\r\n  var capturingRef = useRef(null);\r\n  var onCaptureStart = useCallback(function (abort) {\r\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\r\n    capturingRef.current = {\r\n      abort: abort\r\n    };\r\n  }, []);\r\n  var onCaptureEnd = useCallback(function () {\r\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\r\n    capturingRef.current = null;\r\n  }, []);\r\n  var abortCapture = useCallback(function () {\r\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\r\n    capturingRef.current.abort();\r\n  }, []);\r\n\r\n  var _useRequiredContext = useRequiredContext(AppContext),\r\n      canLift = _useRequiredContext.canLift,\r\n      styleContext = _useRequiredContext.style;\r\n\r\n  var isDragging = args.isDragging,\r\n      isEnabled = args.isEnabled,\r\n      draggableId = args.draggableId,\r\n      callbacks = args.callbacks,\r\n      getDraggableRef = args.getDraggableRef,\r\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\r\n      canDragInteractiveElements = args.canDragInteractiveElements;\r\n  var lastArgsRef = usePrevious(args);\r\n  useValidation$1({\r\n    isEnabled: isEnabled,\r\n    getDraggableRef: getDraggableRef\r\n  });\r\n  var getWindow = useCallback(function () {\r\n    return getWindowFromEl(getDraggableRef());\r\n  }, [getDraggableRef]);\r\n  var canStartCapturing = useCallback(function (event) {\r\n    if (!isEnabled) {\r\n      return false;\r\n    }\r\n\r\n    if (capturingRef.current) {\r\n      return false;\r\n    }\r\n\r\n    if (!canLift(draggableId)) {\r\n      return false;\r\n    }\r\n\r\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\r\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\r\n\r\n  var _useFocusRetainer = useFocusRetainer(args),\r\n      onBlur = _useFocusRetainer.onBlur,\r\n      onFocus = _useFocusRetainer.onFocus;\r\n\r\n  var mouseArgs = useMemo(function () {\r\n    return {\r\n      callbacks: callbacks,\r\n      getDraggableRef: getDraggableRef,\r\n      getWindow: getWindow,\r\n      canStartCapturing: canStartCapturing,\r\n      onCaptureStart: onCaptureStart,\r\n      onCaptureEnd: onCaptureEnd,\r\n      getShouldRespectForcePress: getShouldRespectForcePress\r\n    };\r\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\r\n  var onMouseDown = useMouseSensor(mouseArgs);\r\n  var keyboardArgs = useMemo(function () {\r\n    return {\r\n      callbacks: callbacks,\r\n      getDraggableRef: getDraggableRef,\r\n      getWindow: getWindow,\r\n      canStartCapturing: canStartCapturing,\r\n      onCaptureStart: onCaptureStart,\r\n      onCaptureEnd: onCaptureEnd\r\n    };\r\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\r\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\r\n  var touchArgs = useMemo(function () {\r\n    return {\r\n      callbacks: callbacks,\r\n      getDraggableRef: getDraggableRef,\r\n      getWindow: getWindow,\r\n      canStartCapturing: canStartCapturing,\r\n      getShouldRespectForcePress: getShouldRespectForcePress,\r\n      onCaptureStart: onCaptureStart,\r\n      onCaptureEnd: onCaptureEnd\r\n    };\r\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\r\n  var onTouchStart = useTouchSensor(touchArgs);\r\n  useIsomorphicLayoutEffect(function () {\r\n    return function () {\r\n      if (!capturingRef.current) {\r\n        return;\r\n      }\r\n\r\n      abortCapture();\r\n\r\n      if (lastArgsRef.current.isDragging) {\r\n        lastArgsRef.current.callbacks.onCancel();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (!isEnabled && capturingRef.current) {\r\n    abortCapture();\r\n\r\n    if (lastArgsRef.current.isDragging) {\r\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\r\n      callbacks.onCancel();\r\n    }\r\n  }\r\n\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (!isDragging && capturingRef.current) {\r\n      abortCapture();\r\n    }\r\n  }, [abortCapture, isDragging]);\r\n  var props = useMemo(function () {\r\n    if (!isEnabled) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      onMouseDown: onMouseDown,\r\n      onKeyDown: onKeyDown,\r\n      onTouchStart: onTouchStart,\r\n      onFocus: onFocus,\r\n      onBlur: onBlur,\r\n      tabIndex: 0,\r\n      'data-react-beautiful-dnd-drag-handle': styleContext,\r\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\r\n      draggable: false,\r\n      onDragStart: preventHtml5Dnd\r\n    };\r\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\r\n  return props;\r\n}\r\n\r\nfunction getDimension$1(descriptor, el, windowScroll) {\r\n  if (windowScroll === void 0) {\r\n    windowScroll = origin;\r\n  }\r\n\r\n  var computedStyles = window.getComputedStyle(el);\r\n  var borderBox = el.getBoundingClientRect();\r\n  var client = calculateBox(borderBox, computedStyles);\r\n  var page = withScroll(client, windowScroll);\r\n  var placeholder = {\r\n    client: client,\r\n    tagName: el.tagName.toLowerCase(),\r\n    display: computedStyles.display\r\n  };\r\n  var displaceBy = {\r\n    x: client.marginBox.width,\r\n    y: client.marginBox.height\r\n  };\r\n  var dimension = {\r\n    descriptor: descriptor,\r\n    placeholder: placeholder,\r\n    displaceBy: displaceBy,\r\n    client: client,\r\n    page: page\r\n  };\r\n  return dimension;\r\n}\r\n\r\nfunction useDraggableDimensionPublisher(args) {\r\n  var draggableId = args.draggableId,\r\n      index = args.index,\r\n      getDraggableRef = args.getDraggableRef;\r\n  var appContext = useRequiredContext(AppContext);\r\n  var marshal = appContext.marshal;\r\n  var droppableContext = useRequiredContext(DroppableContext);\r\n  var droppableId = droppableContext.droppableId,\r\n      type = droppableContext.type;\r\n  var descriptor = useMemo(function () {\r\n    var result = {\r\n      id: draggableId,\r\n      droppableId: droppableId,\r\n      type: type,\r\n      index: index\r\n    };\r\n    return result;\r\n  }, [draggableId, droppableId, index, type]);\r\n  var publishedDescriptorRef = useRef(descriptor);\r\n  var makeDimension = useCallback(function (windowScroll) {\r\n    var latest = publishedDescriptorRef.current;\r\n    var el = getDraggableRef();\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\r\n    return getDimension$1(latest, el, windowScroll);\r\n  }, [getDraggableRef]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\r\n    return function () {\r\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\r\n    };\r\n  }, [makeDimension, marshal]);\r\n  useIsomorphicLayoutEffect(function () {\r\n    if (publishedDescriptorRef.current === descriptor) {\r\n      return;\r\n    }\r\n\r\n    var previous = publishedDescriptorRef.current;\r\n    publishedDescriptorRef.current = descriptor;\r\n    marshal.updateDraggable(previous, descriptor, makeDimension);\r\n  }, [descriptor, makeDimension, marshal]);\r\n}\r\n\r\nfunction checkOwnProps$1(props) {\r\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\r\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\r\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\r\n}\r\n\r\nfunction checkForOutdatedProps(props) {\r\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\r\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\r\n  }\r\n}\r\n\r\nfunction useValidation$2(props, getRef) {\r\n  useEffect(function () {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      checkOwnProps$1(props);\r\n      checkForOutdatedProps(props);\r\n      checkIsValidInnerRef(getRef());\r\n    }\r\n  });\r\n}\r\n\r\nfunction Draggable(props) {\r\n  var ref = useRef(null);\r\n  var setRef = useCallback(function (el) {\r\n    ref.current = el;\r\n  }, []);\r\n  var getRef = useCallback(function () {\r\n    return ref.current;\r\n  }, []);\r\n  var appContext = useRequiredContext(AppContext);\r\n  useValidation$2(props, getRef);\r\n  var children = props.children,\r\n      draggableId = props.draggableId,\r\n      isDragDisabled = props.isDragDisabled,\r\n      shouldRespectForcePress = props.shouldRespectForcePress,\r\n      canDragInteractiveElements = props.disableInteractiveElementBlocking,\r\n      index = props.index,\r\n      mapped = props.mapped,\r\n      moveUpAction = props.moveUp,\r\n      moveAction = props.move,\r\n      dropAction = props.drop,\r\n      moveDownAction = props.moveDown,\r\n      moveRightAction = props.moveRight,\r\n      moveLeftAction = props.moveLeft,\r\n      moveByWindowScrollAction = props.moveByWindowScroll,\r\n      liftAction = props.lift,\r\n      dropAnimationFinishedAction = props.dropAnimationFinished;\r\n  var forPublisher = useMemo(function () {\r\n    return {\r\n      draggableId: draggableId,\r\n      index: index,\r\n      getDraggableRef: getRef\r\n    };\r\n  }, [draggableId, getRef, index]);\r\n  useDraggableDimensionPublisher(forPublisher);\r\n  var onLift = useCallback(function (options) {\r\n    start('LIFT');\r\n    var el = ref.current;\r\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\r\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\r\n    var clientSelection = options.clientSelection,\r\n        movementMode = options.movementMode;\r\n    liftAction({\r\n      id: draggableId,\r\n      clientSelection: clientSelection,\r\n      movementMode: movementMode\r\n    });\r\n    finish('LIFT');\r\n  }, [draggableId, isDragDisabled, liftAction]);\r\n  var getShouldRespectForcePress = useCallback(function () {\r\n    return shouldRespectForcePress;\r\n  }, [shouldRespectForcePress]);\r\n  var callbacks = useMemo(function () {\r\n    return {\r\n      onLift: onLift,\r\n      onMove: function onMove(clientSelection) {\r\n        return moveAction({\r\n          client: clientSelection\r\n        });\r\n      },\r\n      onDrop: function onDrop() {\r\n        return dropAction({\r\n          reason: 'DROP'\r\n        });\r\n      },\r\n      onCancel: function onCancel() {\r\n        return dropAction({\r\n          reason: 'CANCEL'\r\n        });\r\n      },\r\n      onMoveUp: moveUpAction,\r\n      onMoveDown: moveDownAction,\r\n      onMoveRight: moveRightAction,\r\n      onMoveLeft: moveLeftAction,\r\n      onWindowScroll: function onWindowScroll() {\r\n        return moveByWindowScrollAction({\r\n          newScroll: getWindowScroll()\r\n        });\r\n      }\r\n    };\r\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\r\n  var isDragging = mapped.type === 'DRAGGING';\r\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\r\n  var dragHandleArgs = useMemo(function () {\r\n    return {\r\n      draggableId: draggableId,\r\n      isDragging: isDragging,\r\n      isDropAnimating: isDropAnimating,\r\n      isEnabled: !isDragDisabled,\r\n      callbacks: callbacks,\r\n      getDraggableRef: getRef,\r\n      canDragInteractiveElements: canDragInteractiveElements,\r\n      getShouldRespectForcePress: getShouldRespectForcePress\r\n    };\r\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\r\n  var dragHandleProps = useDragHandle(dragHandleArgs);\r\n  var onMoveEnd = useCallback(function (event) {\r\n    if (mapped.type !== 'DRAGGING') {\r\n      return;\r\n    }\r\n\r\n    if (!mapped.dropping) {\r\n      return;\r\n    }\r\n\r\n    if (event.propertyName !== 'transform') {\r\n      return;\r\n    }\r\n\r\n    dropAnimationFinishedAction();\r\n  }, [dropAnimationFinishedAction, mapped]);\r\n  var provided = useMemo(function () {\r\n    var style = getStyle$1(mapped);\r\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\r\n    var result = {\r\n      innerRef: setRef,\r\n      draggableProps: {\r\n        'data-react-beautiful-dnd-draggable': appContext.style,\r\n        style: style,\r\n        onTransitionEnd: onTransitionEnd\r\n      },\r\n      dragHandleProps: dragHandleProps\r\n    };\r\n    return result;\r\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\r\n  return children(provided, mapped.snapshot);\r\n}\r\n\r\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\r\n  return result.combine ? result.combine.draggableId : null;\r\n};\r\n\r\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\r\n  return impact.merge ? impact.merge.combine.draggableId : null;\r\n};\r\n\r\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\r\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\r\n    return {\r\n      isDragging: true,\r\n      isDropAnimating: Boolean(dropping),\r\n      dropAnimation: dropping,\r\n      mode: mode,\r\n      draggingOver: draggingOver,\r\n      combineWith: combineWith,\r\n      combineTargetFor: null\r\n    };\r\n  });\r\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\r\n    return {\r\n      isDragging: false,\r\n      isDropAnimating: false,\r\n      dropAnimation: null,\r\n      mode: null,\r\n      draggingOver: null,\r\n      combineTargetFor: combineTargetFor,\r\n      combineWith: null\r\n    };\r\n  });\r\n  var defaultMapProps = {\r\n    mapped: {\r\n      type: 'SECONDARY',\r\n      offset: origin,\r\n      combineTargetFor: null,\r\n      shouldAnimateDisplacement: true,\r\n      snapshot: getSecondarySnapshot(null)\r\n    }\r\n  };\r\n  var memoizedOffset = memoizeOne(function (x, y) {\r\n    return {\r\n      x: x,\r\n      y: y\r\n    };\r\n  });\r\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\r\n    return {\r\n      mapped: {\r\n        type: 'DRAGGING',\r\n        dropping: null,\r\n        draggingOver: draggingOver,\r\n        combineWith: combineWith,\r\n        mode: mode,\r\n        offset: offset,\r\n        dimension: dimension,\r\n        forceShouldAnimate: forceShouldAnimate,\r\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\r\n      }\r\n    };\r\n  });\r\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\r\n    if (combineTargetFor === void 0) {\r\n      combineTargetFor = null;\r\n    }\r\n\r\n    return {\r\n      mapped: {\r\n        type: 'SECONDARY',\r\n        offset: offset,\r\n        combineTargetFor: combineTargetFor,\r\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\r\n        snapshot: getSecondarySnapshot(combineTargetFor)\r\n      }\r\n    };\r\n  });\r\n\r\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\r\n    var map = impact.movement.map;\r\n    var displacement = map[ownId];\r\n    var movement = impact.movement;\r\n    var merge = impact.merge;\r\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\r\n    var displacedBy = movement.displacedBy.point;\r\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\r\n\r\n    if (isCombinedWith) {\r\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\r\n    }\r\n\r\n    if (!displacement) {\r\n      return null;\r\n    }\r\n\r\n    if (!displacement.isVisible) {\r\n      return null;\r\n    }\r\n\r\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\r\n  };\r\n\r\n  var draggingSelector = function draggingSelector(state, ownProps) {\r\n    if (state.isDragging) {\r\n      if (state.critical.draggable.id !== ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      var offset = state.current.client.offset;\r\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\r\n      var mode = state.movementMode;\r\n      var draggingOver = whatIsDraggedOver(state.impact);\r\n      var combineWith = getCombineWithFromImpact(state.impact);\r\n      var forceShouldAnimate = state.forceShouldAnimate;\r\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (completed.result.draggableId !== ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\r\n      var result = completed.result;\r\n      var _mode = result.mode;\r\n\r\n      var _draggingOver = whatIsDraggedOverFromResult(result);\r\n\r\n      var _combineWith = getCombineWithFromResult(result);\r\n\r\n      var duration = state.dropDuration;\r\n      var dropping = {\r\n        duration: duration,\r\n        curve: curves.drop,\r\n        moveTo: state.newHomeClientOffset,\r\n        opacity: _combineWith ? combine.opacity.drop : null,\r\n        scale: _combineWith ? combine.scale.drop : null\r\n      };\r\n      return {\r\n        mapped: {\r\n          type: 'DRAGGING',\r\n          offset: state.newHomeClientOffset,\r\n          dimension: _dimension,\r\n          dropping: dropping,\r\n          draggingOver: _draggingOver,\r\n          combineWith: _combineWith,\r\n          mode: _mode,\r\n          forceShouldAnimate: null,\r\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\r\n        }\r\n      };\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  var secondarySelector = function secondarySelector(state, ownProps) {\r\n    if (state.isDragging) {\r\n      if (state.critical.draggable.id === ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\r\n    }\r\n\r\n    if (state.phase === 'DROP_ANIMATING') {\r\n      var completed = state.completed;\r\n\r\n      if (completed.result.draggableId === ownProps.draggableId) {\r\n        return null;\r\n      }\r\n\r\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  var selector = function selector(state, ownProps) {\r\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\r\n  };\r\n\r\n  return selector;\r\n};\r\nvar mapDispatchToProps$1 = {\r\n  lift: lift,\r\n  move: move,\r\n  moveUp: moveUp,\r\n  moveDown: moveDown,\r\n  moveLeft: moveLeft,\r\n  moveRight: moveRight,\r\n  moveByWindowScroll: moveByWindowScroll,\r\n  drop: drop,\r\n  dropAnimationFinished: dropAnimationFinished\r\n};\r\nvar defaultProps$1 = {\r\n  isDragDisabled: false,\r\n  disableInteractiveElementBlocking: false,\r\n  shouldRespectForcePress: false\r\n};\r\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\r\n  context: StoreContext,\r\n  pure: true,\r\n  areStatePropsEqual: isStrictEqual\r\n})(Draggable);\r\nConnectedDraggable.defaultProps = defaultProps$1;\r\n\r\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}