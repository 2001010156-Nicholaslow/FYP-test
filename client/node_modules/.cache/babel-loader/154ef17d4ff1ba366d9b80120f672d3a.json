{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\1\\\\FYP-test\\\\client\\\\src\\\\Pages\\\\Opportunities\\\\Opportunities.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport TableIcons from \"../../Components/MaterialTablesIcons/TablesIcons\";\nimport MaterialTable from \"material-table\";\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Opportunities() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [reload, setReload] = useState(false);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/admin_get_opp\").then(response => {\n      setData(response.data);\n    });\n  }, []);\n\n  const updateopp = (opp_id, name, position_level, salary, job_scope, description, additional_requirements) => {\n    Axios.put(\"http://localhost:3001/admin_update_opp\", {\n      opp_id: opp_id,\n      name: name,\n      position_level: position_level,\n      salary: salary,\n      job_scope: job_scope,\n      description: description,\n      additional_requirements: additional_requirements\n    }).then(response => {\n      alert(\"Updated\");\n      setReload(!reload);\n    });\n  };\n\n  const deleteopp = opp_id => {\n    Axios.put(\"http://localhost:3001/admin_delete_opp\", {\n      opp_id: opp_id\n    }).then(response => {\n      alert(\"Deleted\");\n      setReload(!reload);\n    });\n  };\n\n  const [columns, setColumns] = useState([{\n    title: \"Job Name\",\n    field: \"name\"\n  }, {\n    title: \"Company\",\n    field: \"company_name\"\n  }, {\n    title: \"Position\",\n    field: \"position_level\"\n  }, {\n    title: \"Salary\",\n    field: \"salary\"\n  }, {\n    title: \"Job Scope\",\n    field: \"job_scope\"\n  }, {\n    title: \"Job description\",\n    field: \"description\"\n  }, {\n    title: \"Additional Requirements\",\n    field: \"additional_requirements\"\n  }]);\n  return /*#__PURE__*/_jsxDEV(MaterialTable, {\n    icons: TableIcons,\n    title: \" Manage Opportunities\",\n    columns: columns,\n    data: data,\n    options: {\n      filtering: true\n    },\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataUpdate = [...data];\n          const index = oldData.tableData.id;\n          dataUpdate[index] = newData;\n          setData([...dataUpdate]);\n          updateopp(newData.opp_id, newData.name, newData.position_level, newData.salary, newData.job_scope, newData.description, newData.additional_requirements);\n          resolve();\n        }, 1000);\n      }),\n      onRowDelete: oldData => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataDelete = [...data];\n          const index = oldData.tableData.id;\n          deleteopp(oldData.opp_id);\n          dataDelete.splice(index, 1);\n          setData([...dataDelete]);\n          resolve();\n        }, 1000);\n      })\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Opportunities, \"xDiHlXSI16EjWbsUEt4YA4ZO86E=\");\n\n_c = Opportunities;\nexport default Opportunities;\n\nvar _c;\n\n$RefreshReg$(_c, \"Opportunities\");","map":{"version":3,"names":["React","useState","useEffect","TableIcons","MaterialTable","Axios","Opportunities","data","setData","reload","setReload","get","then","response","updateopp","opp_id","name","position_level","salary","job_scope","description","additional_requirements","put","alert","deleteopp","columns","setColumns","title","field","filtering","onRowUpdate","newData","oldData","Promise","resolve","reject","setTimeout","dataUpdate","index","tableData","id","onRowDelete","dataDelete","splice"],"sources":["D:/Github/1/FYP-test/client/src/Pages/Opportunities/Opportunities.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TableIcons from \"../../Components/MaterialTablesIcons/TablesIcons\";\r\nimport MaterialTable from \"material-table\";\r\nimport Axios from \"axios\";\r\n\r\nfunction Opportunities() {\r\n  const [data, setData] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/admin_get_opp\").then((response) => {\r\n      setData(response.data);\r\n    });\r\n  }, []);\r\n\r\n  const updateopp = (\r\n    opp_id,\r\n    name,\r\n    position_level,\r\n    salary,\r\n    job_scope,\r\n    description,\r\n    additional_requirements\r\n  ) => {\r\n    Axios.put(\"http://localhost:3001/admin_update_opp\", {\r\n      opp_id: opp_id,\r\n      name: name,\r\n      position_level: position_level,\r\n      salary: salary,\r\n      job_scope: job_scope,\r\n      description: description,\r\n      additional_requirements: additional_requirements,\r\n    }).then((response) => {\r\n      alert(\"Updated\");\r\n      setReload(!reload);\r\n    });\r\n  };\r\n  const deleteopp = (opp_id) => {\r\n    Axios.put(\"http://localhost:3001/admin_delete_opp\", {\r\n      opp_id: opp_id,\r\n    }).then((response) => {\r\n      alert(\"Deleted\");\r\n      setReload(!reload);\r\n    });\r\n  };\r\n\r\n  const [columns, setColumns] = useState([\r\n    { title: \"Job Name\", field: \"name\" },\r\n    {\r\n      title: \"Company\",\r\n      field: \"company_name\",\r\n    },\r\n    {\r\n      title: \"Position\",\r\n      field: \"position_level\",\r\n    },\r\n    {\r\n      title: \"Salary\",\r\n      field: \"salary\",\r\n    },\r\n    {\r\n      title: \"Job Scope\",\r\n      field: \"job_scope\",\r\n    },\r\n    {\r\n      title: \"Job description\",\r\n      field: \"description\",\r\n    },\r\n\r\n    {\r\n      title: \"Additional Requirements\",\r\n      field: \"additional_requirements\",\r\n    },\r\n  ]);\r\n  return (\r\n    <MaterialTable\r\n      icons={TableIcons}\r\n      title=\" Manage Opportunities\"\r\n      columns={columns}\r\n      data={data}\r\n      options={{\r\n        filtering: true,\r\n      }}\r\n      editable={{\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n              const dataUpdate = [...data];\r\n              const index = oldData.tableData.id;\r\n              dataUpdate[index] = newData;\r\n\r\n              setData([...dataUpdate]);\r\n              updateopp(\r\n                newData.opp_id,\r\n                newData.name,\r\n                newData.position_level,\r\n                newData.salary,\r\n                newData.job_scope,\r\n                newData.description,\r\n                newData.additional_requirements\r\n              );\r\n              resolve();\r\n            }, 1000);\r\n          }),\r\n        onRowDelete: (oldData) =>\r\n          new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n              const dataDelete = [...data];\r\n              const index = oldData.tableData.id;\r\n              deleteopp(oldData.opp_id);\r\n              dataDelete.splice(index, 1);\r\n              setData([...dataDelete]);\r\n              resolve();\r\n            }, 1000);\r\n          }),\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Opportunities;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}