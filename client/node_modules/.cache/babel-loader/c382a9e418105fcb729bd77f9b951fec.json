{"ast":null,"code":"var _jsxFileName = \"D:\\\\Github\\\\1\\\\FYP-test\\\\client\\\\src\\\\Pages\\\\Partners\\\\Partners.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport TableIcons from \"../../Components/MaterialTablesIcons/TablesIcons\";\nimport MaterialTable from \"material-table\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Partners() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [reload, setReload] = useState(false);\n\n  const verifyPartners = partner_id => {\n    console.log(partner_id);\n    Axios.put(\"http://localhost:3001/admin_verify_partner\", {\n      partner_id: partner_id\n    }).then(response => {\n      alert(\"Verified\");\n      setReload(!reload);\n    });\n  };\n\n  const updatepartners = (partners_id, contact_name, email, contact_number) => {\n    Axios.put(\"http://localhost:3001/admin_update_partner\", {\n      contact_name: contact_name,\n      contact_number: contact_number,\n      email: email,\n      partners_id: partners_id\n    }).then(response => {\n      alert(\"Updated\");\n      setReload(!reload);\n    });\n  };\n\n  const deletepartner = partners_id => {\n    Axios.put(\"http://localhost:3001/admin_delete_partner\", {\n      partners_id: partners_id\n    }).then(response => {\n      alert(\"Deleted\");\n      setReload(!reload);\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/admin_get_partners\").then(response => {\n      setData(response.data);\n    });\n  }, [reload]);\n  const [columns, setColumns] = useState([{\n    title: \"UEN\",\n    field: \"UEN\",\n    filtering: false,\n    editable: \"never\"\n  }, {\n    title: \"Company Name\",\n    field: \"company_name\",\n    editable: \"never\"\n  }, {\n    title: \"Contact Name\",\n    field: \"contact_name\",\n    filtering: false\n  }, {\n    title: \"Contact Email\",\n    field: \"email\",\n    filtering: false\n  }, {\n    title: \"Contact Number\",\n    field: \"contact_number\",\n    filtering: false\n  }, {\n    title: \"Industry\",\n    field: \"company_industry\",\n    editable: \"never\"\n  }, {\n    title: \"Company Overview\",\n    field: \"company_overview\",\n    filtering: false,\n    editable: \"never\"\n  }, {\n    title: \"Status\",\n    field: \"verified\",\n    filtering: false,\n    lookup: {\n      0: \"Not Verified\",\n      1: \"Verified\"\n    },\n    editable: \"never\"\n  }, {\n    title: \"Verify\",\n    field: \"partners_id\",\n    filtering: false,\n    editable: \"never\",\n    render: rowData => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          verifyPartners(rowData.partners_id);\n        },\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this);\n    }\n  }]);\n  return /*#__PURE__*/_jsxDEV(MaterialTable, {\n    icons: TableIcons,\n    title: \" Manage Partners\",\n    columns: columns,\n    data: data,\n    options: {\n      filtering: true\n    },\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataUpdate = [...data];\n          const index = oldData.tableData.id;\n          dataUpdate[index] = newData;\n          setData([...dataUpdate]);\n          updatepartners(newData.partners_id, newData.contact_name, newData.email, newData.contact_number);\n          resolve();\n        }, 1000);\n      }),\n      onRowDelete: oldData => new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const dataDelete = [...data];\n          const index = oldData.tableData.id;\n          deletepartner(oldData.partners_id);\n          dataDelete.splice(index, 1);\n          setData([...dataDelete]);\n          resolve();\n        }, 1000);\n      })\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Partners, \"B/n6cKl/SRNkSpI4Okh635FeFWE=\");\n\n_c = Partners;\nexport default Partners;\n\nvar _c;\n\n$RefreshReg$(_c, \"Partners\");","map":{"version":3,"names":["React","useState","useEffect","TableIcons","MaterialTable","Axios","moment","useNavigate","Partners","data","setData","reload","setReload","verifyPartners","partner_id","console","log","put","then","response","alert","updatepartners","partners_id","contact_name","email","contact_number","deletepartner","get","columns","setColumns","title","field","filtering","editable","lookup","render","rowData","onRowUpdate","newData","oldData","Promise","resolve","reject","setTimeout","dataUpdate","index","tableData","id","onRowDelete","dataDelete","splice"],"sources":["D:/Github/1/FYP-test/client/src/Pages/Partners/Partners.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TableIcons from \"../../Components/MaterialTablesIcons/TablesIcons\";\r\nimport MaterialTable from \"material-table\";\r\nimport Axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Partners() {\r\n  const [data, setData] = useState([]);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const verifyPartners = (partner_id) => {\r\n    console.log(partner_id);\r\n    Axios.put(\"http://localhost:3001/admin_verify_partner\", {\r\n      partner_id: partner_id,\r\n    }).then((response) => {\r\n      alert(\"Verified\");\r\n      setReload(!reload);\r\n    });\r\n  };\r\n\r\n  const updatepartners = (partners_id, contact_name, email, contact_number) => {\r\n    Axios.put(\"http://localhost:3001/admin_update_partner\", {\r\n      contact_name: contact_name,\r\n      contact_number: contact_number,\r\n      email: email,\r\n      partners_id: partners_id,\r\n    }).then((response) => {\r\n      alert(\"Updated\");\r\n      setReload(!reload);\r\n    });\r\n  };\r\n\r\n  const deletepartner = (partners_id) => {\r\n    Axios.put(\"http://localhost:3001/admin_delete_partner\", {\r\n      partners_id: partners_id,\r\n    }).then((response) => {\r\n      alert(\"Deleted\");\r\n      setReload(!reload);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/admin_get_partners\").then((response) => {\r\n      setData(response.data);\r\n    });\r\n  }, [reload]);\r\n\r\n  const [columns, setColumns] = useState([\r\n    { title: \"UEN\", field: \"UEN\", filtering: false, editable: \"never\" },\r\n    {\r\n      title: \"Company Name\",\r\n      field: \"company_name\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      title: \"Contact Name\",\r\n      field: \"contact_name\",\r\n      filtering: false,\r\n    },\r\n    {\r\n      title: \"Contact Email\",\r\n      field: \"email\",\r\n      filtering: false,\r\n    },\r\n    {\r\n      title: \"Contact Number\",\r\n      field: \"contact_number\",\r\n      filtering: false,\r\n    },\r\n    {\r\n      title: \"Industry\",\r\n      field: \"company_industry\",\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      title: \"Company Overview\",\r\n      field: \"company_overview\",\r\n      filtering: false,\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      field: \"verified\",\r\n      filtering: false,\r\n      lookup: { 0: \"Not Verified\", 1: \"Verified\" },\r\n      editable: \"never\",\r\n    },\r\n    {\r\n      title: \"Verify\",\r\n      field: \"partners_id\",\r\n      filtering: false,\r\n      editable: \"never\",\r\n\r\n      render: (rowData) => {\r\n        return (\r\n          <button\r\n            onClick={() => {\r\n              verifyPartners(rowData.partners_id);\r\n            }}\r\n          >\r\n            Verify\r\n          </button>\r\n        );\r\n      },\r\n    },\r\n  ]);\r\n\r\n  return (\r\n    <MaterialTable\r\n      icons={TableIcons}\r\n      title=\" Manage Partners\"\r\n      columns={columns}\r\n      data={data}\r\n      options={{\r\n        filtering: true,\r\n      }}\r\n      editable={{\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n              const dataUpdate = [...data];\r\n              const index = oldData.tableData.id;\r\n              dataUpdate[index] = newData;\r\n\r\n              setData([...dataUpdate]);\r\n              updatepartners(\r\n                newData.partners_id,\r\n                newData.contact_name,\r\n                newData.email,\r\n                newData.contact_number\r\n              );\r\n              resolve();\r\n            }, 1000);\r\n          }),\r\n        onRowDelete: (oldData) =>\r\n          new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n              const dataDelete = [...data];\r\n              const index = oldData.tableData.id;\r\n              deletepartner(oldData.partners_id);\r\n              dataDelete.splice(index, 1);\r\n              setData([...dataDelete]);\r\n              resolve();\r\n            }, 1000);\r\n          }),\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Partners;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}